Version 1
SubGoalCombiner SGC_AND
INITSECTION
DB_Dialogs(S_WLD_PriestConqueringGod_001_2c9b967d-fbaa-43c0-9461-3e1598b5fbe1,S_WLD_PriestConqueringGod_002_d4a3b125-2b03-4fe8-bab2-7e485390bd49, 
					S_FOR_PriestConqueringGod_003_21507c79-dfea-421a-b149-4b5646d3941d,DIALOGRESOURCEGUID_FOR_PriestOfTheConqueringGod_Cultists_1dbae2f3-7df2-ec4a-3470-efa537d7c00f);
DB_FOR_PriestsConqueringGod_Novice((CHARACTER)S_WLD_PriestConqueringGod_001_2c9b967d-fbaa-43c0-9461-3e1598b5fbe1,(DIALOGRESOURCE)DIALOGRESOURCEGUID_FOR_PriestConqueringGod_001_152c54d7-b825-85f5-16ee-ddba44cb6742, (TRIGGER)S_FOR_PriestsOfTheConqueringGod_OwlbearCavePoint_001_38e5cc37-7547-4978-b7a0-44e1c5fd6c8a, (TRIGGER)S_GOB_PriestsOfTheConqueringGod_GoblinCampPoint_001_8cf1639e-8c20-4c8e-81a9-7ab75f0edfcf, (TRIGGER)S_MOO_Novice1Point_9093bc9d-36a5-457d-b501-bb5f45ae978b);
DB_FOR_PriestsConqueringGod_Novice(S_WLD_PriestConqueringGod_002_d4a3b125-2b03-4fe8-bab2-7e485390bd49,DIALOGRESOURCEGUID_FOR_PriestConqueringGod_002_7e7aace0-eb99-8abb-57d4-315b0fd10a74,S_FOR_PriestsOfTheConqueringGod_OwlbearCavePoint_002_2196f2ff-bd77-46c3-8213-b9e6dc496e42,S_GOB_PriestsOfTheConqueringGod_GoblinCampPoint_002_5277cd72-d223-4f6c-a8b6-f35c685f0309,S_MOO_Novice2Point_688dac1f-762f-45d1-95c9-6187fd17296f);

DB_PriestsConqueringGod((CHARACTER)S_WLD_PriestConqueringGod_003_21507c79-dfea-421a-b149-4b5646d3941d);

DB_DefeatedStateFlag(S_FOR_PriestConqueringGod_001_2c9b967d-fbaa-43c0-9461-3e1598b5fbe1,(FLAG)FOR_PriestConqueringGod_001_Defeated_e1e79ef1-9441-03bf-e24f-0af5e61a488d);
DB_DefeatedStateFlag(S_FOR_PriestConqueringGod_002_d4a3b125-2b03-4fe8-bab2-7e485390bd49,(FLAG)FOR_PriestConqueringGod_002_Defeated_bc3a78ff-2665-575d-9b61-68bb383c45a6);

DB_GlobalFlagReactionAfterDialog(WLD_PriestsConqueringGod_LeaveLevel_3ec19923-caf7-4aa6-b04a-a0c84e709dca,FOR_PriestOfTheConqueringGod_Cultist001_InCave_69f7554f-8b4c-9e7d-5f0e-5785139f6709);
DB_GlobalFlagReactionAfterDialog(WLD_PriestsConqueringGod_GoToGoblinCamp_108030df-f5f1-e7da-dbd6-0d92e0e32189,FOR_PriestOfTheConqueringGod_Cultist001_InCave_69f7554f-8b4c-9e7d-5f0e-5785139f6709);
DB_GlobalFlagReactionAfterDialog(WLD_PriestsConqueringGod_LeaveLevel_3ec19923-caf7-4aa6-b04a-a0c84e709dca,FOR_PriestOfTheConqueringGod_Cultist002_InCave_4a0bfb85-144f-af28-d3dd-056c5a764cae);
DB_GlobalFlagReactionAfterDialog(WLD_PriestsConqueringGod_GoToGoblinCamp_108030df-f5f1-e7da-dbd6-0d92e0e32189,FOR_PriestOfTheConqueringGod_Cultist002_InCave_4a0bfb85-144f-af28-d3dd-056c5a764cae);
//DB_GlobalFlagReactionAfterDialog(WLD_PriestsConqueringGod_LeaveLevel_3ec19923-caf7-4aa6-b04a-a0c84e709dca,DIALOGRESOURCEGUID_FOR_PriestOfTheConqueringGod_Cultists_1dbae2f3-7df2-ec4a-3470-efa537d7c00f);
//DB_GlobalFlagReactionAfterDialog(WLD_PriestsConqueringGod_GoToGoblinCamp_108030df-f5f1-e7da-dbd6-0d92e0e32189,DIALOGRESOURCEGUID_FOR_PriestOfTheConqueringGod_Cultists_1dbae2f3-7df2-ec4a-3470-efa537d7c00f);

DB_GLO_CharacterCorpseDialog(S_FOR_PriestConqueringGod_002_d4a3b125-2b03-4fe8-bab2-7e485390bd49,FOR_PriestOfTheConqueringGod_Cultist002_Dead_f6bd4df9-8eaa-0c8f-9857-6e2d6325e204);
DB_GLO_CharacterCorpseDialog(S_FOR_PriestConqueringGod_003_21507c79-dfea-421a-b149-4b5646d3941d,FOR_PriestConqueringGod_003_Dead_33fac5ef-7e47-f946-ae09-ddb7c9d7c8cb);

DB_KnowledgeCheckTrigger_AD("FOR_PriestsOfTheConqueringGods_OwlBearPrintsBox", S_FOR_PriestsOfTheConqueringGods_OwlBearPrintsBox_9e178b03-3f45-4a3b-a229-2ba530c26b21,"Survival",(DIFFICULTYCLASS)DC_Legacy_5_6e246ccd-6149-4ec4-a325-034309a18138,(DIALOGRESOURCE)FOR_PriestsOfTheConqueringGods_VB_OwlBearPrints_c7a1e827-180c-1c62-75fb-663af5f5f269,WLD_PriestsOfTheConqueringGods_OwlBearPrints_PassedCheck_c15ccdf2-5143-c0c3-5453-f22af9d15eb4);

PROC_TriggerRegisterForPlayers(S_WLD_PriestsOfTheConqueringGod_DiscoverVbTrigger_85b43676-8cef-4622-8c33-0462c9974ee9);
PROC_TriggerRegisterForPlayers(S_FOR_PriestsOfTheConqueringGod_PriestLeaveTrigger_bf4cd2a5-42e9-423f-84d2-d1843d89f224);
PROC_DeclareCounter("FOR_PriestsOfTheConqueringGod_PriestLeaveTrigger_Counter");
SetHitpointsPercentage(S_WLD_PriestConqueringGod_003_21507c79-dfea-421a-b149-4b5646d3941d,50.0);
PROC_CharacterDisableAllCrimes(S_WLD_PriestConqueringGod_003_21507c79-dfea-421a-b149-4b5646d3941d, 1);
SetCanTrade(S_WLD_PriestConqueringGod_003_21507c79-dfea-421a-b149-4b5646d3941d, 0);
DB_NoLowAttitudeDialog(S_WLD_PriestConqueringGod_003_21507c79-dfea-421a-b149-4b5646d3941d);
ApplyStatus(S_FOR_PriestConqueringGod_003_21507c79-dfea-421a-b149-4b5646d3941d,"UNCONSCIOUS",-1.0,1);

SetCanTrade(S_FOR_PriestConqueringGod_001_2c9b967d-fbaa-43c0-9461-3e1598b5fbe1,0);
SetCanTrade(S_FOR_PriestConqueringGod_002_d4a3b125-2b03-4fe8-bab2-7e485390bd49,0);

DB_SpotPlayers(S_FOR_PriestConqueringGod_001_2c9b967d-fbaa-43c0-9461-3e1598b5fbe1,"WLD_PriestOfTheConqueringGod_SpotPlayer",NULL_00000000-0000-0000-0000-000000000000,FOR_PriestConqueringGod_StopSpotter_608d682f-863d-4b90-962b-b50f706beb0e);
DB_SpotPlayers_CustomRadius(S_FOR_PriestConqueringGod_001_2c9b967d-fbaa-43c0-9461-3e1598b5fbe1,"WLD_PriestOfTheConqueringGod_SpotPlayer",8.0);

// set up spotting in GOB camp for case when priests left hostile in FOR and transit to GOB camp
SetFlag(GOB_PriestConqueringGod_StopSpottingHostileAtGoblinCamp_99af10e7-b603-40cd-859e-6b0795e1d668, NULL_00000000-0000-0000-0000-000000000000);
DB_SpotPlayers(S_FOR_PriestConqueringGod_001_2c9b967d-fbaa-43c0-9461-3e1598b5fbe1,"GOB_PriestOfTheConqueringGod_SpotHostilePlayer",
    GOB_PriestConqueringGod_StartSpottingHostileAtGoblinCamp_0a390d48-14c3-446f-82b2-04c126eecd5d,
    GOB_PriestConqueringGod_StopSpottingHostileAtGoblinCamp_99af10e7-b603-40cd-859e-6b0795e1d668);
DB_SpotPlayers(S_FOR_PriestConqueringGod_002_d4a3b125-2b03-4fe8-bab2-7e485390bd49,"GOB_PriestOfTheConqueringGod_SpotHostilePlayer",
    GOB_PriestConqueringGod_StartSpottingHostileAtGoblinCamp_0a390d48-14c3-446f-82b2-04c126eecd5d,
    GOB_PriestConqueringGod_StopSpottingHostileAtGoblinCamp_99af10e7-b603-40cd-859e-6b0795e1d668);
DB_SpotPlayers_Continuous(S_FOR_PriestConqueringGod_001_2c9b967d-fbaa-43c0-9461-3e1598b5fbe1,"GOB_PriestOfTheConqueringGod_SpotHostilePlayer");
DB_SpotPlayers_Continuous(S_FOR_PriestConqueringGod_002_d4a3b125-2b03-4fe8-bab2-7e485390bd49,"GOB_PriestOfTheConqueringGod_SpotHostilePlayer");
DB_SpotPlayers_IgnoreCombat(S_FOR_PriestConqueringGod_001_2c9b967d-fbaa-43c0-9461-3e1598b5fbe1,"GOB_PriestOfTheConqueringGod_SpotHostilePlayer");
DB_SpotPlayers_IgnoreCombat(S_FOR_PriestConqueringGod_002_d4a3b125-2b03-4fe8-bab2-7e485390bd49,"GOB_PriestOfTheConqueringGod_SpotHostilePlayer");
DB_SpotPlayers_TargetIgnoreCantTalk(S_FOR_PriestConqueringGod_001_2c9b967d-fbaa-43c0-9461-3e1598b5fbe1,"GOB_PriestOfTheConqueringGod_SpotHostilePlayer");
DB_SpotPlayers_TargetIgnoreCantTalk(S_FOR_PriestConqueringGod_002_d4a3b125-2b03-4fe8-bab2-7e485390bd49,"GOB_PriestOfTheConqueringGod_SpotHostilePlayer");

DB_DoNotFaceDialog(S_FOR_PriestConqueringGod_001_2c9b967d-fbaa-43c0-9461-3e1598b5fbe1, FOR_PriestsOfTheConqueringGod_AD_Cultists_c5f297c9-1393-221e-f504-53b0146e4177);
DB_DoNotFaceDialog(S_FOR_PriestConqueringGod_002_d4a3b125-2b03-4fe8-bab2-7e485390bd49, FOR_PriestsOfTheConqueringGod_AD_Cultists_c5f297c9-1393-221e-f504-53b0146e4177);
KBSECTION
//REGION Init
IF
DB_FOR_PriestsConqueringGod_Novice(_Novice,_,_,_,_)
THEN
DB_PriestsConqueringGod(_Novice);
DB_NoLowAttitudeDialog(_Novice);

IF
DB_PriestsConqueringGod(_Novice)
THEN
DB_SceneManager(_Novice,"FOR_PriestsOfTheConqueringGods_IntroDialog");
DB_SceneAllowAllDisturbances("FOR_PriestsOfTheConqueringGods_IntroDialog");

QRY
QRY_CorpseLooting_BlockMakeOwned(_Priest)
AND
DB_PriestsConqueringGod(_Priest)
THEN
DB_NOOP(1);

IF
AttackedBy(_Priest,_PartyMember,_,_,_,_,_)
AND
NOT DB_FOR_PriestsConqueringGodPermaHostileOnAttacked(1)
AND
DB_PartyMembers((CHARACTER)_PartyMember)
AND
DB_FOR_PriestsConqueringGod_Novice((CHARACTER)_Priest,_,_,_,_)
AND
NOT DB_FOR_PriestsConqueringGodArriveInGOB(1)
AND
QRY_FOR_PriestsConqueringGod_OwlbearCaveInProgress()
THEN
DB_FOR_PriestsConqueringGodPermaHostileOnAttacked(1);
PROC_SetRelationToPlayers((FACTION)WLD_FOR_CultistsOfTheConqueringGod_d3c4f994-2c6b-7b06-09ed-f184bb1b45c1,0);

IF
Died(_Priest)
AND
DB_PriestsConqueringGod(_Priest)
THEN
NOT DB_PriestsConqueringGod(_Priest);

IF
DB_GlobalFlag(FOR_PriestConqueringGod_001_Defeated_e1e79ef1-9441-03bf-e24f-0af5e61a488d)
AND
DB_GlobalFlag(FOR_PriestConqueringGod_002_Defeated_bc3a78ff-2665-575d-9b61-68bb383c45a6)
THEN
Die(S_WLD_PriestConqueringGod_003_21507c79-dfea-421a-b149-4b5646d3941d,DEATHTYPE.Lifetime,1);

IF
EnteredTrigger(_Player,S_WLD_PriestsOfTheConqueringGod_DiscoverVbTrigger_85b43676-8cef-4622-8c33-0462c9974ee9)
AND
NOT DB_GlobalFlag((FLAG)WLD_PriestsConqueringGod_GoToGoblinCamp_108030df-f5f1-e7da-dbd6-0d92e0e32189) // flagType: Global
AND
DB_PriestsConqueringGod(_)
AND
QRY_OncePerUserAndNearbyPlayers(_Player,"WLD_PriestsOfTheConqueringGod_DiscoverVbTrigger_Once")
THEN
StartVoiceBark((VOICEBARKRESOURCE)FOR_PriestsOfTheConqueringGod_VB_DiscoverPriests_e8448855-59c7-a461-4100-3f87feb70969,_Player);

IF
EnteredTrigger(_Player,S_WLD_PriestsOfTheConqueringGod_DiscoverVbTrigger_85b43676-8cef-4622-8c33-0462c9974ee9)
AND
DB_PriestsConqueringGod(_)
THEN
DB_FOR_PriestsOfTheConqueringGod_SawThePriests(1);

IF
EnteredTrigger(_Player,S_FOR_PriestsOfTheConqueringGod_PriestLeaveTrigger_bf4cd2a5-42e9-423f-84d2-d1843d89f224)
AND
DB_Players(_Player)
THEN
PROC_IncreaseCounter("FOR_PriestsOfTheConqueringGod_PriestLeaveTrigger_Counter");

IF
LeftTrigger(_Player,S_FOR_PriestsOfTheConqueringGod_PriestLeaveTrigger_bf4cd2a5-42e9-423f-84d2-d1843d89f224)
AND
DB_Players(_Player)
THEN
PROC_DecreaseCounter("FOR_PriestsOfTheConqueringGod_PriestLeaveTrigger_Counter");

IF
LeftTrigger(_Player,S_FOR_PriestsOfTheConqueringGod_PriestLeaveTrigger_bf4cd2a5-42e9-423f-84d2-d1843d89f224)
AND
DB_FOR_PriestsOfTheConqueringGod_SawThePriests(1)
AND
DB_GlobalCounter("FOR_PriestsOfTheConqueringGod_PriestLeaveTrigger_Counter",0)
AND
NOT DB_GlobalFlag((FLAG)FOR_PriestsConqueringGod_Global_GoToOwlbearCave_8ec1f489-609b-a15d-56d7-b16ffb2f9a2f) // flagType: Global
THEN
SetFlag((FLAG)WLD_PriestsConqueringGod_GoToGoblinCamp_108030df-f5f1-e7da-dbd6-0d92e0e32189, NULL_00000000-0000-0000-0000-000000000000, 0); // flagType: Global
PROC_FOR_PriestsConqueringGod_GoToGoblinCamp();
NOT DB_FOR_PriestsOfTheConqueringGod_SawThePriests(1);

//END_REGION


//REGION Debug
//Debug start combat
IF
TextEvent("FOR_TrueSouls_StartCombat")
THEN
PROC_ForceStopDialog(S_FOR_PriestConqueringGod_001_2c9b967d-fbaa-43c0-9461-3e1598b5fbe1);
PROC_ForceStopDialog(S_FOR_PriestConqueringGod_002_d4a3b125-2b03-4fe8-bab2-7e485390bd49);
Die(S_FOR_PriestConqueringGod_003_21507c79-dfea-421a-b149-4b5646d3941d,DEATHTYPE.DoT,NULL_00000000-0000-0000-0000-000000000000,1,1);
PROC_SetRelationToPlayers((FACTION)WLD_FOR_CultistsOfTheConqueringGod_d3c4f994-2c6b-7b06-09ed-f184bb1b45c1,0);

IF
FlagSet((FLAG)Debug_FOR_PriestsToOwlbear_a3878ceb-d7ec-42c4-8048-c08c9517c82d,NULL_00000000-0000-0000-0000-000000000000,_)
AND
DB_FOR_PriestsConqueringGod_Novice(_Priest,_,_Trigger,_,_)
THEN
SetFlag(FOR_PriestsConqueringGod_Global_GoToOwlbearCave_8ec1f489-609b-a15d-56d7-b16ffb2f9a2f,NULL_00000000-0000-0000-0000-000000000000,0);
Die(S_WLD_PriestConqueringGod_003_21507c79-dfea-421a-b149-4b5646d3941d,DEATHTYPE.Lifetime,1);
TeleportTo(_Priest,_Trigger);
SetFlag((FLAG)FOR_PriestConqueringGod_InOwlbearCave_80f06963-ea5c-4e8f-a7bb-b98d6ad8a764, _Priest);
DB_PriestsConqueringGod_QueuePriestsDie(1);
//END_REGION

//REGION Handling players messing up with the intro dialog by making the cultist perma hostile.
PROC
PROC_SceneInterrupted(_Priest,_PartyMember,"FOR_PriestsOfTheConqueringGods_IntroDialog","Attacked")
THEN
PROC_SceneOver("FOR_PriestsOfTheConqueringGods_IntroDialog");
PROC_SetRelationToPlayers((FACTION)WLD_FOR_CultistsOfTheConqueringGod_d3c4f994-2c6b-7b06-09ed-f184bb1b45c1,0);
PROC_FOR_PriestsConqueringGod_GoToGoblinCamp();

IF
DialogStarted((DIALOGRESOURCE)FOR_PriestOfTheConqueringGod_Cultists_1dbae2f3-7df2-ec4a-3470-efa537d7c00f,_Id)
THEN
PROC_SceneOver("FOR_PriestsOfTheConqueringGods_IntroDialog");

IF
DialogEnded((DIALOGRESOURCE)FOR_PriestOfTheConqueringGod_Cultists_1dbae2f3-7df2-ec4a-3470-efa537d7c00f,_Id)
AND
DB_PermaDefeated(S_WLD_PriestConqueringGod_003_21507c79-dfea-421a-b149-4b5646d3941d)
AND
NOT DB_GlobalFLag((FLAG)FOR_PriestsConqueringGod_Global_GoToOwlbearCave_8ec1f489-609b-a15d-56d7-b16ffb2f9a2f)
AND
NOT DB_GlobalFLag((FLAG)FOR_DeathOfAtrueSoul_RemoveCultist_772e964c-5af4-788a-4098-7a42fe8ff9af)
THEN
PROC_SetRelationToPlayers((FACTION)WLD_FOR_CultistsOfTheConqueringGod_d3c4f994-2c6b-7b06-09ed-f184bb1b45c1,0);
//END_REGION

//REGION Tracking players' hostility to the priests; if they enter combat with each other, priests turn perma hostile.
IF
DB_Is_InCombat(_Priest,_CombatID)
AND
NOT DB_FOR_PriestsConqueringGodArriveInGOB(1)
AND
NOT DB_FOR_PlayersFoughtPriestsConqueringGod(1)
AND
DB_PriestsConqueringGod((CHARACTER)_Priest)
AND
DB_PartyMembers(_PartyMember)
AND
DB_Is_InCombat(_PartyMember,_CombatID)
AND
QRY_IsEnemy(_PartyMember,_Priest)
AND
QRY_OnlyOnce("FOR_TrackingPlayersFightingPriests_OnlyOnce")
THEN
DB_FOR_PlayersFoughtPriestsConqueringGod(1);
PROC_SetRelationToPlayers((FACTION)WLD_FOR_CultistsOfTheConqueringGod_d3c4f994-2c6b-7b06-09ed-f184bb1b45c1,0);

//In case players fight the cultists before they go to the owlbear cave, they move to the goblin camp
IF
DB_FOR_PlayersFoughtPriestsConqueringGod(1)
AND
NOT DB_GlobalFlag((FLAG)FOR_PriestsConqueringGod_Global_GoToOwlbearCave_8ec1f489-609b-a15d-56d7-b16ffb2f9a2f)
AND
DB_FOR_PriestsConqueringGod_Novice(_Priest,_,_,_,_)
THEN
PROC_FOR_PriestsConqueringGod_GoToGoblinCamp();
//END_REGION

//REGION Priests Leave
//Leave Level during main dialog
IF
FlagSet((FLAG)FOR_DeathOfAtrueSoul_RemoveCultist_772e964c-5af4-788a-4098-7a42fe8ff9af,_,_DialogInst)
AND
GetFlag(WLD_PriestsConqueringGod_LeaveLevel_3ec19923-caf7-4aa6-b04a-a0c84e709dca,NULL_00000000-0000-0000-0000-000000000000,1)
AND
DB_FOR_PriestsConqueringGod_Novice(_Novice,_,_,_,_)
AND
DialogRemoveActorFromDialog(_DialogInst,_Novice,1)
THEN
PROC_DisappearOutOfSightTo(_Novice,S_FOR_Owlbear_CaveEntrance_70429e74-b08b-4190-9104-c7cd4053aedb,"Walk",1,"");

//Leave Level
PROC
PROC_GlobalFlagReactionAfterDialog(WLD_PriestsConqueringGod_LeaveLevel_3ec19923-caf7-4aa6-b04a-a0c84e709dca)
AND
DB_PriestsConqueringGod(_Priest)
AND
NOT DB_Defeated(_Priest)
THEN
PROC_DisappearOutOfSightTo(_Priest,S_FOR_Owlbear_CaveEntrance_70429e74-b08b-4190-9104-c7cd4053aedb,"Walk",1,"");

//Leave to Goblin Camp
PROC
PROC_GlobalFlagReactionAfterDialog(WLD_PriestsConqueringGod_GoToGoblinCamp_108030df-f5f1-e7da-dbd6-0d92e0e32189)
THEN
PROC_FOR_PriestsConqueringGod_GoToGoblinCamp();

PROC
PROC_FOR_PriestsConqueringGod_GoToGoblinCamp()
THEN
Die(S_WLD_PriestConqueringGod_003_21507c79-dfea-421a-b149-4b5646d3941d,DEATHTYPE.DoT,1);
SetFlag((FLAG)FOR_PriestConqueringGod_StopSpotter_608d682f-863d-4b90-962b-b50f706beb0e,NULL_00000000-0000-0000-0000-000000000000);

PROC
PROC_FOR_PriestsConqueringGod_GoToGoblinCamp()
AND
QRY_OnlyOnce("FOR_PriestsConqueringGod_GoToGoblinCamp_OnlyOnce")
AND
DB_PriestsConqueringGod((CHARACTER)_Priest)
AND
NOT DB_Defeated(_Priest)
THEN
PROC_RemoveDialog(_Priest);
PROC_FOR_PriestsConqueringGod_GoToGoblinCamp_Disappear(_Priest);

PROC
PROC_FOR_PriestsConqueringGod_GoToGoblinCamp_Disappear((CHARACTER)_Priest)
AND
IsInTrigger(_Priest,S_FOR_OwlBear_SUB_1fa871e1-4979-4259-9e5e-5017b06d077f,1)
THEN
PROC_CharacterMoveTo(_Priest,S_FOR_Owlbear_CaveExit_a68560bd-ab8e-4b32-88c7-344656e65ac4,"Run","WLD_PriestsConqueringGod_CheckGoblinCampAvailable");

PROC
PROC_FOR_PriestsConqueringGod_GoToGoblinCamp_Disappear((CHARACTER)_Priest)
AND
IsInTrigger(_Priest,S_FOR_OwlBear_SUB_1fa871e1-4979-4259-9e5e-5017b06d077f,0)
THEN
PROC_DisappearOutOfSight(_Priest,"Run",0,"WLD_PriestsConqueringGod_CheckGoblinCampAvailable");

PROC
PROC_SpotPlayers_Spotted(_Priest,"WLD_PriestOfTheConqueringGod_SpotPlayer",_Player)
AND
QRY_SpeakerIsAvailableAndInDialogRange(S_WLD_PriestConqueringGod_002_d4a3b125-2b03-4fe8-bab2-7e485390bd49,S_WLD_PriestConqueringGod_001_2c9b967d-fbaa-43c0-9461-3e1598b5fbe1)
AND
QRY_StartDialog(DIALOGRESOURCEGUID_FOR_PriestOfTheConqueringGod_Cultists_1dbae2f3-7df2-ec4a-3470-efa537d7c00f,S_WLD_PriestConqueringGod_001_2c9b967d-fbaa-43c0-9461-3e1598b5fbe1,
					S_WLD_PriestConqueringGod_002_d4a3b125-2b03-4fe8-bab2-7e485390bd49,S_FOR_PriestConqueringGod_003_21507c79-dfea-421a-b149-4b5646d3941d,_Player)
THEN
DB_NOOP(1);

//END_REGION


//REGION Dialog Switches for the Owlbear event
//Go to cave during main dialog
IF
FlagSet((FLAG)FOR_DeathOfAtrueSoul_RemoveCultist_772e964c-5af4-788a-4098-7a42fe8ff9af,_,_DialogInst)
AND
GetFlag((FLAG)FOR_PriestsConqueringGod_Global_GoToOwlbearCave_8ec1f489-609b-a15d-56d7-b16ffb2f9a2f,NULL_00000000-0000-0000-0000-000000000000,1)
AND
DB_FOR_PriestsConqueringGod_Novice(_Novice,_,_,_,_)
AND
DialogRemoveActorFromDialog(_DialogInst,_Novice,1)
THEN
DB_NOOP(1);

IF
FlagSet(FOR_PriestConqueringGod_InOwlbearCave_80f06963-ea5c-4e8f-a7bb-b98d6ad8a764, (CHARACTER)_Priest, _)
AND
DB_PriestsConqueringGod(_Priest)
THEN
ClearFlag((FLAG)FOR_PriestConqueringGod_AtCaveEntrance_05807f2c-e34d-4ee5-8a70-7fd1578cefab,_Priest);

IF
DialogEnded((DIALOGRESOURCE)FOR_PriestOfTheConqueringGod_Cultists_1dbae2f3-7df2-ec4a-3470-efa537d7c00f,_)
AND
DB_GlobalFlag((FLAG)FOR_PriestsConqueringGod_Global_GoToOwlbearCave_8ec1f489-609b-a15d-56d7-b16ffb2f9a2f)
AND
DB_PriestsConqueringGod(_Priest)
THEN
PROC_RemoveDialog(_Priest);
SetFlag((FLAG)FOR_PriestsConqueringGod_State_ProceedCave_9bf2938f-2498-4d52-ac55-7c69dced03a9,NULL_00000000-0000-0000-0000-000000000000);

IF
FlagSet(FOR_PriestConqueringGod_AtCaveEntrance_05807f2c-e34d-4ee5-8a70-7fd1578cefab,S_FOR_PriestConqueringGod_001_2c9b967d-fbaa-43c0-9461-3e1598b5fbe1,_)
THEN
DB_Dialogs(S_FOR_PriestConqueringGod_001_2c9b967d-fbaa-43c0-9461-3e1598b5fbe1,FOR_PriestOfTheConqueringGod_Cultist001_InCave_69f7554f-8b4c-9e7d-5f0e-5785139f6709);

IF
FlagSet(FOR_PriestConqueringGod_AtCaveEntrance_05807f2c-e34d-4ee5-8a70-7fd1578cefab,S_FOR_PriestConqueringGod_002_d4a3b125-2b03-4fe8-bab2-7e485390bd49,_)
THEN
DB_Dialogs(S_FOR_PriestConqueringGod_002_d4a3b125-2b03-4fe8-bab2-7e485390bd49,NULL_00000000-0000-0000-0000-000000000000,FOR_PriestOfTheConqueringGod_Cultist002_InCave_4a0bfb85-144f-af28-d3dd-056c5a764cae);

IF
Died(S_FOR_PriestConqueringGod_003_21507c79-dfea-421a-b149-4b5646d3941d)
AND
DB_Players(_Player)
AND
GetFlag((FLAG)FOR_DeathOfATrueSoul_TalkedToCultists_0f066608-b0d5-cfd2-7ac9-d02c71fdc204,_Player,1)
AND
NOT DB_GlobalFlag((FLAG)FOR_DeathOfATrueSoul_PostSceneDone_ee66cc7e-cf79-631a-a836-6a2aa03cd199)
AND
DB_Sees(_Player,(CHARACTER)S_FOR_PriestConqueringGod_003_21507c79-dfea-421a-b149-4b5646d3941d)
THEN
DB_FOR_DeathOfATrueSoul_PostScene_Queued(_Player);

IF
DB_FOR_DeathOfATrueSoul_PostScene_Queued(_Player)
AND
NOT DB_Is_InCombat(_Player,_)
AND
NOT DB_DialogPlayers(_,_Player,_)
THEN
StartVoiceBark(FOR_PriestsOfTheConqueringGod_VB_PostScene_fe56bc89-584f-b93b-d811-61b32399a34b,_Player);
NOT DB_FOR_DeathOfATrueSoul_PostScene_Queued(_Player);

IF
Died(S_WLD_PriestConqueringGod_001_2c9b967d-fbaa-43c0-9461-3e1598b5fbe1)
AND
DB_GlobalFlag((FLAG)FOR_PriestsConqueringGod_Global_GoToOwlbearCave_8ec1f489-609b-a15d-56d7-b16ffb2f9a2f)
THEN
PROC_RemoveDialog(S_FOR_PriestConqueringGod_002_d4a3b125-2b03-4fe8-bab2-7e485390bd49);
DB_Dialogs(S_FOR_PriestConqueringGod_002_d4a3b125-2b03-4fe8-bab2-7e485390bd49,NULL_00000000-0000-0000-0000-000000000000,FOR_PriestOfTheConqueringGod_Cultist002_InCave_4a0bfb85-144f-af28-d3dd-056c5a764cae);

IF
Died(S_FOR_PriestConqueringGod_002_d4a3b125-2b03-4fe8-bab2-7e485390bd49)
AND
DB_GlobalFlag((FLAG)FOR_PriestsConqueringGod_Global_GoToOwlbearCave_8ec1f489-609b-a15d-56d7-b16ffb2f9a2f)
THEN
PROC_RemoveDialog(S_FOR_PriestConqueringGod_001_d4a3b125-2b03-4fe8-bab2-7e485390bd49);
DB_Dialogs(S_FOR_PriestConqueringGod_001_2c9b967d-fbaa-43c0-9461-3e1598b5fbe1,FOR_PriestOfTheConqueringGod_Cultist001_InCave_69f7554f-8b4c-9e7d-5f0e-5785139f6709);

//END_REGION


//REGION Priests go to Owlbear Cave
IF
DialogEnded(FOR_PriestOfTheConqueringGod_Cultist001_InCave_69f7554f-8b4c-9e7d-5f0e-5785139f6709,_)
THEN
PROC_FOR_PriestsMoveToOwlbearState();

IF
EnteredTrigger(_Player,S_FOR_OwlBear_SUB_1fa871e1-4979-4259-9e5e-5017b06d077f)
AND
DB_Players(_Player)
THEN
PROC_FOR_PriestsMoveToOwlbearState();

PROC
PROC_FOR_PriestsMoveToOwlbearState()
AND
DB_GlobalFlag((FLAG)FOR_PriestsConqueringGod_State_ProceedCave_9bf2938f-2498-4d52-ac55-7c69dced03a9)
THEN
PROC_RemoveDialog(S_FOR_PriestConqueringGod_001_d4a3b125-2b03-4fe8-bab2-7e485390bd49);
PROC_RemoveDialog(S_FOR_PriestConqueringGod_002_d4a3b125-2b03-4fe8-bab2-7e485390bd49);
DB_Dialogs(S_FOR_PriestConqueringGod_002_d4a3b125-2b03-4fe8-bab2-7e485390bd49,NULL_00000000-0000-0000-0000-000000000000,FOR_PriestOfTheConqueringGod_Cultist002_InCave_4a0bfb85-144f-af28-d3dd-056c5a764cae);
DB_Dialogs(S_FOR_PriestConqueringGod_001_2c9b967d-fbaa-43c0-9461-3e1598b5fbe1,FOR_PriestOfTheConqueringGod_Cultist001_InCave_69f7554f-8b4c-9e7d-5f0e-5785139f6709);

PROC
PROC_FOR_PriestsMoveToOwlbearState()
AND
DB_GlobalFlag((FLAG)FOR_PriestsConqueringGod_State_ProceedCave_9bf2938f-2498-4d52-ac55-7c69dced03a9)
AND
DB_PriestsConqueringGod((CHARACTER)_Priest)
THEN
SetHasDialog(_Priest,0);
Use(_Priest,S_FOR_Owlbear_CaveEntrance_70429e74-b08b-4190-9104-c7cd4053aedb,"FOR_PriestConqueringGod_EnteredCave");

PROC
PROC_FOR_PriestsMoveToOwlbearState()
AND
DB_GlobalFlag((FLAG)FOR_PriestsConqueringGod_State_ProceedCave_9bf2938f-2498-4d52-ac55-7c69dced03a9)
THEN
ClearFlag((FLAG)FOR_PriestsConqueringGod_State_ProceedCave_9bf2938f-2498-4d52-ac55-7c69dced03a9,NULL_00000000-0000-0000-0000-000000000000);

IF
EntityEvent(_Priest,"FOR_PriestConqueringGod_EnteredCave")
THEN
SetHasDialog(_Priest,1);
SetFlag((FLAG)FOR_PriestConqueringGod_InOwlbearCave_80f06963-ea5c-4e8f-a7bb-b98d6ad8a764, _Priest);

//END_REGION


//REGION Player Speaks to Priests, then leaves cave - Priests die
IF
DialogStarted(FOR_PriestOfTheConqueringGod_Cultist001_InCave_69f7554f-8b4c-9e7d-5f0e-5785139f6709,_)
AND
QRY_FOR_PriestsConqueringGod_OwlbearCaveInProgress()
THEN
DB_PriestsConqueringGod_QueuePriestsDie(1);

QRY
QRY_FOR_PriestsConqueringGod_OwlbearCaveInProgress()
AND
DB_GlobalFlag((FLAG)FOR_PriestsConqueringGod_Global_GoToOwlbearCave_8ec1f489-609b-a15d-56d7-b16ffb2f9a2f) // flagType: Global
AND
NOT DB_GlobalFlag((FLAG)WLD_PriestsConqueringGod_GoToGoblinCamp_108030df-f5f1-e7da-dbd6-0d92e0e32189) // flagType: Global
AND
NOT DB_GlobalFlag((FLAG)WLD_PriestsConqueringGod_LeaveLevel_3ec19923-caf7-4aa6-b04a-a0c84e709dca) // flagType: Global
AND
NOT DB_GlobalFlag((FLAG)FOR_Owlbear_State_PermaDefeated_a2cd3c0f-95be-7155-d67c-edbdb2ca1104) // flagType: Global
THEN
DB_NOOP(1);

IF
DB_GlobalFlag((FLAG)FOR_Owlbear_State_PermaDefeated_a2cd3c0f-95be-7155-d67c-edbdb2ca1104) // flagType: Global
AND
NOT DB_FOR_OwlbearDad(_)
THEN
NOT DB_PriestsConqueringGod_QueuePriestsDie(1);

IF
DB_GlobalFlag((FLAG)WLD_PriestsConqueringGod_GoToGoblinCamp_108030df-f5f1-e7da-dbd6-0d92e0e32189) // flagType: Global
THEN
NOT DB_PriestsConqueringGod_QueuePriestsDie(1);

IF
DB_GlobalFlag((FLAG)WLD_PriestsConqueringGod_LeaveLevel_3ec19923-caf7-4aa6-b04a-a0c84e709dca) // flagType: Global
THEN
NOT DB_PriestsConqueringGod_QueuePriestsDie(1);

PROC
PROC_CounterDecreased("FOR_OwlBear_LeaveAreaTrigger_Counter",0)
AND
DB_PriestsConqueringGod_QueuePriestsDie(1)
AND
DB_FOR_PriestsConqueringGod_Novice(_Priest,_,_,_,_)
AND
TriggerGetRandomPosition((TRIGGER)S_FOR_Owlbear_PriestsConqueringGod_DeathTrigger_5f1576d1-aeb6-4c09-9b3e-462096524d3e,_X,_Y,_Z)
THEN
TeleportToPosition(_Priest,_X,_Y,_Z);
Die(_Priest,DEATHTYPE.DoT,S_FOR_OwlBear_e903a41f-8ef7-46dc-a847-7d0ec2804d08,1,1);
//END_REGION

//REGION Combat
IF
FlagSet(FOR_PriestsConqueringGod_Global_GoToOwlbearCave_8ec1f489-609b-a15d-56d7-b16ffb2f9a2f, _, _) // flagType: Global
THEN
PROC_SetRelationMutual((FACTION)FOR_Owlbear_784be375-5641-e659-e4ea-a3ac17480d28,(FACTION)WLD_FOR_CultistsOfTheConqueringGod_d3c4f994-2c6b-7b06-09ed-f184bb1b45c1,0);

IF
CombatStarted(_Id)
AND
DB_Is_InCombat(S_FOR_OwlBear_e903a41f-8ef7-46dc-a847-7d0ec2804d08,_Id)
AND
DB_GlobalFlag((FLAG)FOR_PriestsConqueringGod_Global_GoToOwlbearCave_8ec1f489-609b-a15d-56d7-b16ffb2f9a2f) // flagType: Global
AND
DB_PriestsConqueringGod(_Priest)
THEN
SetFlag(FOR_PriestsConqueringGod_Behaviour_MoveToOwlbear_b64fdbcf-8a96-4b8c-bdac-0de0368b8bc8,_Priest);
SetFlag(FOR_PriestsConqueringGod_Global_SetAlliedToPlayers_61fafd7d-f45c-51ca-8bf6-63b2f7ce34ce,NULL_00000000-0000-0000-0000-000000000000);

IF
DialogEnded(FOR_PriestOfTheConqueringGod_Cultist001_InCave_69f7554f-8b4c-9e7d-5f0e-5785139f6709,_)
AND
DB_GlobalFlag((FLAG)FOR_PriestsConqueringGod_Global_ChargeOwlbear_f5159b2e-23fd-85eb-e309-080f51a3d728) // flagType: Global
AND
NOT DB_GlobalFlag((FLAG)FOR_Owlbear_State_PermaDefeated_a2cd3c0f-95be-7155-d67c-edbdb2ca1104) // flagType: Global
AND
DB_PriestsConqueringGod(_Priest)
THEN
SetFlag(FOR_PriestsConqueringGod_Behaviour_MoveToOwlbear_b64fdbcf-8a96-4b8c-bdac-0de0368b8bc8,_Priest);
SetHasDialog(_Priest,0);

IF
CombatStarted(_Id)
AND
DB_PriestsConqueringGod(_Priest)
AND
DB_Is_InCombat(_Priest,_Id)
AND
DB_Is_InCombat(S_FOR_OwlBear_e903a41f-8ef7-46dc-a847-7d0ec2804d08,_Id)
AND
DB_Players(_Player)
THEN
PROC_MakeNPCHostile(S_FOR_OwlBear_e903a41f-8ef7-46dc-a847-7d0ec2804d08,_Player);

IF
FlagSet(FOR_PriestsConqueringGod_Global_SetAlliedToPlayers_61fafd7d-f45c-51ca-8bf6-63b2f7ce34ce, _, _) // flagType: Global
THEN
PROC_SetRelationToPlayers((FACTION)WLD_FOR_CultistsOfTheConqueringGod_d3c4f994-2c6b-7b06-09ed-f184bb1b45c1,100);

//END_REGION


//REGION Post-Combat
IF
FlagSet(FOR_Owlbear_State_PermaDefeated_a2cd3c0f-95be-7155-d67c-edbdb2ca1104, _, _)
AND
DB_GlobalFlag((FLAG)FOR_PriestsConqueringGod_Global_GoToOwlbearCave_8ec1f489-609b-a15d-56d7-b16ffb2f9a2f)
AND
DB_PriestsConqueringGod(_Priest)
AND
IsInTrigger(_Priest,S_FOR_OwlBear_SUB_1fa871e1-4979-4259-9e5e-5017b06d077f,1)
AND
QRY_FOR_PriestConqueringGod_CheckAliveForAD((DIALOGRESOURCE)FOR_PriestOfTheConqueringGod_AD_OwlbearDead_fcc1e40c-ccc9-3595-dd46-0f58ea2ef5b3)
THEN
SetHasDialog(_Priest,1);

QRY
QRY_FOR_PriestConqueringGod_CheckAliveForAD((DIALOGRESOURCE)_Dialog)
AND
NOT DB_GlobalFlag((FLAG)FOR_PriestConqueringGod_001_Defeated_e1e79ef1-9441-03bf-e24f-0af5e61a488d)
AND
NOT DB_GlobalFlag((FLAG)FOR_PriestConqueringGod_002_Defeated_bc3a78ff-2665-575d-9b61-68bb383c45a6)
AND
QRY_SpeakerIsAvailableAndInDialogRange(S_FOR_PriestConqueringGod_001_2c9b967d-fbaa-43c0-9461-3e1598b5fbe1,S_FOR_PriestConqueringGod_002_d4a3b125-2b03-4fe8-bab2-7e485390bd49)
THEN
PROC_FOR_PriestOfTheConqueringGod_StartAD(_Dialog,S_FOR_PriestConqueringGod_001_2c9b967d-fbaa-43c0-9461-3e1598b5fbe1,S_FOR_PriestConqueringGod_002_d4a3b125-2b03-4fe8-bab2-7e485390bd49);

QRY
QRY_FOR_PriestConqueringGod_CheckAliveForAD((DIALOGRESOURCE)_Dialog)
AND
NOT DB_GlobalFlag((FLAG)FOR_PriestConqueringGod_001_Defeated_e1e79ef1-9441-03bf-e24f-0af5e61a488d)
AND
DB_GlobalFlag((FLAG)FOR_PriestConqueringGod_002_Defeated_bc3a78ff-2665-575d-9b61-68bb383c45a6)
THEN
PROC_FOR_PriestOfTheConqueringGod_StartAD(_Dialog,S_FOR_PriestConqueringGod_001_2c9b967d-fbaa-43c0-9461-3e1598b5fbe1,NULL_00000000-0000-0000-0000-000000000000);

QRY
QRY_FOR_PriestConqueringGod_CheckAliveForAD((DIALOGRESOURCE)_Dialog)
AND
DB_GlobalFlag((FLAG)FOR_PriestConqueringGod_001_Defeated_e1e79ef1-9441-03bf-e24f-0af5e61a488d)
AND
NOT DB_GlobalFlag((FLAG)FOR_PriestConqueringGod_002_Defeated_bc3a78ff-2665-575d-9b61-68bb383c45a6)
THEN
PROC_FOR_PriestOfTheConqueringGod_StartAD(_Dialog,NULL_00000000-0000-0000-0000-000000000000,S_FOR_PriestConqueringGod_002_d4a3b125-2b03-4fe8-bab2-7e485390bd49);

PROC
PROC_FOR_PriestOfTheConqueringGod_StartAD((DIALOGRESOURCE)_Dialog,(GUIDSTRING)_Speaker01,(GUIDSTRING)_Speaker02)
AND
NOT DB_FOR_PriestConqueringGod_PlayedAD(_Dialog)
THEN
PROC_TryStartAD(_Dialog,_Speaker01,_Speaker02);
DB_FOR_PriestConqueringGod_PlayedAD(_Dialog);

QRY
QRY_SelectCustomDialog_AfterGenerics(S_FOR_PriestConqueringGod_002_d4a3b125-2b03-4fe8-bab2-7e485390bd49,_Player)
AND
DB_Dialogs(S_FOR_PriestConqueringGod_002_d4a3b125-2b03-4fe8-bab2-7e485390bd49,FOR_PriestOfTheConqueringGod_Cultist002_InCave_4a0bfb85-144f-af28-d3dd-056c5a764cae)
AND
DB_GlobalFlag(FOR_Owlbear_State_PermaDefeated_a2cd3c0f-95be-7155-d67c-edbdb2ca1104)
AND
QRY_SpeakerIsAvailableAndInDialogRange(S_FOR_PriestConqueringGod_001_2c9b967d-fbaa-43c0-9461-3e1598b5fbe1,S_FOR_PriestConqueringGod_002_d4a3b125-2b03-4fe8-bab2-7e485390bd49)
THEN
DB_SelectedDialog(FOR_PriestOfTheConqueringGod_Cultist002_InCave_4a0bfb85-144f-af28-d3dd-056c5a764cae,S_FOR_PriestConqueringGod_002_d4a3b125-2b03-4fe8-bab2-7e485390bd49,S_FOR_PriestConqueringGod_001_2c9b967d-fbaa-43c0-9461-3e1598b5fbe1,_Player);

//END_REGION


//REGION Priests show up at the Goblin camp
IF
EntityEvent(_Priest,"WLD_PriestsConqueringGod_CheckGoblinCampAvailable")
AND
NOT DB_GlobalFlag(GLO_GoblinKing_State_PermaDefeated_d985480d-6158-0b0f-adfc-4bf3db785bf1)
AND
DB_FOR_PriestsConqueringGod_Novice((CHARACTER)_Priest,_Dialog,_,_Trigger,_)
THEN
ClearFlag(FOR_PriestConqueringGod_InOwlbearCave_80f06963-ea5c-4e8f-a7bb-b98d6ad8a764,_Priest);
SetFlag((FLAG)FOR_PriestConqueringGod_InGoblinCamp_27c25c69-600e-4665-8def-cd1c54be08f5, _Priest);
SetCanTrade(_Priest,1);
PROC_RemoveDialog(_Priest);
DB_Dialogs(_Priest,_Dialog);
DB_FOR_PriestsConqueringGodArriveInGOB(1);
PROC_AppearOutOfSightTo(_Priest,_Trigger,_Trigger,"PriestConqueringGod_AtGoblinCamp");
PROC_SetRelationToPlayers((FACTION)WLD_FOR_CultistsOfTheConqueringGod_d3c4f994-2c6b-7b06-09ed-f184bb1b45c1,50);

IF
FlagSet((FLAG)FOR_PriestConqueringGod_InGoblinCamp_27c25c69-600e-4665-8def-cd1c54be08f5, _, _)
THEN
SetEntityEvent(S_GOB_Festivities_Coordinator_f2cd133a-8339-4043-9277-e5dd8fe93e5f, "WLD_PriestsConqueringGod_AtGoblinCamp", 1);

//Remove Priest if the king is dead
IF
EntityEvent(_Priest,"WLD_PriestsConqueringGod_CheckGoblinCampAvailable")
AND
DB_GlobalFlag(GLO_GoblinKing_State_PermaDefeated_d985480d-6158-0b0f-adfc-4bf3db785bf1)
THEN
SetOnStage(_Priest,0);

IF
DB_FOR_PriestsConqueringGodArriveInGOB(1)
AND
DB_GlobalFlag((FLAG)GOB_FestivitiesArea_State_Hostile_d5ee4e10-d88b-4226-9607-41b7399a837f)
THEN
PROC_SetRelationToPlayers((FACTION)WLD_FOR_CultistsOfTheConqueringGod_d3c4f994-2c6b-7b06-09ed-f184bb1b45c1,0);
//END_REGION

//REGION In case players fought cultists before, they will go perma hostile again after/failing playing the AD
IF
EntityEvent(_Priest,"PriestConqueringGod_AtGoblinCamp")
AND
DB_FOR_PlayersFoughtPriestsConqueringGod(1)
THEN
SetFlag(GOB_PriestConqueringGod_StartSpottingHostileAtGoblinCamp_0a390d48-14c3-446f-82b2-04c126eecd5d,NULL_00000000-0000-0000-0000-000000000000);

PROC
PROC_SpotPlayers_Spotted(_Priest,"GOB_PriestOfTheConqueringGod_SpotHostilePlayer",_Player)
AND
NOT QRY_StartDialogCustom(GOB_PriestsOfConqueringGod_SpottedHostilePlayer_3c2e1e7e-4e2b-6c87-220a-2111046ca023,_Priest,_Player,0,0,0,1)
THEN
PROC_GOB_PriestOfTheConqueringGodAggro();

IF
DialogEnded(GOB_PriestsOfConqueringGod_SpottedHostilePlayer_3c2e1e7e-4e2b-6c87-220a-2111046ca023,_)
THEN
PROC_GOB_PriestOfTheConqueringGodAggro();

PROC
PROC_GOB_PriestOfTheConqueringGodAggro()
THEN
SetFlag(GOB_PriestConqueringGod_StopSpottingHostileAtGoblinCamp_99af10e7-b603-40cd-859e-6b0795e1d668,NULL_00000000-0000-0000-0000-000000000000);
PROC_SetRelationToPlayers((FACTION)WLD_FOR_CultistsOfTheConqueringGod_d3c4f994-2c6b-7b06-09ed-f184bb1b45c1,0);
//END_REGION


//REGION Prints
IF
FlagSet((FLAG)FOR_PriestOfTheConqueringGod_Cultists_Knows_Owlbear_63b22e83-1389-735f-2d6c-23edfff0d078,_Player,_)
AND
NOT DB_KnowledgeSkillCheck(_, "FOR_PriestsOfTheConqueringGods_OwlBearPrintsBox", S_FOR_PriestsOfTheConqueringGods_OwlBearPrintsBox_9e178b03-3f45-4a3b-a229-2ba530c26b21,_)
AND
QRY_OnlyOnce("FOR_LoweredDCForSpottingOwlbearTracks_OnlyOnce")
THEN
NOT DB_KnowledgeCheckTrigger_AD("FOR_PriestsOfTheConqueringGods_OwlBearPrintsBox", S_FOR_PriestsOfTheConqueringGods_OwlBearPrintsBox_9e178b03-3f45-4a3b-a229-2ba530c26b21,"Survival",(DIFFICULTYCLASS)DC_Legacy_5_6e246ccd-6149-4ec4-a325-034309a18138,(DIALOGRESOURCE)FOR_PriestsOfTheConqueringGods_VB_OwlBearPrints_c7a1e827-180c-1c62-75fb-663af5f5f269,WLD_PriestsOfTheConqueringGods_OwlBearPrints_PassedCheck_c15ccdf2-5143-c0c3-5453-f22af9d15eb4);
DB_KnowledgeCheckTrigger_AD("FOR_PriestsOfTheConqueringGods_OwlBearPrintsBox", S_FOR_PriestsOfTheConqueringGods_OwlBearPrintsBox_9e178b03-3f45-4a3b-a229-2ba530c26b21,"Survival",(DIFFICULTYCLASS)DC_Legacy_0_98d69b07-f551-4d77-af31-41d074748dc0,(DIALOGRESOURCE)FOR_PriestsOfTheConqueringGods_VB_OwlBearPrints_c7a1e827-180c-1c62-75fb-663af5f5f269,WLD_PriestsOfTheConqueringGods_OwlBearPrints_PassedCheck_c15ccdf2-5143-c0c3-5453-f22af9d15eb4);

//END_REGION

EXITSECTION

ENDEXITSECTION
ParentTargetEdge "Act1"
