Version 1
SubGoalCombiner SGC_AND
INITSECTION
//REGION Acolyte
DB_GLO_Backgrounds_Goal((TAG)ACOLYTE_906d1961-e9c6-4170-b775-62797a0efe1c, "Act1_Acolyte_DrowShrineSword", (GUIDSTRING)ac97ad9c-3ed3-43f0-b3fa-ebe1babd29b3);
DB_GLO_Backgrounds_Goal((TAG)ACOLYTE_906d1961-e9c6-4170-b775-62797a0efe1c, "Act1_Acolyte_LoviatarBlessed", b1ed1d56-f45a-442a-afed-91c5cb84dffb);
DB_GLO_Backgrounds_Goal((TAG)ACOLYTE_906d1961-e9c6-4170-b775-62797a0efe1c, "Act1_Acolyte_SeluneChestPrayed", 80deaa27-9ddd-44cf-87c9-b14dee926996);
DB_GLO_Backgrounds_Goal((TAG)ACOLYTE_906d1961-e9c6-4170-b775-62797a0efe1c, "Act1_Acolyte_KuoToa", aae77e32-1187-4846-80e4-4f145c3787a5);
DB_GLO_Backgrounds_Goal((TAG)ACOLYTE_906d1961-e9c6-4170-b775-62797a0efe1c, "Act1_Acolyte_SilvanusWrath", 5c333abe-6c27-4f1b-b95c-9e67c28b6802);
DB_GLO_Backgrounds_Goal((TAG)ACOLYTE_906d1961-e9c6-4170-b775-62797a0efe1c, "Act1_Acolyte_DenLockdown", 0be023f4-d1bf-4f1d-9e17-0e0ef04ed4ca);
DB_GLO_Backgrounds_Goal((TAG)ACOLYTE_906d1961-e9c6-4170-b775-62797a0efe1c, "Act1_Acolyte_FlamingFistPrayed", 4c7d48d5-978c-42d2-9530-ae403311f3d9);
DB_GLO_Backgrounds_Goal((TAG)ACOLYTE_906d1961-e9c6-4170-b775-62797a0efe1c, "Act1_Acolyte_BookOfTheDead", fc8b0dcc-01fc-4d18-818e-457f37a2516b);
DB_GLO_Backgrounds_Goal((TAG)ACOLYTE_906d1961-e9c6-4170-b775-62797a0efe1c, "Act1_Acolyte_TyrRenouncement", 31e7936c-7622-4976-ac81-d1064bf39891);
DB_GLO_Backgrounds_Goal((TAG)ACOLYTE_906d1961-e9c6-4170-b775-62797a0efe1c, "Act1_Acolyte_SeluneGem", fc92c0f0-a215-4c55-8fe4-7320c7e6d632);
DB_GLO_Backgrounds_Goal((TAG)ACOLYTE_906d1961-e9c6-4170-b775-62797a0efe1c, "Act1_Acolyte_Resurrect", ef0c0115-153d-4a9d-957b-4309789bab17);
DB_GLO_Backgrounds_Goal((TAG)ACOLYTE_906d1961-e9c6-4170-b775-62797a0efe1c, "Act1_Acolyte_HereticGoblin", 0fd74b26-29d8-4fcd-a74d-ca71628d826d);
DB_GLO_Backgrounds_Goal((TAG)ACOLYTE_906d1961-e9c6-4170-b775-62797a0efe1c, "Act1_Acolyte_LolthSwornSpiders", 01f83d1e-9d60-402d-a10b-3930473eec4f);

DB_GLO_Backgrounds_ChainAfterCharacterFlag((FLAG)UND_KuoToaGod_Event_GiveMagicItem_528f89e3-fcd8-7040-9c62-eae93df404f4, "Act1_Acolyte_KuoToa");
DB_GLO_Backgrounds_ChainAfterCharacterFlag((FLAG)GOB_PainPriest_Event_Reward_1c0d3964-5daa-6fd9-b834-a4f442362ad1, "Act1_Acolyte_LoviatarBlessed");
DB_GLO_Backgrounds_ChainAfterCharacterFlag((FLAG)PLA_FlamingFist5_Event_Prayed_73a269ac-593d-0b24-2b08-fa94295c9d31, "Act1_Acolyte_FlamingFistPrayed");
DB_GLO_Backgrounds_ChainAfterCharacterFlag((FLAG)GLO_Background_Acolyte_Act1_TyrRenouncement_ed776f4d-e362-400c-b0c6-36975e946635, "Act1_Acolyte_TyrRenouncement");
DB_GLO_Backgrounds_ChainAfterCharacterFlag((FLAG)GLO_BookOfRestoredGods_Event_SucceedReligion_d11e0110-9f05-8e08-e051-86a1a661afa9, "Act1_Acolyte_BookOfTheDead");
//END_REGION Acolyte

//REGION Charlatan
DB_GLO_Backgrounds_Goal((TAG)CHARLATAN_07925e5b-af3d-4743-a565-b9fee04c24ac, "Act1_Charlatan_ZhentHideout", 3e348119-eb73-4588-b71e-a01cfdadb9bc);
DB_GLO_Backgrounds_Goal((TAG)CHARLATAN_07925e5b-af3d-4743-a565-b9fee04c24ac, "Act1_Charlatan_BlightedVillage", a2bb096b-2657-45eb-9568-e3eba6625a7e);
DB_GLO_Backgrounds_Goal((TAG)CHARLATAN_07925e5b-af3d-4743-a565-b9fee04c24ac, "Act1_Charlatan_GobCamp", d7fa1d21-504b-4a0e-b4b6-e780eb5f038c);
DB_GLO_Backgrounds_Goal((TAG)CHARLATAN_07925e5b-af3d-4743-a565-b9fee04c24ac, "Act1_Charlatan_Chapel", e80b07f1-3229-475e-a514-81ddcfb79204);
DB_GLO_Backgrounds_Goal((TAG)CHARLATAN_07925e5b-af3d-4743-a565-b9fee04c24ac, "Act1_Charlatan_TrickTieflingsLaezel", b7ba2211-445e-4fd5-b029-0b96b687208e);
DB_GLO_Backgrounds_Goal((TAG)CHARLATAN_07925e5b-af3d-4743-a565-b9fee04c24ac, "Act1_Charlatan_TrickedMirror", 7c310f32-4ee1-4337-9d8a-89ef1a3b480e);
DB_GLO_Backgrounds_Goal((TAG)CHARLATAN_07925e5b-af3d-4743-a565-b9fee04c24ac, "Act1_Charlatan_Poisoner", fb64e3bc-ee05-467c-be48-4eaa6112e462);
DB_GLO_Backgrounds_Goal((TAG)CHARLATAN_07925e5b-af3d-4743-a565-b9fee04c24ac, "Act1_Charlatan_ToeRing", f29c6dba-8129-4fcb-a91e-50bc30a51329);
DB_GLO_Backgrounds_Goal((TAG)CHARLATAN_07925e5b-af3d-4743-a565-b9fee04c24ac, "Act1_Charlatan_GithLeave", 8d1c282f-f557-4cbf-91ca-03d8d98407ee);
DB_GLO_Backgrounds_Goal((TAG)CHARLATAN_07925e5b-af3d-4743-a565-b9fee04c24ac, "Act1_Charlatan_SpiderPit", 7506e03b-89fd-463a-9cb8-ff7c960dc6ac);
DB_GLO_Backgrounds_Goal((TAG)CHARLATAN_07925e5b-af3d-4743-a565-b9fee04c24ac, "Act1_Charlatan_Scrying", b3b126cd-b462-4c26-868b-a0056e19191b);
DB_GLO_Backgrounds_Goal((TAG)CHARLATAN_07925e5b-af3d-4743-a565-b9fee04c24ac, "Act1_Charlatan_Masks", a86da209-ad16-46b8-9494-e53c4781fed9);
DB_GLO_Backgrounds_Goal((TAG)CHARLATAN_07925e5b-af3d-4743-a565-b9fee04c24ac, "Act1_Charlatan_Grymforge", 9087eb98-37fd-4bd4-a4ec-1b23601315fc);
DB_GLO_Backgrounds_Goal((TAG)CHARLATAN_07925e5b-af3d-4743-a565-b9fee04c24ac, "Act1_Charlatan_BroodingSovereign", d8877329-0c21-4174-b195-9b7717d45f8f);

DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog((FLAG)GLO_GithChokepoint_Quest_GithLeave_8b2f94b5-9373-36ab-edfe-419764fbb85a, "Act1_Charlatan_GithLeave");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog((FLAG)UND_MyconidCircle_BroodingSovereign_Event_BetrayGlut_bc02af6d-dc65-7322-a28c-9e68dc4ea875, "Act1_Charlatan_BroodingSovereign");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog((FLAG)UND_MyconidCircle_Event_BetraySpaw_2d4dfc5d-fcd1-281d-c397-002c57a975db, "Act1_Charlatan_BroodingSovereign");
DB_GLO_Backgrounds_ChainAfterGoal("Act1_Criminal_Poisoner", "Act1_Charlatan_Poisoner");
DB_GLO_Backgrounds_ChainAfterGoal("Act1_Urchin_ToeRing", "Act1_Charlatan_ToeRing");
DB_GLO_Backgrounds_ChainAfterQuestUpdate("HIDDEN_WLD_Boosters","GOB_GoblinKing_Performed","Act1_Charlatan_Scrying");

DB_GLO_Backgrounds_Charlatain_QuestIdsPersuaded("PersuadedKill");
DB_GLO_Backgrounds_Charlatain_QuestIdsPersuaded("PersuadedKillAlt");
DB_GLO_Backgrounds_Charlatain_QuestIdsSided("SidedLaezel");
DB_GLO_Backgrounds_Charlatain_QuestIdsSided("SidedLaezelAlt");

PROC_TriggerRegisterForPlayers(S_Act1_GLO_BackgroundGoals_HagMasks_MasksTrigger_a7b51494-313b-4b46-8b27-62993f212f72);
PROC_TriggerRegisterForPlayers(S_Act1_GLO_BackgroundGoals_HagMasks_InnerLairTrigger_007ce630-8cfe-4007-a55c-ebb57bfb89d9);

DB_GLO_Backgrounds_Charlatan_GobCheckpoints(
	(DIALOGRESOURCE)FOR_GoblinAmbush_ff0fbb34-72a7-4816-2a1c-bd13e5a246e7,
	(FLAG)FOR_GoblinAmbush_GoblinsPacified_1268cab6-b501-bb0e-f9b0-f8fe7b6d7139,
	(FLAG)FOR_GoblinAmbush_State_NonCharlatanAccess_6eed7479-8a95-7b50-fbd6-d22cdcb2ceea,
	(FLAG)FOR_GoblinAmbush_State_DrowAutoPass_4e23c07c-beef-c2c0-16a7-6fa314e1aa76,
	"Act1_Charlatan_BlightedVillage");
DB_GLO_Backgrounds_Charlatan_GobCheckpoints(
	(DIALOGRESOURCE)FOR_GoblinAmbush_CheckpointGuards_895decda-32ab-b951-4af2-2b495553a5cf,
	(FLAG)FOR_GoblinAmbush_GoblinsPacified_1268cab6-b501-bb0e-f9b0-f8fe7b6d7139,
	(FLAG)FOR_GoblinAmbush_State_NonCharlatanAccess_6eed7479-8a95-7b50-fbd6-d22cdcb2ceea,
	(FLAG)FOR_GoblinAmbush_State_DrowAutoPass_4e23c07c-beef-c2c0-16a7-6fa314e1aa76,
	"Act1_Charlatan_BlightedVillage");
DB_GLO_Backgrounds_Charlatan_GobCheckpoints(
	(DIALOGRESOURCE)FOR_Village_Trespassing_0de4c26f-9744-2212-ec0b-979c176687f9,
	(FLAG)FOR_GoblinAmbush_GoblinsPacified_1268cab6-b501-bb0e-f9b0-f8fe7b6d7139,
	(FLAG)FOR_GoblinAmbush_State_NonCharlatanAccess_6eed7479-8a95-7b50-fbd6-d22cdcb2ceea,
	(FLAG)FOR_GoblinAmbush_State_DrowAutoPass_4e23c07c-beef-c2c0-16a7-6fa314e1aa76,
	"Act1_Charlatan_BlightedVillage");
DB_GLO_Backgrounds_Charlatan_GobCheckpoints(
	(DIALOGRESOURCE)FOR_GnomeGoblin1_6b85e9ac-82c4-9126-cce2-4d0259475ae9,
	(FLAG)FOR_GnomeGoblinsPacified_385336a9-30d7-f4f8-fa62-32dff47ff714,
	(FLAG)FOR_UnfortunateGnome_State_NonCharlatanAccess_844f8f99-7dfe-d241-c446-9ee60d8586e7,
	(FLAG)FOR_UnfortunateGnome_State_DrowAutoPass_cda7938b-90af-22fc-b2da-1648d0ce1388,
	"Act1_Charlatan_BlightedVillage");

DB_GLO_Backgrounds_Charlatan_GobCheckpoints(
	(DIALOGRESOURCE)GOB_GuardUpset_23efd46a-1e2d-3e51-80d9-86987b92372f,
	(FLAG)GOB_GoblinThroneCheckpoint_Pass_a848a6f2-43d6-4e6e-8e17-55d82c1f180b,
	(FLAG)GOB_GoblonThroneCheckpoint_NonCharlatanAccess_65cb4a4a-1a65-0b35-73d4-6cb2b9a7d0cc,
	(FLAG)GOB_GoblinThroneCheckpoint_State_DrowAutoPass_d0ac8d20-aa49-462f-cbea-5dc49828b0df,
	"Act1_Charlatan_GobCamp");
DB_GLO_Backgrounds_Charlatan_GobCheckpoints(
	(DIALOGRESOURCE)GOB_Checkpoint_Guard001_4832f6ad-2b2e-203e-42ef-9837c8eb8146,
	(FLAG)GOB_Checkpoint_State_GainedAccess_46279ae3-9662-01b0-25a5-a46e1b80d057,
	(FLAG)GOB_Checkpoint_State_NonCharlatanAccess_c5aaaa88-04c8-8809-2f10-387b10527f91,
	(FLAG)GOB_Checkpoint_State_DrowAutoPass_85472563-26d7-4439-9f99-b97645986c63,
	"Act1_Charlatan_GobCamp");
DB_GLO_Backgrounds_Charlatan_GobCheckpoints(
	(DIALOGRESOURCE)GOB_SecludedSpot_Trespassing_9eb570dd-c45d-96a4-671c-805e1fecbb6c,
	(FLAG)GOB_Checkpoint_State_GainedAccess_46279ae3-9662-01b0-25a5-a46e1b80d057,
	(FLAG)GOB_SecludedSpot_State_NonCharlatanAccess_7a73ebac-3992-32b9-5b52-7b53134e0fc2,
	(FLAG)GOB_SecludedSpot_State_DrowAutoPass_2430fa96-1804-e9c2-eb16-8505ba387663,
	"Act1_Charlatan_GobCamp");
//END_REGION Charlatan

//REGION Criminal
DB_GLO_Backgrounds_Goal((TAG)CRIMINAL_74ed9de3-fff5-419a-949b-18bd5e17944e, "Act1_Criminal_StealUniqueItem_Chest", 641ccf66-8233-4c96-8399-e0e37f13c88c);
DB_GLO_Backgrounds_Goal((TAG)CRIMINAL_74ed9de3-fff5-419a-949b-18bd5e17944e, "Act1_Criminal_StealUniqueItem_Boots", b13adcd3-f3ba-4277-ba23-1624cf548014);
DB_GLO_Backgrounds_Goal((TAG)CRIMINAL_74ed9de3-fff5-419a-949b-18bd5e17944e, "Act1_Criminal_StealUniqueItem_Idol", 0a6ffca3-daf0-42ed-903a-50aba7768cc0);
DB_GLO_Backgrounds_Goal((TAG)CRIMINAL_74ed9de3-fff5-419a-949b-18bd5e17944e, "Act1_Criminal_ZhentarimFriend", 6987b777-a674-4174-96d1-cedf20c4a28d);
DB_GLO_Backgrounds_Goal((TAG)CRIMINAL_74ed9de3-fff5-419a-949b-18bd5e17944e, "Act1_Criminal_HelpedMinthara", 623873f7-12f7-42c5-9ab6-b2de4b892c18);
DB_GLO_Backgrounds_Goal((TAG)CRIMINAL_74ed9de3-fff5-419a-949b-18bd5e17944e, "Act1_Criminal_KilledKagha", b3d30794-0e01-4009-9fd4-17ee4c8514e5);
DB_GLO_Backgrounds_Goal((TAG)CRIMINAL_74ed9de3-fff5-419a-949b-18bd5e17944e, "Act1_Criminal_MuggedThralls", 800e9863-1869-4fd6-be2a-5ca2cb82ec30);
DB_GLO_Backgrounds_Goal((TAG)CRIMINAL_74ed9de3-fff5-419a-949b-18bd5e17944e, "Act1_Criminal_Sazza",5a217ebc-5ba2-4199-9a63-1d1edb78b923);
DB_GLO_Backgrounds_Goal((TAG)CRIMINAL_74ed9de3-fff5-419a-949b-18bd5e17944e, "Act1_Criminal_Poisoner", 91b38335-4097-46a4-bb0f-89cda85dfef4);
DB_GLO_Backgrounds_Goal((TAG)CRIMINAL_74ed9de3-fff5-419a-949b-18bd5e17944e, "Act1_Criminal_HarpyKidPickpocket", 9b3885f9-eea2-4bc5-9d95-a6f79ca5ef30);
DB_GLO_Backgrounds_Goal((TAG)CRIMINAL_74ed9de3-fff5-419a-949b-18bd5e17944e, "Act1_Criminal_Mutineers", 0abbf1da-a98a-4761-ae63-b9ffef612614);
DB_GLO_Backgrounds_Goal((TAG)CRIMINAL_74ed9de3-fff5-419a-949b-18bd5e17944e, "Act1_Criminal_ThieflingsStash", 8bcea5c5-154a-4299-b239-6693588a0017);

DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog(DEN_AttackOnDen_Event_GoblinPartyInvitation_54e19b21-3fad-6a2e-c89a-9d5cf1b4773f, "Act1_Criminal_HelpedMinthara");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog(UND_InjuredGnome_State_TookBootsByForce_f9ad16f0-b105-cac5-efec-6df53d91cdde, "Act1_Criminal_StealUniqueItem_Boots");
DB_GLO_Backgrounds_ChainAfterQuestUpdate("DEN_Conflict", "ZevlorRewarded", "Act1_Criminal_KilledKagha");
DB_GLO_Backgrounds_ChainAfterQuestUpdate("DEN_CapturedGoblin","Escaped","Act1_Criminal_Sazza");
DB_GLO_Backgrounds_ChainAfterCharacterFlag(GLO_CursedIronFlask_State_HasFlask_9c9d36f1-eadb-4e45-a4ad-61edf52364a7, "Act1_Criminal_StealUniqueItem_Chest");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog(UND_Mutineers_State_PaidPlayerReward_a5583a63-6b5e-0109-6aaf-fc59c66d73f2, "Act1_Criminal_Mutineers");

DB_GLO_Backgrounds_Criminal_UniqueItemsToSteal((ITEM)S_PLA_ZhentShipment_Chest_fc3f4359-ec62-4cbf-8756-ecb9780c34e8);
DB_GLO_Backgrounds_Criminal_UniqueItemsToSteal((ITEM)S_GLO_CursedIronFlask_83b010d4-7f1a-448c-9475-176347962cb2);
DB_GLO_Backgrounds_Criminal_UniqueItemsToSteal((ITEM)S_FOR_OwlBear_Egg_cac64420-e7d7-4ac2-aac9-5ed22cbe4272);
DB_GLO_Backgrounds_Criminal_UniqueItemsToSteal((ITEM)S_UND_MyconidCircle_BootsOfSpeed_fca76ec8-f3dd-446c-bd69-dc2f6ccca285);
DB_GLO_Backgrounds_Criminal_UniqueItemsToSteal((ITEM)S_DEN_SilvanusIdol_a841d36c-9a00-4a26-943e-c0af6895bb16);

DB_GLO_Backgrounds_Criminal_FriendOfZhentarimStates("Rewarded_ZhentReturned");
DB_GLO_Backgrounds_Criminal_FriendOfZhentarimStates("Rewarded_NoCargo");
DB_GLO_Backgrounds_Criminal_FriendOfZhentarimStates("Rewarded_OnlyCargo");
DB_GLO_Backgrounds_Criminal_FriendOfZhentarimStates("Rewarded_SentToBG");
//END_REGION Criminal

//REGION Entertainer
DB_GLO_Backgrounds_Goal((TAG)ENTERTAINER_bd3cfefd-5fe2-47ea-bd3c-e99eaad9b714, "Act1_Entertainer_ChickenChase", e4cdb587-9b95-4a1c-ad0b-c8b1794a9c1f);
DB_GLO_Backgrounds_Goal((TAG)ENTERTAINER_bd3cfefd-5fe2-47ea-bd3c-e99eaad9b714, "Act1_Entertainer_Alfira", 6289a3a6-1662-49fa-bb7a-46a0e1e7ea06);
DB_GLO_Backgrounds_Goal((TAG)ENTERTAINER_bd3cfefd-5fe2-47ea-bd3c-e99eaad9b714, "Act1_Entertainer_Toast", a8b52848-f09e-4f39-958f-c09426d0a881);
DB_GLO_Backgrounds_Goal((TAG)ENTERTAINER_bd3cfefd-5fe2-47ea-bd3c-e99eaad9b714, "Act1_Entertainer_Bernard", 5b893f34-7c56-4b14-a0d7-c1f54a362979);
DB_GLO_Backgrounds_Goal((TAG)ENTERTAINER_bd3cfefd-5fe2-47ea-bd3c-e99eaad9b714, "Act1_Entertainer_Volo", 3c396cad-1eeb-4bbd-9b44-ca44254716e7);
DB_GLO_Backgrounds_Goal((TAG)ENTERTAINER_bd3cfefd-5fe2-47ea-bd3c-e99eaad9b714, "Act1_Entertainer_Painter", 55a43583-53ca-4708-9cee-a1ef2a19a210);
DB_GLO_Backgrounds_Goal((TAG)ENTERTAINER_bd3cfefd-5fe2-47ea-bd3c-e99eaad9b714, "Act1_Entertainer_Loviatar", cc06a0c9-6dd4-4a04-b617-7e15a74016a2);
DB_GLO_Backgrounds_Goal((TAG)ENTERTAINER_bd3cfefd-5fe2-47ea-bd3c-e99eaad9b714, "Act1_Entertainer_CampCelebration", 41a350e4-d239-4a69-ae90-69cae295deb4);
DB_GLO_Backgrounds_Goal((TAG)ENTERTAINER_bd3cfefd-5fe2-47ea-bd3c-e99eaad9b714, "Act1_Entertainer_VanishedRing", f9b26a22-7045-45f6-b4bc-b0d618e6f325);
DB_GLO_Backgrounds_Goal((TAG)ENTERTAINER_bd3cfefd-5fe2-47ea-bd3c-e99eaad9b714, "Act1_Entertainer_WarDrum", bbb44939-c0ba-4d7b-92f8-0d6bdf9261cc);
DB_GLO_Backgrounds_Goal((TAG)ENTERTAINER_bd3cfefd-5fe2-47ea-bd3c-e99eaad9b714, "Act1_Entertainer_FistFight", 8c19171f-fa48-4752-bba2-335878effcef);
DB_GLO_Backgrounds_Goal((TAG)ENTERTAINER_bd3cfefd-5fe2-47ea-bd3c-e99eaad9b714, "Act1_Entertainer_TellStory", 3719d359-105c-4195-a9b4-414734acf709);

DB_GLO_Backgrounds_ChainAfterCharacterFlag((FLAG)GOB_PainPriest_Event_FullMercy_ef86fb6d-19cc-2c11-d53f-1ca26092710f, "Act1_Entertainer_Loviatar");
DB_GLO_Backgrounds_ChainAfterCharacterFlag((FLAG)CAMP_GoblinHunt_Event_DancedWithTiefling_ed70f580-279f-6ede-e4f5-cd25c499ad7c, "Act1_Entertainer_CampCelebration");
DB_GLO_Backgrounds_ChainAfterCharacterFlag(GOB_Checkpoint_Event_ReactOnPlayerPerformingSong_fa4c345b-b443-4d6f-8ae7-51144b29f261, "Act1_Entertainer_WarDrum");
DB_GLO_Backgrounds_ChainAfterCharacterFlag(DEN_Thieflings_Event_VanishRing_52d52bb2-bc03-3e12-0d84-87604d51d5d9, "Act1_Entertainer_VanishedRing");
DB_GLO_Backgrounds_ChainAfterCharacterFlag((FLAG)GLO_Background_Entertainer_Act1_VoloTale_1cdecb87-1c5c-4194-8197-b6a93285fa0b, "Act1_Entertainer_Volo");
DB_GLO_Backgrounds_ChainAfterQuestUpdate("GLO_DoubtingArtist", "ZhentDungeon_LeftForBG", "Act1_Entertainer_Painter");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog((FLAG)UND_Automaton_Knows_AskedLove_11d21d3a-7369-dec8-4a89-43db02b66ea9, "Act1_Entertainer_Bernard");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog((FLAG)UND_Automaton_Knows_AskedSecret_afa58e6f-9937-ee35-4e64-6ccf68aa3b62, "Act1_Entertainer_Bernard");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog((FLAG)UND_Automaton_Knows_AskedPresent_bc96b9a6-82a0-7f7f-465b-99cafbc930f1, "Act1_Entertainer_Bernard");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog((FLAG)DEN_TieflingBard_State_FinishedSong_e8ab958f-015b-f97d-5da4-c599b67e5ba0, "Act1_Entertainer_Alfira");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog((FLAG)DEN_ShadowDruid_Event_PersuadedFrescos_1616db07-c145-476f-39ac-3b3906e7068f, "Act1_Entertainer_TellStory");
//END_REGION Entertainer

//REGION Folk Hero
DB_GLO_Backgrounds_Goal((TAG)FOLKHERO_9c38904c-4aed-4d22-9038-fc7d103aaed5, "Act1_FolkHero_UnfortunateGnome", 8f4feacd-7d90-422b-89dd-d6ee5a4b3f9b);
DB_GLO_Backgrounds_Goal((TAG)FOLKHERO_9c38904c-4aed-4d22-9038-fc7d103aaed5, "Act1_FolkHero_MushroomHunter", a19b5f14-72f8-41ed-99ce-9ed9956c366f);
DB_GLO_Backgrounds_Goal((TAG)FOLKHERO_9c38904c-4aed-4d22-9038-fc7d103aaed5, "Act1_FolkHero_Harpies", a935eb06-ef8a-4ece-b827-c1e903815304);
DB_GLO_Backgrounds_Goal((TAG)FOLKHERO_9c38904c-4aed-4d22-9038-fc7d103aaed5, "Act1_FolkHero_SavedTieflings", 406662a3-2568-4935-98eb-ca2084005123);
DB_GLO_Backgrounds_Goal((TAG)FOLKHERO_9c38904c-4aed-4d22-9038-fc7d103aaed5, "Act1_FolkHero_Thralls", b96637c1-b286-416a-ad84-0fd43dfbf534);
DB_GLO_Backgrounds_Goal((TAG)FOLKHERO_9c38904c-4aed-4d22-9038-fc7d103aaed5, "Act1_FolkHero_SnakeCourt", 54ce882f-a08a-4646-9363-7daace7dd202);
DB_GLO_Backgrounds_Goal((TAG)FOLKHERO_9c38904c-4aed-4d22-9038-fc7d103aaed5, "Act1_FolkHero_SaveTavern", 5818b58a-4172-4d0d-8518-78ab14e6575d);
DB_GLO_Backgrounds_Goal((TAG)FOLKHERO_9c38904c-4aed-4d22-9038-fc7d103aaed5, "Act1_FolkHero_Volo", 10e286b2-03b6-4eb3-9985-76979f742a68);
DB_GLO_Backgrounds_Goal((TAG)FOLKHERO_9c38904c-4aed-4d22-9038-fc7d103aaed5, "Act1_FolkHero_TorturedAdventurer", 2b1922bb-15c9-42d3-bb07-facd066ad9e7);
DB_GLO_Backgrounds_Goal((TAG)FOLKHERO_9c38904c-4aed-4d22-9038-fc7d103aaed5, "Act1_FolkHero_GoblinPit", 405ff099-f9bb-4677-8473-427445b9a6c4);
DB_GLO_Backgrounds_Goal((TAG)FOLKHERO_9c38904c-4aed-4d22-9038-fc7d103aaed5, "Act1_FolkHero_HagThralls", 79ae4db2-b7b4-4b05-9520-36ece57eeaa5);
DB_GLO_Backgrounds_Goal((TAG)FOLKHERO_9c38904c-4aed-4d22-9038-fc7d103aaed5, "Act1_FolkHero_Findal", 24e5e7e9-a051-4a08-a155-473b00cfd6b4);
DB_GLO_Backgrounds_Goal((TAG)FOLKHERO_9c38904c-4aed-4d22-9038-fc7d103aaed5, "Act1_FolkHero_SavedGnomes", 02278fc7-d6d7-482b-98b2-620386eeb86b);

DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog(GOB_Torturers_State_PrisonerFreed_c3ebd7d6-243c-f355-5cff-94ceb315d5c9, "Act1_FolkHero_TorturedAdventurer");
DB_GLO_Backgrounds_ChainAfterCharacterFlag(GOB_Torturers_Liberator_f14fc1ce-62c5-4eaa-a4c1-26c53daa8ef1, "Act1_FolkHero_TorturedAdventurer");
DB_GLO_Backgrounds_ChainAfterCharacterFlag(GLO_Background_FolkHero_Act1_HagThralls_c495121c-c1c3-47ff-9359-aa69f2ead668, "Act1_FolkHero_HagThralls");
DB_GLO_Backgrounds_ChainAfterQuestUpdate("UND_MushroomHunter", "TalkedToBaelen", "Act1_FolkHero_MushroomHunter");
DB_GLO_Backgrounds_ChainAfterQuestUpdate("UND_MushroomHunter", "TalkedToDwarf", "Act1_FolkHero_MushroomHunter");
DB_GLO_Backgrounds_ChainAfterQuestUpdate("DEN_HarpyMeal", "DefeatedHarpies", "Act1_FolkHero_Harpies");
DB_GLO_Backgrounds_ChainAfterQuestUpdate("DEN_Conflict", "SidedTieflings_Celebrate", "Act1_FolkHero_SavedTieflings");
DB_GLO_Backgrounds_ChainAfterQuestUpdate("DEN_Conflict", "LeftSafe", "Act1_FolkHero_SavedTieflings");
DB_GLO_Backgrounds_ChainAfterQuestUpdate("DEN_SnakeCourt", "ParentThankful", "Act1_FolkHero_SnakeCourt");
DB_GLO_Backgrounds_ChainAfterQuestUpdate("DEN_SnakeCourt", "ParentAutoReunited", "Act1_FolkHero_SnakeCourt");
DB_GLO_Backgrounds_ChainAfterQuestUpdate("PLA_StuckHalfElf", "Safe", "Act1_FolkHero_SaveTavern");
DB_GLO_Backgrounds_ChainAfterQuestUpdate("DEN_VoloAdventure", "VoloCamp", "Act1_FolkHero_Volo");
DB_GLO_Backgrounds_ChainAfterQuestUpdate("UND_GnomeRescue","DealtWithSlavers", "Act1_FolkHero_SavedGnomes");
DB_GLO_Backgrounds_ChainAfterQuestUpdate("UND_GnomeRescue","Left_Freed", "Act1_FolkHero_SavedGnomes");
DB_GLO_Backgrounds_ChainAfterCharacterFlag((FLAG)FOR_UnfortunateGnome_Event_OfferedPack_a32084eb-7edc-d5bb-3d61-393684ec8213, "Act1_FolkHero_UnfortunateGnome");
//END_REGION Folk Hero

//REGION Guild Artisan
DB_GLO_Backgrounds_Goal((TAG)GUILD_ARTISAN_baf9fb0e-f535-40a0-bb78-3ec289d84e66, "Act1_GuildArtisan_Spear", 64a71de7-a7aa-44cd-bfaa-5da344d9f813);
DB_GLO_Backgrounds_Goal((TAG)GUILD_ARTISAN_baf9fb0e-f535-40a0-bb78-3ec289d84e66, "Act1_GuildArtisan_Masterwork", d262a98a-8aa8-43ca-9134-cab33b4b519f);
DB_GLO_Backgrounds_Goal((TAG)GUILD_ARTISAN_baf9fb0e-f535-40a0-bb78-3ec289d84e66, "Act1_GuildArtisan_Antidote", 4f413b78-fa91-42da-8c5e-e58eaffa4f16);
DB_GLO_Backgrounds_Goal((TAG)GUILD_ARTISAN_baf9fb0e-f535-40a0-bb78-3ec289d84e66, "Act1_GuildArtisan_Generator", 3243bf1f-85f5-4eac-b54f-8c912c529f68);
DB_GLO_Backgrounds_Goal((TAG)GUILD_ARTISAN_baf9fb0e-f535-40a0-bb78-3ec289d84e66, "Act1_GuildArtisan_ZhentElevator", 6d8c00b3-195c-4403-865f-3174686b42f8);
DB_GLO_Backgrounds_Goal((TAG)GUILD_ARTISAN_baf9fb0e-f535-40a0-bb78-3ec289d84e66, "Act1_GuildArtisan_OmeluumPotion", a8596adf-f0ea-4d25-ab81-690593b125d0);
DB_GLO_Backgrounds_Goal((TAG)GUILD_ARTISAN_baf9fb0e-f535-40a0-bb78-3ec289d84e66, "Act1_GuildArtisan_Painter", 391e6371-542d-4595-ad00-ebaf365d9dcc);
DB_GLO_Backgrounds_Goal((TAG)GUILD_ARTISAN_baf9fb0e-f535-40a0-bb78-3ec289d84e66, "Act1_GuildArtisan_HagPotions", c0807a03-fe9b-47dc-8e7b-5ad89ccd95c6);
DB_GLO_Backgrounds_Goal((TAG)GUILD_ARTISAN_baf9fb0e-f535-40a0-bb78-3ec289d84e66, "Act1_GuildArtisan_ChestOfMundane", ede14d46-9027-4f9c-afed-7cae87cd7baf);
DB_GLO_Backgrounds_Goal((TAG)GUILD_ARTISAN_baf9fb0e-f535-40a0-bb78-3ec289d84e66, "Act1_GuildArtisan_Drowcraft", 63540493-3a06-4a2b-8761-38abf1f142cb);
DB_GLO_Backgrounds_Goal((TAG)GUILD_ARTISAN_baf9fb0e-f535-40a0-bb78-3ec289d84e66, "Act1_GuildArtisan_AdamantineForge", ebb1d51a-ede0-4559-8765-81dbcc062b27);
DB_GLO_Backgrounds_Goal((TAG)GUILD_ARTISAN_baf9fb0e-f535-40a0-bb78-3ec289d84e66, "Act1_GuildArtisan_DuergarMason", 3fc6c4d8-ee10-44dc-9148-9e41e06b02ce);

DB_GLO_Backgrounds_ChainAfterQuestUpdate("GLO_Tadpole", "AskedToDrink", "Act1_GuildArtisan_OmeluumPotion");
DB_GLO_Backgrounds_ChainAfterQuestUpdate("HIDDEN_WLD_Boosters", "UND_ChestOfMundane_Identified", "Act1_GuildArtisan_ChestOfMundane");
DB_GLO_Backgrounds_ChainAfterGoal("Act1_Entertainer_Painter","Act1_GuildArtisan_Painter");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog(UND_DuergarRebelMason_State_LearnedHistory_a615b1b0-3e61-3f5e-5593-c8dbb6b12390, "Act1_GuildArtisan_DuergarMason");

DB_GLO_Backgrounds_GuildArtisan_Combinations((GUIDSTRING)FOR_Spear_TrueSoul_a2f4c951-7db4-4d60-9888-f2ad50af7110,"Act1_GuildArtisan_Spear");
DB_GLO_Backgrounds_GuildArtisan_Combinations((GUIDSTRING)QUEST_FOR_SussurGreatsword_44dedec0-df82-4ed3-b9ca-147bd830e312,"Act1_GuildArtisan_Masterwork");
DB_GLO_Backgrounds_GuildArtisan_Combinations((GUIDSTRING)QUEST_FOR_SussurSickle_6b95bb45-41c3-4954-ac2f-ef1aa169b0b6,"Act1_GuildArtisan_Masterwork");
DB_GLO_Backgrounds_GuildArtisan_Combinations((GUIDSTRING)QUEST_FOR_SussurDagger_8733edb7-f04e-4b6d-ad48-7d49fb782bef,"Act1_GuildArtisan_Masterwork");
DB_GLO_Backgrounds_GuildArtisan_Combinations((GUIDSTRING)UNI_Apprentice_Antidote_25fea821-5ec1-4052-bd6c-60c249e72a79,"Act1_GuildArtisan_Antidote");

DB_GLO_Backgrounds_GuildArtisan_HagPotions((GUIDSTRING)CONS_Hag_Broken_Promises_3575950d-c41a-448d-bb2d-cd08c78c88c6);
DB_GLO_Backgrounds_GuildArtisan_HagPotions((GUIDSTRING)CONS_Hag_Faltering_Will_4d37061a-901d-47d7-9c11-4237e34b98a1);
DB_GLO_Backgrounds_GuildArtisan_HagPotions((GUIDSTRING)CONS_Hag_Heart_Of_Stone_0e54d347-dffa-4d13-92c0-74c82decefba);
DB_GLO_Backgrounds_GuildArtisan_HagPotions((GUIDSTRING)CONS_Hag_Insanitys_Kiss_b1b5590b-e246-4e33-acaa-5984b2e2306f);
DB_GLO_Backgrounds_GuildArtisan_HagPotions((GUIDSTRING)CONS_Hag_Lost_Time_a46558fe-54a8-4720-a12e-7470e072a9d7);
DB_GLO_Backgrounds_GuildArtisan_HagPotions((GUIDSTRING)CONS_Hag_Lovers_Avarice_920dcb59-b732-4d97-ae1a-fadbb5955fe5);
DB_GLO_Backgrounds_GuildArtisan_HagPotions((GUIDSTRING)CONS_Hag_Missing_Pets_44da51b6-6d05-488c-9097-99dd6c795ed3);
DB_GLO_Backgrounds_GuildArtisan_HagPotions((GUIDSTRING)CONS_Hag_Mothers_Loathing_d4fc499a-945e-4e0b-a4db-ba6157281616);
DB_GLO_Backgrounds_GuildArtisan_HagPotions((GUIDSTRING)CONS_Hag_Stillborn_9d98eb5a-08c1-471a-84d5-76dbb098f160);
DB_GLO_Backgrounds_GuildArtisan_HagPotions((GUIDSTRING)CONS_Hag_Wilted_Dreams_2a507888-cf2b-425a-8920-dc0ca35cfa2e);

DB_GLO_Backgrounds_GuildArtisan_DrowCraftDialogs((DIALOGRESOURCE)PLA_Tavern_VB_DeadDrow1Armor_WithDrow_e4b41ade-790f-5a8d-2ef8-302b3aeb675d);
DB_GLO_Backgrounds_GuildArtisan_DrowCraftDialogs((DIALOGRESOURCE)PLA_Tavern_VB_DeadDrow1Armor_5444d8ae-5636-e8e3-9452-294c45d88aac);
//END_REGION Guild Artisan

//REGION Noble
DB_GLO_Backgrounds_Goal((TAG)NOBLE_56825486-9cfc-4ec2-87d1-c8065c41774b, "Act1_Noble_Volo", 476cf636-d360-4374-9a82-47e9e9d45017);
DB_GLO_Backgrounds_Goal((TAG)NOBLE_56825486-9cfc-4ec2-87d1-c8065c41774b, "Act1_Noble_KnowsDukeFromFlorrick", 5fccbd3e-f706-4e20-aa88-aa5d7b077454);
DB_GLO_Backgrounds_Goal((TAG)NOBLE_56825486-9cfc-4ec2-87d1-c8065c41774b, "Act1_Noble_KnowsAstarionMagistrate", 3c4198a2-5a72-4864-ac0c-77c5165974fa, "GlobalAvatar");
DB_GLO_Backgrounds_Goal((TAG)NOBLE_56825486-9cfc-4ec2-87d1-c8065c41774b, "Act1_Noble_KnowsWyllNoble", 4f0ce805-fd7e-42a1-a3b5-e5180c8811e2, "GlobalAvatar");
DB_GLO_Backgrounds_Goal((TAG)NOBLE_56825486-9cfc-4ec2-87d1-c8065c41774b, "Act1_Noble_SoulCoin", d029e541-a120-44ee-a2e5-f0e48dffb2a5);
DB_GLO_Backgrounds_Goal((TAG)NOBLE_56825486-9cfc-4ec2-87d1-c8065c41774b, "Act1_Noble_Ogres", eadf19f0-b31f-4115-834c-c1ec710c092b);
DB_GLO_Backgrounds_Goal((TAG)NOBLE_56825486-9cfc-4ec2-87d1-c8065c41774b, "Act1_Noble_InterruptCompanion", d405f465-7670-4d85-9875-648cdb5a70d6, "GlobalAvatar");
DB_GLO_Backgrounds_Goal((TAG)NOBLE_56825486-9cfc-4ec2-87d1-c8065c41774b, "Act1_Noble_PetrifiedDrow", c972d5e9-9c07-43f0-99f1-2074afcfbb42);

DB_GLO_Backgrounds_ChainAfterCharacterFlag(GLO_Volo_Knows_CampSite_b78e34fb-7d1b-d1cc-b0b8-34d7a51b967a, "Act1_Noble_Volo");
DB_GLO_Backgrounds_ChainAfterCharacterFlag(CAMP_GoblinHuntCelebration_HasMet_Volo_aff9e553-6b94-5adf-ec34-5fd3324fc9b4, "Act1_Noble_Volo");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog(ORI_Wyll_Knows_RavengardFather_ef46f733-7028-8629-260a-d333d2ef3ad4, "Act1_Noble_KnowsWyllNoble");
DB_GLO_Backgrounds_ChainAfterCharacterFlag(Astarion_InParty_Event_ToldAboutMagistrate_aae63bc5-4522-58a4-b341-b2bd8f9f3485, "Act1_Noble_KnowsAstarionMagistrate");
DB_GLO_Backgrounds_ChainAfterCharacterFlag(DEN_ThingLikeMe_Event_InterruptedLaezel_a943209e-0da0-c6a0-0ba5-89834424f3b4, "Act1_Noble_InterruptCompanion");
DB_GLO_Backgrounds_ChainAfterQuestUpdate("DEN_VoloAdventure", "VoloCamp", "Act1_Noble_Volo");
DB_GLO_Backgrounds_ChainAfterQuestUpdate("PLA_GrandDukeRescue", "LearnedDukeMissingCounsellor", "Act1_Noble_KnowsDukeFromFlorrick");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog(FOR_SchoolOgres_State_Hired_77d67f5b-540e-92b9-90ab-fa4849ff3901, "Act1_Noble_Ogres");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog(GLO_GithChokepoint_Event_PlayerAnnoyerLaezel_dc5c51c6-815d-5ce5-95d4-4dde934f025f, "Act1_Noble_InterruptCompanion");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog(UND_PetrifiedDrow_Wizard_Event_GaveCrystal_67aa24ae-1ce2-0982-52c1-03821a529a68, "Act1_Noble_PetrifiedDrow");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog(DEN_ShadowDruid_Event_SetFaithwarden_d8451137-e2a7-247a-1bc2-758ad990255f, "GLO_Noble_Title");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog(UND_MyconidCircle_MyconidSovereignReward_bba639f4-7dde-fccb-2572-f88fdaf67af5, "GLO_Noble_Title");
DB_GLO_Backgrounds_ChainAfterQuestUpdate("UND_BroodingSovereign", "Rewarded", "GLO_Noble_Title");
//END_REGION Noble

//REGION Sage
DB_GLO_Backgrounds_Goal((TAG)SAGE_dad18490-c61d-4958-805c-f017eb68f8a0, "Act1_Sage_VoloGoblins", 09bc6194-07f4-49ec-b244-aed73de519ea);
DB_GLO_Backgrounds_Goal((TAG)SAGE_dad18490-c61d-4958-805c-f017eb68f8a0, "Act1_Sage_BookOfTheDead", b6185101-bfb9-4ce1-9c52-9da5b55c3f2a);
DB_GLO_Backgrounds_Goal((TAG)SAGE_dad18490-c61d-4958-805c-f017eb68f8a0, "Act1_Sage_ShadowDruids", 82d46e24-6742-446c-959d-ddfe460cde67);
DB_GLO_Backgrounds_Goal((TAG)SAGE_dad18490-c61d-4958-805c-f017eb68f8a0, "Act1_Sage_NecromancerTome", 0a122e4d-d5eb-4dab-9033-14e522233f95);
DB_GLO_Backgrounds_Goal((TAG)SAGE_dad18490-c61d-4958-805c-f017eb68f8a0, "Act1_Sage_SussurResearch", 960d3628-8d03-4ab3-af01-4ddfdb033557);
DB_GLO_Backgrounds_Goal((TAG)SAGE_dad18490-c61d-4958-805c-f017eb68f8a0, "Act1_Sage_DruidFresco", 08c6db47-2e1d-47d1-849c-37a46a96a2da);
DB_GLO_Backgrounds_Goal((TAG)SAGE_dad18490-c61d-4958-805c-f017eb68f8a0, "Act1_Sage_NecromancerTomeFinished", 5fd4a196-2163-41ed-b1fc-2610eae9dd9c);
DB_GLO_Backgrounds_Goal((TAG)SAGE_dad18490-c61d-4958-805c-f017eb68f8a0, "Act1_Sage_SpiderHermit", 7732d748-d606-419d-905c-1d906f968619);
DB_GLO_Backgrounds_Goal((TAG)SAGE_dad18490-c61d-4958-805c-f017eb68f8a0, "Act1_Sage_MoonPuzzle", c55f28f6-a586-4b38-8fb4-bd9c16dc8f2e);
DB_GLO_Backgrounds_Goal((TAG)SAGE_dad18490-c61d-4958-805c-f017eb68f8a0, "Act1_Sage_GaleResurrection", c9c51d56-486e-478f-aa38-7992bfad75ae, "GlobalAvatar"); // Gale is Sage!
DB_GLO_Backgrounds_Goal((TAG)SAGE_dad18490-c61d-4958-805c-f017eb68f8a0, "Act1_Sage_IllithidBook", 2060f243-9cd1-472e-bb10-457959b1d4f6);
DB_GLO_Backgrounds_Goal((TAG)SAGE_dad18490-c61d-4958-805c-f017eb68f8a0, "Act1_Sage_DrowBook", 47d5a065-e2c7-4ccb-a907-59b144154693);
DB_GLO_Backgrounds_Goal((TAG)SAGE_dad18490-c61d-4958-805c-f017eb68f8a0, "Act1_Sage_HarperSkeleton", 1c852261-f2a9-404e-887e-192ccaa033cf);
DB_GLO_Backgrounds_Goal((TAG)SAGE_dad18490-c61d-4958-805c-f017eb68f8a0, "Act1_Sage_AdamantineForgeSecrets", e506563a-55a5-478c-9f3f-a2556ed79684);

DB_GLO_Backgrounds_ChainAfterBookClosed((ITEM)S_GOB_VoloGoblinsGuide_b98a3bd2-a17d-4e01-a433-1bd339d3f5f6, "Act1_Sage_VoloGoblins");
DB_GLO_Backgrounds_ChainAfterBookClosed((ITEM)S_DEN_ShadowTenetsBook_87cad28c-6d41-4532-9289-38ab96ee30f5, "Act1_Sage_ShadowDruids");
DB_GLO_Backgrounds_ChainAfterBookClosed((ITEM)S_UND_MatronSpeechDrowTenets_5526bd73-d60d-4117-9e7a-822ffccd7d32, "Act1_Sage_DrowBook");
DB_GLO_Backgrounds_ChainAfterBookClosed((ITEM)S_UND_IllithidMagicLore_90122fdc-6185-48c4-8334-108769886e51, "Act1_Sage_IllithidBook");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog((FLAG)GLO_BookOfRestoredGods_State_BookOpened_4f33a346-8ae4-47a9-8787-79126046827f, "Act1_Sage_BookOfTheDead");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog((FLAG)LOW_SorcerousSundries_State_LastPageThayRead_e25f4165-2aa7-464c-a9aa-ca12715505de,"Act1_Sage_NecromancerTomeFinished");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog((FLAG)PLA_HarperSkeleton_Event_Recognised_f0f5ab24-44f2-70df-fd04-821d124e7fb7,"Act1_Sage_HarperSkeleton");
DB_GLO_Backgrounds_ChainAfterQuestUpdate("HIDDEN_WLD_Boosters","GOB_TempleAccess_Solved", "Act1_Sage_MoonPuzzle");
DB_GLO_Backgrounds_ChainAfterQuestUpdate("FOR_DangerousBook", "FinishTome", "Act1_Sage_NecromancerTome");

DB_GLO_Backgrounds_Sage_DruidFrescoFlags((FLAG)DEN_DruidLair_Knows_DruidsAlliance_365eb5fe-5133-4df4-f33d-d330bce62ad9);
DB_GLO_Backgrounds_Sage_DruidFrescoFlags((FLAG)DEN_DruidLair_Knows_DruidsClearedForest_749d7bf0-3165-7863-e9b9-06d37e4e89ce);
DB_GLO_Backgrounds_Sage_DruidFrescoFlags((FLAG)DEN_DruidLair_Knows_DruidsVictory_62fbb428-36e5-0af0-64c6-774fdc2b454f);
DB_GLO_Backgrounds_Sage_DruidFrescoFlags((FLAG)DEN_DruidLair_Knows_FoundingGrove_4135732e-cf01-dab3-cfbb-99de5067909e);

DB_GLO_Backgrounds_Sage_ArachnomancerJournals(S_FOR_Bottomless_HermitBook1_6db7f303-7fb6-441c-8776-8d3d538ce135);
DB_GLO_Backgrounds_Sage_ArachnomancerJournals(S_FOR_Bottomless_HermitBook2_c9a5e343-3281-444c-a511-1c554d9d0194);
DB_GLO_Backgrounds_Sage_ArachnomancerJournals(S_FOR_Bottomless_HermitBook4_f58d58a3-ccd1-44f5-b178-c1d3a990880f);
DB_GLO_Backgrounds_Sage_ArachnomancerJournals(S_FOR_Bottomless_HermitBook3_45231bcc-cfd1-431b-9dbf-bed0d15d3144);
//END_REGION Sage

//REGION Outlander
DB_GLO_Backgrounds_Goal((TAG)OUTLANDER_d81df6f9-9f6e-4146-841a-9f285e6ee879, "Act1_Outlander_Hyenas", 439585d8-efb8-4f4e-ae74-335971a771a4);
DB_GLO_Backgrounds_Goal((TAG)OUTLANDER_d81df6f9-9f6e-4146-841a-9f285e6ee879, "Act1_Outlander_HagIllusion", 74bbf06c-86ae-45e8-ba67-81e9618a9aa9);
DB_GLO_Backgrounds_Goal((TAG)OUTLANDER_d81df6f9-9f6e-4146-841a-9f285e6ee879, "Act1_Outlander_FairyRings", 2fab92f2-a713-4a98-89f4-6cdaa0dfb3e8);
DB_GLO_Backgrounds_Goal((TAG)OUTLANDER_d81df6f9-9f6e-4146-841a-9f285e6ee879, "Act1_Outlander_BoulderTrap", 53255d82-43e0-46a6-9dc8-db159423ec4e);
DB_GLO_Backgrounds_Goal((TAG)OUTLANDER_d81df6f9-9f6e-4146-841a-9f285e6ee879, "Act1_Outlander_UndMushrooms", 1f1a5090-4e90-42b5-8487-f796dc88cd16);
DB_GLO_Backgrounds_Goal((TAG)OUTLANDER_d81df6f9-9f6e-4146-841a-9f285e6ee879, "Act1_Outlander_JumpFromBottomlessWell", 19930a26-0f14-4375-b908-06fa59a522d5);
DB_GLO_Backgrounds_Goal((TAG)OUTLANDER_d81df6f9-9f6e-4146-841a-9f285e6ee879, "Act1_Outlander_TameCub", b56a83e8-418d-4da5-9f3b-70b06c5a320a);
DB_GLO_Backgrounds_Goal((TAG)OUTLANDER_d81df6f9-9f6e-4146-841a-9f285e6ee879, "Act1_Outlander_DefeatOwlbear", 9623470f-0caa-406a-bed2-7a865f2ff7cb);
DB_GLO_Backgrounds_Goal((TAG)OUTLANDER_d81df6f9-9f6e-4146-841a-9f285e6ee879, "Act1_Outlander_OutpostSpiders", 92f75626-3bdd-4bb8-b5a5-2750c5e61c0d);
DB_GLO_Backgrounds_Goal((TAG)OUTLANDER_d81df6f9-9f6e-4146-841a-9f285e6ee879, "Act1_Outlander_CrawlerNest", 8e2cfe5e-16d5-4f95-b33a-82d3c9ec1109);
DB_GLO_Backgrounds_Goal((TAG)OUTLANDER_d81df6f9-9f6e-4146-841a-9f285e6ee879, "Act1_Outlander_UndBirdNest", a16d585b-8cda-42e2-bc04-a8f7f74c22b3);
DB_GLO_Backgrounds_Goal((TAG)OUTLANDER_d81df6f9-9f6e-4146-841a-9f285e6ee879, "Act1_Outlander_Noblestalk", ce58afd1-99cd-4119-88f7-663ea006d299);
DB_GLO_Backgrounds_Goal((TAG)OUTLANDER_d81df6f9-9f6e-4146-841a-9f285e6ee879, "Act1_Outlander_DefeatElemental", 0d69aa94-26b9-4c37-9db2-aed40b63a9cc);

DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog(CAMP_OwlbearCub_State_BecameCampFollower_a9742288-21b5-428a-9efa-a2e73981c02f, "Act1_Outlander_TameCub");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog(CHA_Outpost_Event_Calmed_34938199-de0a-15c9-5212-254df183e73c, "Act1_Outlander_OutpostSpiders");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog(CHA_Outpost_Event_Calmed_34938199-de0a-15c9-5212-254df183e73c, "Act1_Outlander_OutpostSpiders");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog(UND_MushroomHunter_Event_AteMushroom_617a7a68-9ce9-26e8-883d-7cb98665540c, "Act1_Outlander_Noblestalk");
DB_GLO_Backgrounds_ChainAfterCharacterFlag(FOR_Owlbear_Retreat_7a497024-58c9-b1d6-d1de-1f643e6cc664, "Act1_Outlander_DefeatOwlbear");
DB_GLO_Backgrounds_ChainAfterCharacterFlag(CHA_Outpost_Event_GiveBag_8583a676-76ca-1b79-f509-cd32ce4866c3, "Act1_Outlander_OutpostSpiders");
DB_GLO_Backgrounds_ChainAfterCharacterFlag(UND_WormWall_Event_LowerGiveReward_de7918ce-e0e0-eed1-7f6a-c97571d56fc2, "Act1_Outlander_CrawlerNest");
DB_GLO_Backgrounds_ChainAfterDefeated(S_FOR_OwlBear_e903a41f-8ef7-46dc-a847-7d0ec2804d08,"Act1_Outlander_DefeatOwlbear");
DB_GLO_Backgrounds_ChainAfterDefeatCounterInCombat("GLO_Backgrounds_Outlander_OutpostSpiders","Act1_Outlander_OutpostSpiders");
DB_GLO_Backgrounds_ChainAfterItemOpened((ITEM)S_UND_BirdNest_CONT_GEN_Chest_Common_Placeholder_001_55a460d7-a082-43d5-90a9-25689e67324c, "Act1_Outlander_UndBirdNest");
DB_GLO_Backgrounds_ChainAfterDefeated(S_UND_KethericCity_LavaElemental_1c47b089-3e59-41ca-a300-47dfd941b5a0,"Act1_Outlander_DefeatElemental");
DB_GLO_Backgrounds_ChainAfterDialogEndedWithGlobalFlag((DIALOGRESOURCE)HAG_ForestIllusion_IllusionRedcap_f201b084-08b1-8d74-050f-a1365bdef235, (FLAG)HAG_ForestIllusion_Event_DropIllusion_c8a36ee5-68eb-a944-8295-55188d026506, "Act1_Outlander_HagIllusion");
DB_GlobalFlagReactionAfterDialog(HAG_ForestIllusion_Event_DropIllusion_c8a36ee5-68eb-a944-8295-55188d026506, HAG_ForestIllusion_Illusioncheck_ad27b62d-9b83-dd71-4298-1a29a73b69bd);

DB_GLO_Backgrounds_Outlander_MushroomRoots((ITEMROOT)PUZ_Underdark_Mushroom_Timmask_A_c71ea964-2ea5-4a3b-aa72-e67f7bf42daf,"Timmask");
DB_GLO_Backgrounds_Outlander_MushroomRoots((ITEMROOT)PUZ_Underdark_Mushroom_Timmask_B_c8ba5fc6-e171-4135-a797-5f82cc423550,"Timmask");
DB_GLO_Backgrounds_Outlander_MushroomRoots((ITEMROOT)PUZ_Underdark_Mushroom_Timmask_C_3550e0e2-36ed-4b09-a857-ccfd916cb183,"Timmask");
DB_GLO_Backgrounds_Outlander_MushroomRoots((ITEMROOT)PUZ_Underdark_Mushroom_Exploding_A_eb573ec5-0af1-43da-87de-7fc130b365d7,"Torchstalk");
DB_GLO_Backgrounds_Outlander_MushroomRoots((ITEMROOT)PUZ_Underdark_Mushroom_Exploding_B_804767a7-1016-4e50-845f-ed5376961655,"Torchstalk");
DB_GLO_Backgrounds_Outlander_MushroomRoots((ITEMROOT)PUZ_Underdark_Mushroom_Exploding_C_422d88f2-cc86-4dbe-a1bd-3750a78e2a56,"Torchstalk");
DB_GLO_Backgrounds_Outlander_MushroomRoots((ITEMROOT)PUZ_Underdark_Mushroom_Bibberbang_A_ba629b1b-a058-4386-808f-bf1b08b2c0ad,"Bibberbang");
DB_GLO_Backgrounds_Outlander_MushroomRoots((ITEMROOT)PUZ_Underdark_Mushroom_Bibberbang_B_b80b4cf8-181a-4e75-bea2-2c441c6f2b04,"Bibberbang");
DB_GLO_Backgrounds_Outlander_MushroomRoots((ITEMROOT)PUZ_Underdark_Mushroom_Bibberbang_C_86695866-3009-4ab3-a3f5-41a72d71d29f,"Bibberbang");
DB_GLO_DefeatCounter(S_CHA_OutpostSpider_003_93d169ee-3273-43c4-9861-597fbb968b3a, "GLO_Backgrounds_Outlander_OutpostSpiders");
DB_GLO_DefeatCounter(S_CHA_OutpostSpider_002_825b77f9-e540-4764-b612-4c6ef25c5c9f, "GLO_Backgrounds_Outlander_OutpostSpiders");
DB_GLO_DefeatCounter(S_CHA_OutpostSpider_001_9323734f-c6c2-451d-9e74-4ba92db7977b, "GLO_Backgrounds_Outlander_OutpostSpiders");
DB_GLO_DefeatCounter(S_CHA_OutpostSpider_004_26ef4a71-8bfd-45e8-9169-51b85b95fcbe, "GLO_Backgrounds_Outlander_OutpostSpiders");
DB_GLO_Backgrounds_Outlander_NoblestalkStatusGroups("SG_Disease");
DB_GLO_Backgrounds_Outlander_NoblestalkStatusGroups("SG_Exhausted");
DB_GLO_Backgrounds_Outlander_NoblestalkStatusGroups("SG_Poisoned");
DB_GLO_Backgrounds_Outlander_NoblestalkStatusGroups("SG_Frightened");
DB_GLO_Backgrounds_Outlander_NoblestalkStatusGroups("SG_Charmed");
DB_GLO_Backgrounds_Outlander_NoblestalkStatusGroups("SG_Cursed");
DB_GLO_Backgrounds_Outlander_NoblestalkStatusGroups("SG_Possessed");
DB_GLO_Backgrounds_Outlander_NoblestalkStatusGroups("SG_Madness");
DB_GLO_Backgrounds_Outlander_NoblestalkStatusGroups("SG_Blinded");

DB_GLO_Backgrounds_Outlander_BoulderTrapZones((TRIGGER)S_PLA_BanditCave_TrapZone_A_7dbeb14f-881e-4200-a8c1-c2b94b403d43);
DB_GLO_Backgrounds_Outlander_BoulderTrapZones((TRIGGER)S_PLA_BanditCave_TrapZone_B_9bbe3d04-a1a3-45eb-a422-456af1b4a32c);
DB_GLO_Backgrounds_Outlander_BoulderTrapZones((TRIGGER)S_PLA_BanditCave_TrapZone_C_81f387e2-400e-4bf4-a776-cbda4dd59c60);

DB_GLO_Backgrounds_Outlander_BoulderTrapWires((ITEM)S_PLA_BanditCave_Trap_Tripwire_C_001_222325f6-8657-496a-8e34-1215ec1d58b6);
DB_GLO_Backgrounds_Outlander_BoulderTrapWires((ITEM)S_PLA_BanditCave_Trap_Tripwire_C_000_3de7f2e9-3f0b-4b43-a96e-a3688b207b33);
//END_REGION Outlander

//REGION Urchin
DB_GLO_Backgrounds_Goal((TAG)URCHIN_2faee476-d77b-42a7-a4c6-2b9ac934673c, "Act1_Urchin_IdolForMol", bc2b66e9-b4ad-472d-86bf-0cde17a304b6);
DB_GLO_Backgrounds_Goal((TAG)URCHIN_2faee476-d77b-42a7-a4c6-2b9ac934673c, "Act1_Urchin_ArabellaSaved", 753cd8ed-6194-4763-a4ff-0e4b85809e6e);
DB_GLO_Backgrounds_Goal((TAG)URCHIN_2faee476-d77b-42a7-a4c6-2b9ac934673c, "Act1_Urchin_StolenLocketKid", 4c49f6f6-6533-4e20-92e0-e2d954e6da1a);
DB_GLO_Backgrounds_Goal((TAG)URCHIN_2faee476-d77b-42a7-a4c6-2b9ac934673c, "Act1_Urchin_PickpocketKid", 4c163010-f86f-4923-948f-a567c106255e);
DB_GLO_Backgrounds_Goal((TAG)URCHIN_2faee476-d77b-42a7-a4c6-2b9ac934673c, "Act1_Urchin_HarpiesKid", 319e613d-64a6-45e6-bb55-6bddad25d067);
DB_GLO_Backgrounds_Goal((TAG)URCHIN_2faee476-d77b-42a7-a4c6-2b9ac934673c, "Act1_Urchin_ZhentRewarded", 7724fd7f-33fe-4f32-883a-2e3423252de6);
DB_GLO_Backgrounds_Goal((TAG)URCHIN_2faee476-d77b-42a7-a4c6-2b9ac934673c, "Act1_Urchin_HouseOfHopeFood", 34c9e6d3-ae50-4c08-bb04-b2f8e2d49422);
DB_GLO_Backgrounds_Goal((TAG)URCHIN_2faee476-d77b-42a7-a4c6-2b9ac934673c, "Act1_Urchin_MeliKeptLocket", 35573089-e030-4e5c-8e5c-aaad41e66fb9);
DB_GLO_Backgrounds_Goal((TAG)URCHIN_2faee476-d77b-42a7-a4c6-2b9ac934673c, "Act1_Urchin_SaveOwlbearCub", 5be51c90-1fbc-4fbc-9f4d-6efb3d51dacc);
DB_GLO_Backgrounds_Goal((TAG)URCHIN_2faee476-d77b-42a7-a4c6-2b9ac934673c, "Act1_Urchin_ToeRing", 2fa2329d-fc8a-4015-90e0-c342a9b086d5);
DB_GLO_Backgrounds_Goal((TAG)URCHIN_2faee476-d77b-42a7-a4c6-2b9ac934673c, "Act1_Urchin_OgresOfferedMeat", 052892ff-2b3d-4e5c-9f8f-b5d022e5963a);
DB_GLO_Backgrounds_Goal((TAG)URCHIN_2faee476-d77b-42a7-a4c6-2b9ac934673c, "Act1_Urchin_MoneyForGuild", 22e495ac-b151-4879-bff1-6be490f34d9f);
DB_GLO_Backgrounds_Goal((TAG)URCHIN_2faee476-d77b-42a7-a4c6-2b9ac934673c, "Act1_Urchin_DeadGnomeTrinket", 355a5d87-7873-4e71-88a0-d8aa5a00fcac);

DB_GLO_Backgrounds_ChainAfterQuestUpdate("DEN_IdolTheft", "GaveIdol", "Act1_Urchin_IdolForMol");
DB_GLO_Backgrounds_ChainAfterQuestUpdate("DEN_SnakeCourt", "KidFreed", "Act1_Urchin_ArabellaSaved");
DB_GLO_Backgrounds_ChainAfterQuestUpdate("DEN_SnakeCourt", "KidFreedFirst", "Act1_Urchin_ArabellaSaved");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog((FLAG)DEN_Thieflings_Event_AngeredAdventurer_81b36ccc-9496-94aa-f934-3805312109b3, "Act1_Urchin_StolenLocketKid");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog((FLAG)DEN_Thieflings_Event_ReturnedStolenRing_948879d6-b573-e1fe-bf1a-3b0f3ed2d14d, "Act1_Urchin_PickpocketKid");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog((FLAG)DEN_Thieflings_Event_PlayerAdmittedPickpocketing_429efc66-1ce8-3e83-ecc8-f85f5b1812d6, "Act1_Urchin_PickpocketKid");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog((FLAG)PLA_ZhentShipment_State_RewardedWithGold_8b524e49-269e-9c93-7685-8343adf54ff3, "Act1_Urchin_ZhentRewarded");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog((FLAG)DEN_Thieflings_Knows_MeliTalkedAboutHisMother_12fca62d-399a-7517-89ed-6bc51dc2c5b2,"Act1_Urchin_MeliKeptLocket");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog((FLAG)FOR_SchoolOgres_State_OfferedMeat_d5b09c6c-959d-514b-c265-292331928889, "Act1_Urchin_OgresOfferedMeat");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog((FLAG)FOR_SchoolOgres_State_OfferedLatePayment_0abc5fd9-599e-f536-5504-0ce0aad477c0, "Act1_Urchin_OgresOfferedMeat");
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog((FLAG)DEN_Hideout_Event_GaveMoneyForGuild_f7cb8a47-18ad-6131-60b4-dbd4b4f6b24a,"Act1_Urchin_MoneyForGuild");
DB_GLO_Backgrounds_ChainAfterCharacterFlag((FLAG)DEN_HarpyMeal_State_RescuedChild_7a90f576-f762-4710-aa4d-9a81905bd971, "Act1_Urchin_HarpiesKid");
DB_GLO_Backgrounds_ChainAfterCharacterFlag((FLAG)FOR_Monitor_Event_TakeFood_1f6daf35-dee7-436b-bb7a-d7c1c8b86725, "Act1_Urchin_HouseOfHopeFood");
DB_GLO_Backgrounds_ChainAfterCharacterFlag((FLAG)GOB_DrunkGoblin_Event_RingStolen_78805014-8f74-a0ef-9a4b-2f608e31e4e7,"Act1_Urchin_ToeRing");
DB_GLO_Backgrounds_ChainAfterCharacterFlag((FLAG)UND_DeadInTheWater_Event_GiveTrinket_23c401e5-db8d-4701-9ac3-87c5c42eb8f8,"Act1_Urchin_DeadGnomeTrinket");
DB_GLO_Backgrounds_ChainAfterGoal("Act1_Entertainer_VanishedRing", "Act1_Urchin_PickpocketKid"); // vanishing trick
//END_REGION Urchin

//REGION Soldier
DB_GLO_Backgrounds_Goal((TAG)SOLDIER_d135f265-c2e1-4077-a836-b548ee871681, "Act1_Soldier_GobLeadersDead", 288e1dde-4362-402f-963a-0705691a2ba6);
DB_GLO_Backgrounds_Goal((TAG)SOLDIER_d135f265-c2e1-4077-a836-b548ee871681, "Act1_Soldier_GithKilled", 0077498b-431a-4858-9457-c33015b4193c);
DB_GLO_Backgrounds_Goal((TAG)SOLDIER_d135f265-c2e1-4077-a836-b548ee871681, "Act1_Soldier_HelpedKarlach", 09bbac44-3c65-4b92-aa39-b4f013eeeb9e);
DB_GLO_Backgrounds_Goal((TAG)SOLDIER_d135f265-c2e1-4077-a836-b548ee871681, "Act1_Soldier_OrdersAtTavern", fc61a6ec-6fcb-4faf-af88-8e50e184b78b);
DB_GLO_Backgrounds_Goal((TAG)SOLDIER_d135f265-c2e1-4077-a836-b548ee871681, "Act1_Soldier_DuergarRaft", 24a34290-f542-4e28-ad08-72d7012f87b9);
DB_GLO_Backgrounds_Goal((TAG)SOLDIER_d135f265-c2e1-4077-a836-b548ee871681, "Act1_Soldier_PleaAtGates", 2f73e4b3-5b30-4b02-92de-0c94d66321a7);
DB_GLO_Backgrounds_Goal((TAG)SOLDIER_d135f265-c2e1-4077-a836-b548ee871681, "Act1_Soldier_GuexTrained", a40d0768-b6d3-4d78-9a04-ca489e6e6a02);

DB_GLO_Backgrounds_ChainAfterDefeatCounterInCombat("PLA_GithChokepoint_DefeatCounter", "Act1_Soldier_GithKilled");
DB_GLO_Backgrounds_ChainAfterQuestUpdate("PLA_PaladinsOfTyr","PaladinsPermadefeated","Act1_Soldier_HelpedKarlach");
DB_GLO_Backgrounds_ChainAfterQuestUpdate("HIDDEN_WLD_Boosters", "DEN_IrritatedTiefling_Trained", "Act1_Soldier_GuexTrained");

DB_GLO_Backgrounds_Soldier_PleaAtGatesNPCs((CHARACTER)S_DEN_RobbedAdventurer_534bceaf-678c-40a0-8ca9-e1134f95ba0d);
DB_GLO_Backgrounds_Soldier_PleaAtGatesNPCs((CHARACTER)S_DEN_AdventurerLeader_82d1b843-9e8c-48a5-9d87-caddea5c193c);
DB_GLO_Backgrounds_Soldier_PleaAtGatesNPCs((CHARACTER)S_DEN_RaidAdventurer_4faf77a0-b883-4f7b-acbf-4500973f446d);
DB_GLO_Backgrounds_Soldier_PleaAtGatesNPCs((CHARACTER)S_Player_Wyll_c774d764-4a17-48dc-b470-32ace9ce447d);
//END_REGION Soldier

//REGION Haunted one
DB_GLO_Backgrounds_Goal((TAG)HAUNTED_ONE_ce00b3b6-238e-4524-851b-3d1f2d2b1189, "Act1_HauntedOne_WithersReleased", 84977728-ec8c-46ae-a0dd-a3895417fe73);
DB_GLO_Backgrounds_Goal((TAG)HAUNTED_ONE_ce00b3b6-238e-4524-851b-3d1f2d2b1189, "Act1_HauntedOne_AlfiraKilled", aac31e24-5f58-4880-ab67-bd1cbf48ee19);
DB_GLO_Backgrounds_Goal((TAG)HAUNTED_ONE_ce00b3b6-238e-4524-851b-3d1f2d2b1189, "Act1_HauntedOne_BrynnaAndrickKilled", 55b62811-fc33-45d2-8969-d71b50f859cb);
DB_GLO_Backgrounds_Goal((TAG)HAUNTED_ONE_ce00b3b6-238e-4524-851b-3d1f2d2b1189, "Act1_HauntedOne_CookedDwarfEaten", e3599d7e-beb7-422f-bf4d-6135b3b743c6);
DB_GLO_Backgrounds_Goal((TAG)HAUNTED_ONE_ce00b3b6-238e-4524-851b-3d1f2d2b1189, "Act1_HauntedOne_TorturedLiam", 65d5e34f-80f9-458a-bf0d-a1c85c1c2ce1);
DB_GLO_Backgrounds_Goal((TAG)HAUNTED_ONE_ce00b3b6-238e-4524-851b-3d1f2d2b1189, "Act1_HauntedOne_GoblinAlePoisoned", ae6682e2-6d0d-4abc-973a-29d8eb1a112e);
DB_GLO_Backgrounds_Goal((TAG)HAUNTED_ONE_ce00b3b6-238e-4524-851b-3d1f2d2b1189, "Act1_HauntedOne_BenrynLeftToBurn", c7fb7dbd-1513-4d65-8b25-d136ea39af9e);
DB_GLO_Backgrounds_Goal((TAG)HAUNTED_ONE_ce00b3b6-238e-4524-851b-3d1f2d2b1189, "Act1_HauntedOne_EthelKilled", 84774252-e373-4372-ad79-87df5d7f4113);
DB_GLO_Backgrounds_Goal((TAG)HAUNTED_ONE_ce00b3b6-238e-4524-851b-3d1f2d2b1189, "Act1_HauntedOne_SidedAgainstGoblins", f611790f-df82-4967-8282-620c305ad0f3);
DB_GLO_Backgrounds_Goal((TAG)HAUNTED_ONE_ce00b3b6-238e-4524-851b-3d1f2d2b1189, "Act1_HauntedOne_SidedAgainstTieflings", 345c9e42-5758-44be-ba56-6012cd5f8c91);
DB_GLO_Backgrounds_Goal((TAG)HAUNTED_ONE_ce00b3b6-238e-4524-851b-3d1f2d2b1189, "Act1_HauntedOne_MyconidSovereingKilled", f490f066-9b7d-4830-baa8-81fcaff72ed7);
DB_GLO_Backgrounds_Goal((TAG)HAUNTED_ONE_ce00b3b6-238e-4524-851b-3d1f2d2b1189, "Act1_HauntedOne_NereHeadObtained", 0756bba6-5263-4fcf-977e-be1a6a7f48eb);
DB_GLO_Backgrounds_Goal((TAG)HAUNTED_ONE_ce00b3b6-238e-4524-851b-3d1f2d2b1189, "Act1_HauntedOne_PinnedMindFlayer", 6d36f2a0-6570-42ba-b299-2b7762e16652);
DB_GLO_Backgrounds_Goal((TAG)HAUNTED_ONE_ce00b3b6-238e-4524-851b-3d1f2d2b1189, "Act1_HauntedOne_IndulgedDarkUrge", cf3e7042-967a-40be-b484-f453b74d7f64);
DB_GLO_Backgrounds_Goal((TAG)HAUNTED_ONE_ce00b3b6-238e-4524-851b-3d1f2d2b1189, "Act1_HauntedOne_ResistedDarkUrge", 84774252-e373-4372-ad79-87df5d7f4113);

DB_GLO_DefeatCounter(S_FOR_PriestConqueringGod_001_2c9b967d-fbaa-43c0-9461-3e1598b5fbe1, "Act1_HauntedOne_BrynnaAndrickKilled");
DB_GLO_DefeatCounter(S_FOR_PriestConqueringGod_002_d4a3b125-2b03-4fe8-bab2-7e485390bd49, "Act1_HauntedOne_BrynnaAndrickKilled");
DB_GLO_Backgrounds_ChainAfterDefeatCounterInCombat("Act1_HauntedOne_BrynnaAndrickKilled", "Act1_HauntedOne_BrynnaAndrickKilled");
DB_GLO_Backgrounds_Goal((TAG)HAUNTED_ONE_ce00b3b6-238e-4524-851b-3d1f2d2b1189, "Act1_HauntedOne_LugAndOgresRecruited", b69f1416-29ef-4ddc-acf3-86f378afcef6);
DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog((FLAG)FOR_SchoolOgres_State_OfferedMeat_d5b09c6c-959d-514b-c265-292331928889, "Act1_HauntedOne_LugAndOgresRecruited");
DB_GLO_Backgrounds_ChainAfterQuestUpdate("PLA_StuckHalfElf", "Dead", "Act1_HauntedOne_BenrynLeftToBurn");
DB_GLO_Backgrounds_ChainAfterDefeated(S_CRA_Escape_Mindflayer_d5385cd0-f371-43dc-a0a2-50381fc50ea4, "Act1_HauntedOne_PinnedMindFlayer");

//END_REGION

//REGION Backlog
// Acolyte
//DB_GLO_Backgrounds_Goal((TAG)ACOLYTE_906d1961-e9c6-4170-b775-62797a0efe1c, "Act1_Acolyte_PetGrave", "Global");
//DB_GLO_Backgrounds_Goal((TAG)ACOLYTE_906d1961-e9c6-4170-b775-62797a0efe1c, "Act1_Acolyte_SpiderHermit", "Global");

// Criminal
//DB_GLO_Backgrounds_Goal((TAG)CRIMINAL_74ed9de3-fff5-419a-949b-18bd5e17944e, "Act1_Criminal_TrickedTieflings", "Global");
//DB_GLO_Backgrounds_Goal((TAG)CRIMINAL_74ed9de3-fff5-419a-949b-18bd5e17944e, "Act1_Criminal_MattisTrick", "Global");
//DB_GLO_Backgrounds_Goal((TAG)CRIMINAL_74ed9de3-fff5-419a-949b-18bd5e17944e, "Act1_Criminal_HelpedPaladins", "Global");
//DB_GLO_Backgrounds_Goal((TAG)CRIMINAL_74ed9de3-fff5-419a-949b-18bd5e17944e, "Act1_Criminal_StealUniqueItem_Egg", "Global");

//DB_GLO_Backgrounds_ChainAfterCharacterFlag(PLA_KarlachRecruitmentTollhouse_Event_GiveWeapon_22ae1f42-07bc-4f15-8ea0-26e71487b85a, "Act1_Criminal_HelpedPaladins");
//DB_GLO_Backgrounds_ChainAfterCharacterFlag(FOR_Owlbear_HasOwlbearEgg_473a562b-6aef-4352-b285-48bd1c8b49cb, "Act1_Criminal_StealUniqueItem_Egg");
//DB_GLO_Backgrounds_ChainAfterGoal("Act1_Charlatan_TrickTieflingsLaezel", "Act1_Criminal_TrickedTieflings");

// Folk Hero
//DB_GLO_Backgrounds_Goal((TAG)FOLKHERO_9c38904c-4aed-4d22-9038-fc7d103aaed5, "Act1_FolkHero_ZhentSurvivors", "Global");
//DB_GLO_Backgrounds_Goal((TAG)FOLKHERO_9c38904c-4aed-4d22-9038-fc7d103aaed5, "Act1_FolkHero_Dowry", "Global");
//DB_GLO_Backgrounds_Goal((TAG)FOLKHERO_9c38904c-4aed-4d22-9038-fc7d103aaed5, "Act1_FolkHero_Painter", "Global");
//DB_GLO_Backgrounds_Goal((TAG)FOLKHERO_9c38904c-4aed-4d22-9038-fc7d103aaed5, "Act1_FolkHero_ProdigyPersuaded", "Global");
//DB_GLO_Backgrounds_Goal((TAG)FOLKHERO_9c38904c-4aed-4d22-9038-fc7d103aaed5, "Act1_FolkHero_SavedHag", "Global");
//DB_GLO_Backgrounds_Goal((TAG)FOLKHERO_9c38904c-4aed-4d22-9038-fc7d103aaed5, "Act1_FolkHero_HelpedKarlach", "Global");
//DB_GLO_Backgrounds_Goal((TAG)FOLKHERO_9c38904c-4aed-4d22-9038-fc7d103aaed5, "Act1_FolkHero_BugbearNinja", da51fa69-e7d2-4eea-836b-206b9eeefa1c);

//DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog((FLAG)PLA_ZhentShipment_State_TalkedAfterKilledGnolls_8c60be2a-fb0a-ec52-ca14-883cab378dc0, "Act1_FolkHero_ZhentSurvivors");
//DB_GLO_Backgrounds_ChainAfterQuestUpdate("PLA_StuckHalfElf", "ReturnedGold", "Act1_FolkHero_Dowry");
//DB_GLO_Backgrounds_ChainAfterGoal("Act1_Entertainer_Painter","Act1_FolkHero_Painter");
//DB_GLO_Backgrounds_ChainAfterGoal("Act1_Soldier_HelpedKarlach","Act1_FolkHero_HelpedKarlach");
//DB_GLO_Backgrounds_ChainAfterGoal("Act1_Soldier_ProdigyPersuaded","Act1_FolkHero_ProdigyPersuaded");
//DB_GLO_Backgrounds_ChainAfterCharacterFlag(HAG_HagAmbush_Event_ThankedNoMoney_29af4069-34e6-a155-369b-f7bff23048fe,"Act1_FolkHero_SavedHag");

// Noble
//DB_GLO_Backgrounds_Goal((TAG)NOBLE_56825486-9cfc-4ec2-87d1-c8065c41774b, "Act1_Noble_Jergal", "Global");
//DB_GLO_Backgrounds_Goal((TAG)NOBLE_56825486-9cfc-4ec2-87d1-c8065c41774b, "Act1_Noble_Halsin", "Global");
//DB_GLO_Backgrounds_Goal((TAG)NOBLE_56825486-9cfc-4ec2-87d1-c8065c41774b, "Act1_Noble_UnfortunateGnome", "Global");

//DB_GLO_Backgrounds_ChainAfterCharacterFlag(CAMP_Jergal_HasMet_fdba7b59-851a-3edb-fe0f-d6045c5f8dd3, "Act1_Noble_Jergal");
//DB_GLO_Backgrounds_ChainAfterQuestUpdate("FOR_UnfortunateGnome", "GnomeToCamp", "Act1_Noble_UnfortunateGnome");

// Hermit
//DB_GLO_Backgrounds_Goal((TAG)HERMIT_2fa3f042-2b50-41b2-8045-39ddd4421ca9, "Act1_Hermit_MystraCleric");
//DB_GLO_Backgrounds_Goal((TAG)HERMIT_2fa3f042-2b50-41b2-8045-39ddd4421ca9, "Act1_Hermit_Arachnomancer");
//DB_GLO_Backgrounds_Goal((TAG)HERMIT_2fa3f042-2b50-41b2-8045-39ddd4421ca9, "Act1_Hermit_MyconidDrow");
//DB_GLO_Backgrounds_Goal((TAG)HERMIT_2fa3f042-2b50-41b2-8045-39ddd4421ca9, "Act1_Hermit_WaterfallGoblin");
//DB_GLO_Backgrounds_Goal((TAG)HERMIT_2fa3f042-2b50-41b2-8045-39ddd4421ca9, "Act1_Hermit_Apothecary");

//DB_GLO_Backgrounds_ChainAfterBookClosed((ITEM)S_UND_ClericDiary_623c1d86-4d4e-4120-986c-bda7cf6350ed, "Act1_Hermit_MystraCleric");
//DB_GLO_Backgrounds_ChainAfterBookClosed((ITEM)S_UND_MyconidCircle_DrowDiary_96330d15-fe1a-4179-9b67-5bf5a335d206, "Act1_Hermit_MyconidDrow");
//DB_GLO_Backgrounds_ChainAfterBookClosed((ITEM)S_FOR_ThayanJournal_9339e000-6be5-45c3-868d-7e686c7d2b69, "Act1_Hermit_Apothecary");
//DB_GLO_Backgrounds_ChainAfterBookClosed((ITEM)BOOK_GEN_Book_C_003_36c3f5ca-03dc-8fff-1dfb-d483ab53bac7, "Act1_Hermit_Arachnomancer");
//DB_GLO_Backgrounds_ChainAfterBookClosed((ITEM)S_GOB_Checkpoint_LetterToZrell_9d6c5969-9f9f-4517-8e7f-a51eac1fa0a5, "Act1_Hermit_WaterfallGoblin");

// Outlander
//DB_GLO_Backgrounds_Goal((TAG)OUTLANDER_d81df6f9-9f6e-4146-841a-9f285e6ee879, "Act1_Outlander_Antidote", "Global");
//DB_GLO_Backgrounds_Goal((TAG)OUTLANDER_d81df6f9-9f6e-4146-841a-9f285e6ee879, "Act1_Outlander_ForestStash", "Global");
//DB_GLO_Backgrounds_Goal((TAG)OUTLANDER_d81df6f9-9f6e-4146-841a-9f285e6ee879, "Act1_Outlander_SpiderPit", "Global");

//DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog(GOB_SpiderNest_State_SpidersChill_7e28b817-42cc-2d7c-8bca-9f4b6fd9c35e, "Act1_Outlander_SpiderPit");
//DB_GLO_Backgrounds_ChainAfterGoal("Act1_GuildArtisan_Antidote", "Act1_Outlander_Antidote");
//DB_GLO_Backgrounds_ChainAfterItemOpened(S_FOR_TreeHole_bf6ac50c-ba1f-4798-b895-4680cc156c5d, "Act1_Outlander_ForestStash");

// Urchin
//DB_GLO_Backgrounds_Goal((TAG)URCHIN_2faee476-d77b-42a7-a4c6-2b9ac934673c, "Act1_Urchin_GithLeave", "Global");
//DB_GLO_Backgrounds_Goal((TAG)URCHIN_2faee476-d77b-42a7-a4c6-2b9ac934673c, "Act1_Urchin_SpiderPit", "Global");
//DB_GLO_Backgrounds_Goal((TAG)URCHIN_2faee476-d77b-42a7-a4c6-2b9ac934673c, "Act1_Urchin_CourierDog", "Global");
//DB_GLO_Backgrounds_Goal((TAG)URCHIN_2faee476-d77b-42a7-a4c6-2b9ac934673c, "Act1_Urchin_RaidingPartyAskedPayment", "Global");
//DB_GLO_Backgrounds_Goal((TAG)URCHIN_2faee476-d77b-42a7-a4c6-2b9ac934673c, "Act1_Urchin_PickpocketTalent", "Global");
//DB_GLO_Backgrounds_Goal((TAG)URCHIN_2faee476-d77b-42a7-a4c6-2b9ac934673c, "Act1_Urchin_MoneyForGuild", "Global");
//DB_GLO_Backgrounds_Goal((TAG)URCHIN_2faee476-d77b-42a7-a4c6-2b9ac934673c, "Act1_Urchin_PurchasedJunk", "Global");
//DB_GLO_Backgrounds_Goal((TAG)URCHIN_2faee476-d77b-42a7-a4c6-2b9ac934673c, "Act1_Urchin_KidsInspired", "Global");
//DB_GLO_Backgrounds_Goal((TAG)URCHIN_2faee476-d77b-42a7-a4c6-2b9ac934673c, "Act1_Urchin_WolfPensKids", "Global");
//DB_GLO_Backgrounds_Goal((TAG)URCHIN_2faee476-d77b-42a7-a4c6-2b9ac934673c, "Act1_Urchin_FestivitiesKids", "Global");

//DB_GLO_Backgrounds_Urchin_GoblinKidsSurrenderFlags((FLAG)GOB_Festivities_GoblinKid_001_SaidSurrenderSpeech_424e8626-9109-d90b-ea77-32cef74bd7f6);
//DB_GLO_Backgrounds_Urchin_GoblinKidsSurrenderFlags((FLAG)GOB_Festivities_GoblinKid_002_SaidSurrenderSpeech_03f2bbc9-ef13-cf17-5976-101ec8b12c14);
//DB_GLO_Backgrounds_Urchin_GoblinKidsSurrenderFlags((FLAG)GOB_Festivities_GoblinKid_000_SaidSurrenderSpeech_88af1661-eee2-ca0c-3b31-a18ef264149d);

//DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog((FLAG)GOB_WolfPens_Event_SidedWithGoblins_8887d64d-f76a-4410-b5a5-9f33f0362a64, "Act1_Urchin_WolfPensKids");
//DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog((FLAG)GOB_Festivities_Event_KidsRun_8e6522c7-e0c1-8e17-1346-97ea30a05135, "Act1_Urchin_FestivitiesKids");
//DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog((FLAG)DEN_Thieflings_Event_SaidGotPickpocketTalent_8a07f84f-0594-a89d-cc03-6a9c8bed6067,"Act1_Urchin_PickpocketTalent");
//DB_GLO_Backgrounds_ChainAfterGlobalFlagInDialog((FLAG)DEN_Hideout_Event_GaveMoneyForGuild_f7cb8a47-18ad-6131-60b4-dbd4b4f6b24a,"Act1_Urchin_MoneyForGuild");
//DB_GLO_Backgrounds_ChainAfterCharacterFlag((FLAG)FOR_Courier_Dog_Knows_InvitedToCamp_7acc0e57-1f48-2af8-fd12-3fefd3260079,"Act1_Urchin_CourierDog");
//DB_GLO_Backgrounds_ChainAfterCharacterFlag((FLAG)DEN_RaidingParty_Event_AskedPayment_a992ef48-9555-aab7-6389-8d5789c2d345,"Act1_Urchin_RaidingPartyAskedPayment");
//DB_GLO_Backgrounds_ChainAfterGoal("Act1_Soldier_KidsInspired", "Act1_Urchin_KidsInspired");
//DB_GLO_Backgrounds_ChainAfterGoal("Act1_Charlatan_GithLeave", "Act1_Urchin_GithLeave");
//DB_GLO_Backgrounds_ChainAfterGoal("Act1_Charlatan_SpiderPit", "Act1_Urchin_SpiderPit");

// Treasure Hunter
//DB_GLO_Backgrounds_Goal((TAG)SAILOR_3f4cfd9e-cc97-4fd9-ae7a-21f2948fd1b0, "Act1_TreasureHunter_Harpies");
//DB_GLO_Backgrounds_Goal((TAG)SAILOR_3f4cfd9e-cc97-4fd9-ae7a-21f2948fd1b0, "Act1_TreasureHunter_HarpersCrashside");
//DB_GLO_Backgrounds_Goal((TAG)SAILOR_3f4cfd9e-cc97-4fd9-ae7a-21f2948fd1b0, "Act1_TreasureHunter_HarpersNearDen");
//DB_GLO_Backgrounds_Goal((TAG)SAILOR_3f4cfd9e-cc97-4fd9-ae7a-21f2948fd1b0, "Act1_TreasureHunter_TavernDowry");
//DB_GLO_Backgrounds_Goal((TAG)SAILOR_3f4cfd9e-cc97-4fd9-ae7a-21f2948fd1b0, "Act1_TreasureHunter_DrowPatrol");
//DB_GLO_Backgrounds_Goal((TAG)SAILOR_3f4cfd9e-cc97-4fd9-ae7a-21f2948fd1b0, "Act1_TreasureHunter_ZhentCache");
//DB_GLO_Backgrounds_Goal((TAG)SAILOR_3f4cfd9e-cc97-4fd9-ae7a-21f2948fd1b0, "Act1_TreasureHunter_ForestGoblinStash");
//DB_GLO_Backgrounds_Goal((TAG)SAILOR_3f4cfd9e-cc97-4fd9-ae7a-21f2948fd1b0, "Act1_TreasureHunter_TollhouseBasement");
//DB_GLO_Backgrounds_Goal((TAG)SAILOR_3f4cfd9e-cc97-4fd9-ae7a-21f2948fd1b0, "Act1_TreasureHunter_UndBirdNest");
//DB_GLO_Backgrounds_Goal((TAG)SAILOR_3f4cfd9e-cc97-4fd9-ae7a-21f2948fd1b0, "Act1_TreasureHunter_CarrionCrawlerNest");

//DB_GLO_Backgrounds_ChainAfterItemOpened((ITEM)S_CRA_HarperTreasureBox_89b85f26-c282-40e2-bfdc-bf0932649443, "Act1_TreasureHunter_HarpersCrashside");
//DB_GLO_Backgrounds_ChainAfterItemOpened((ITEM)S_DEN_HarpyNest_a5c87ab6-b38b-4c2b-bf4f-a1f5f391f79f, "Act1_TreasureHunter_Harpies");
//DB_GLO_Backgrounds_ChainAfterItemOpened((ITEM)S_UND_BirdNest_CONT_GEN_Chest_Common_Placeholder_001_55a460d7-a082-43d5-90a9-25689e67324c, "Act1_TreasureHunter_UndBirdNest");
//DB_GLO_Backgrounds_ChainAfterItemOpened((ITEM)S_CHA_OutpostBag_3e93a5e1-c8ae-4f2a-b4c9-0e34085240f9, "Act1_TreasureHunter_HarpersNearDen");
//DB_GLO_Backgrounds_ChainAfterItemOpened((ITEM)S_PLA_StuckHalfElf_Dowry_Chest_d7368244-74f3-46f6-9198-d0dd81d72a78,"Act1_TreasureHunter_TavernDowry");
//DB_GLO_Backgrounds_ChainAfterItemOpened((ITEM)S_FOR_ZhentCache_0d88a72b-e7b9-4609-8f56-ccb4a15e61bd,"Act1_TreasureHunter_ZhentCache");
//DB_GLO_Backgrounds_ChainAfterItemOpened((ITEM)S_FOR_WarMap_Stash_876e5a0b-80ed-4f29-a177-e60dbb54e3c5,"Act1_TreasureHunter_ForestGoblinStash");
//DB_GLO_Backgrounds_ChainAfterItemOpened((ITEM)S_UND_DrowResupply_HeavyChest_e8f726d4-aacd-4397-adaa-27ebdf6a0f5b,"Act1_TreasureHunter_DrowPatrol");
//DB_GLO_Backgrounds_ChainAfterCharacterFlag((FLAG)UND_WormWall_Event_LowerGiveReward_de7918ce-e0e0-eed1-7f6a-c97571d56fc2, "Act1_TreasureHunter_CarrionCrawlerNest");

// Soldier
//DB_GLO_Backgrounds_Goal((TAG)SOLDIER_d135f265-c2e1-4077-a836-b548ee871681, "Act1_Soldier_BossSpider", "Global");
//DB_GLO_Backgrounds_Goal((TAG)SOLDIER_d135f265-c2e1-4077-a836-b548ee871681, "Act1_Soldier_BossFlind", "Global");
//DB_GLO_Backgrounds_Goal((TAG)SOLDIER_d135f265-c2e1-4077-a836-b548ee871681, "Act1_Soldier_BossSpectator", "Global");
//DB_GLO_Backgrounds_Goal((TAG)SOLDIER_d135f265-c2e1-4077-a836-b548ee871681, "Act1_Soldier_BossBulette", "Global");
//DB_GLO_Backgrounds_Goal((TAG)SOLDIER_d135f265-c2e1-4077-a836-b548ee871681, "Act1_Soldier_BossHag", "Global");
//DB_GLO_Backgrounds_Goal((TAG)SOLDIER_d135f265-c2e1-4077-a836-b548ee871681, "Act1_Soldier_FlamingFistPrayed", "Global");
//DB_GLO_Backgrounds_Goal((TAG)SOLDIER_d135f265-c2e1-4077-a836-b548ee871681, "Act1_Soldier_FlamingFistsKilled", "Global");

//DB_GLO_DefeatCounter(S_PLA_FlamingFist2_48b99fd9-f34e-4c11-a1a6-435ea6ef1c80, "PLA_Backgrounds_Soldier_TavernFists");
//DB_GLO_DefeatCounter(S_PLA_FlamingFist1_646a4195-4091-4dc9-81e1-cff2604f3911, "PLA_Backgrounds_Soldier_TavernFists");
//DB_GLO_DefeatCounter(S_PLA_FlamingFist7_c28e5d52-8674-49a2-a60a-6e5ed47f4441, "PLA_Backgrounds_Soldier_TavernFists");
//DB_GLO_DefeatCounter(S_PLA_FlamingFist4_5791727f-ace8-4b04-973a-cdf1f02f4984, "PLA_Backgrounds_Soldier_TavernFists");
//DB_GLO_DefeatCounter(S_PLA_FlamingFist8_c7dbb25b-69c0-4fb7-b4ba-f398b3e0e30a, "PLA_Backgrounds_Soldier_TavernFists");
//DB_GLO_DefeatCounter(S_PLA_FlamingFist5_c49b27b2-bd55-4c3f-a09a-7d787ab547ae, "PLA_Backgrounds_Soldier_TavernFists");
//DB_GLO_DefeatCounter(S_PLA_FlamingFist3_4bae156f-e1a1-4190-b6fa-84dac624c913, "PLA_Backgrounds_Soldier_TavernFists");

//DB_GLO_Backgrounds_ChainAfterKilledInCombat((CHARACTER)S_FOR_Bottomless_SpiderQueen_e6b2f3ba-2d02-4507-8680-6047322e1a4b,"Act1_Soldier_BossSpider");
//DB_GLO_Backgrounds_ChainAfterKilledInCombat((CHARACTER)S_PLA_ConflictedFlind_Boss_34464430-fed8-4f50-86d5-bd35846920a0,"Act1_Soldier_BossFlind");
//DB_GLO_Backgrounds_ChainAfterKilledInCombat((CHARACTER)S_UND_PetrifiedDrow_Spectator_39ff8241-fadd-4fbe-ab89-fc5a8b7638a0,"Act1_Soldier_BossSpectator");
//DB_GLO_Backgrounds_ChainAfterKilledInCombat((CHARACTER)S_UND_Bulette_307934b5-6fb5-4fdc-a7ff-433a7ba175b3, "Act1_Soldier_BossBulette");
//DB_GLO_Backgrounds_ChainAfterKilledInCombat((CHARACTER)S_HAG_Hag_c457d064-83fb-4ec6-b74d-1f30dfafd12d,"Act1_Soldier_BossHag");
//DB_GLO_Backgrounds_ChainAfterGoal("Act1_Acolyte_FlamingFistPrayed","Act1_Soldier_FlamingFistPrayed");
//DB_GLO_Backgrounds_ChainAfterDefeatCounterInCombat("PLA_Backgrounds_Soldier_TavernFists","Act1_Soldier_FlamingFistsKilled");
//END_REGION Backlog
KBSECTION
//REGION Acolyte
// Drow Shrine
IF
FlagSet((FLAG)UND_SwordInStone_Event_GiveReward_f436af9d-ee3c-22e0-e677-23e3fa31e890, (CHARACTER)_Player, _)
AND
DB_GlobalFlag((FLAG)UND_SwordInStone_State_SwordUnlocked_6698f98a-cde7-d515-47ff-68d269d54eba)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Player, "Act1_Acolyte_DrowShrineSword");

// Selune Chest
IF
StatusRemoved(S_FOR_SeluneStash_Chest_3121a64d-b19f-43eb-aade-b641429366c4, "FOR_SELUNESTASH_CHESTSEAL", _, _)
AND
DB_PartyMembers((CHARACTER)_PartyMember)
AND
QRY_IsInRange(_PartyMember, S_FOR_SeluneStash_Chest_3121a64d-b19f-43eb-aade-b641429366c4, 20.0)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_PartyMember, "Act1_Acolyte_SeluneChestPrayed");

IF
DestroyedBy(S_FOR_SeluneStash_Chest_3121a64d-b19f-43eb-aade-b641429366c4, _, _, _)
AND
NOT DB_GLO_Backgrounds_Blocked("Act1_Acolyte_SeluneChestPrayed")
THEN
DB_GLO_Backgrounds_Blocked("Act1_Acolyte_SeluneChestPrayed");

//Kuo-toa
IF
StatusApplied((CHARACTER)_PartyMember, "UND_BOOOALBLESSING", _, _)
AND
DB_PartyMembers(_PartyMember)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_PartyMember, "Act1_Acolyte_KuoToa");

IF
FlagSet(UND_KuoToaGod_State_UsurpedBOOOAL_215b8fc4-936f-4de1-a186-dfe5b88fec0a, _, _)
AND
DB_PartyMembers(_PartyMember)
AND
DB_InRegion(_PartyMember, (TRIGGER)S_UND_KuoToa_SUB_22b02242-03bd-4463-b076-c31ffb4cb4e9)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_PartyMember, "Act1_Acolyte_KuoToa");

//Wrath of Silvanus
PROC
PROC_DEN_SacredPond_SetDruidsKilledAtm()
AND
NOT DB_GLO_Backgrounds_Acolyte_SilvanusWrathSet(1)
THEN
DB_GLO_Backgrounds_Acolyte_SilvanusWrathSet(1);

IF
DB_InRegion(_PartyMember, (TRIGGER)S_DEN_SacredPond_SUB_2303e19f-549f-434f-bee0-b886fb34c46a)
AND
DB_PartyMembers(_PartyMember)
AND
DB_GLO_Backgrounds_Acolyte_SilvanusWrathSet(1)
AND
NOT DB_GLO_Backgrounds_Blocked("Act1_Acolyte_SilvanusWrath")
THEN
PROC_GLO_Backgrounds_CompleteGoal(_PartyMember, "Act1_Acolyte_SilvanusWrath");

// Act1_Acolyte_DenLockdown
PROC
PROC_DEN_Lockdown()
AND
DB_Players(_Player)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Player, "Act1_Acolyte_DenLockdown");

// Act1_Acolyte_SeluneGem
IF
DestroyedBy(S_UND_Gem_42fed6e4-c2b9-415f-be94-0e4a0d873c7f, _, _, _)
AND
DB_PartyMembers((CHARACTER)_PartyMember)
AND
IsInTrigger(_PartyMember, S_UND_SharFortBox_3419cfbf-5ad0-473b-bfa6-f10cb1e4a415, 1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_PartyMember, "Act1_Acolyte_SeluneGem");

// Act1_Acolyte_Resurrect
IF
Resurrected(_PlayableCharacter)
AND
DB_GLO_Playable(_PlayableCharacter)
AND
DB_PartyMembers(_PartyMember)
AND
QRY_IsInRange(_PartyMember, _PlayableCharacter, 30.0)
AND
HasAppliedStatus(_PartyMember, "SCL_SHADOW_CURSE_UNDEAD_NEW", 0)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_PartyMember, "Act1_Acolyte_Resurrect");

// Act1_Acolyte_HereticGoblin
IF
DialogEnded(GOB_GoblinHeretic_Saved_442ebfc2-c948-dce6-2bcb-233b520dd70f, _DialogInstance)
AND
GetFlag((FLAG)GOB_GoblinHeretic_FreeToGo_8c660bd3-3443-47c5-8d2a-aa1f2b3c7237, S_GOB_GoblinHeretic_3af8a55b-903a-43cd-84d3-9cb7ca8f69de,1)
AND
DB_GlobalFlag((FLAG)GOB_GoblinHeretic_Event_LearnedMaglubiyet_df45eb83-4109-6319-66ae-e78e96f6f860)
AND
DB_DialogPlayers(_DialogInstance, _Player, _)
THEN
PROC_GLO_Backgrounds_CompleteGoal((CHARACTER)_Player, "Act1_Acolyte_HereticGoblin");

// Act1_Acolyte_LolthSwornSpiders
IF
DialogEnded(UND_SpiderFight_FourWay_1343cf7d-7aa7-2b25-8b0c-e7295d7eb22e, _DialogInstance)
AND
DB_GlobalFlag(GLO_UND_SpiderFight_SpidersLeave_c35dd327-908d-1ef0-be2f-bc9cbd65aea9)
AND
DB_GlobalFlag((FLAG)UND_SpierFight_Knows_PlayerSpokeWithSWA_92cdaeb9-75c9-498d-9bd9-3ab3d62867be)
AND
DB_DialogPlayers(_DialogInstance, _Player, _)
THEN
PROC_GLO_Backgrounds_CompleteGoal((CHARACTER)_Player, "Act1_Acolyte_LolthSwornSpiders");
//END_REGION Acolyte

//REGION Charlatan
// Act1_Charlatan_ZhentHideout
IF
FlagSet((FLAG)PLA_ZhentDungeon_State_SaidPassword_8ac97f58-902c-a3b1-d360-e6b5aaa9b54d, _, _DialogInstance)
AND
DB_DialogPlayers(_DialogInstance, _Player, _)
AND
NOT DB_GlobalFlag((FLAG)PLA_ZhentDungeon_State_Zhent01InHideout_99444408-da2e-4df6-9c50-f2aa7a37051d)
THEN
PROC_GLO_Backgrounds_CompleteGoal((CHARACTER)_Player, "Act1_Charlatan_ZhentHideout");

// Act1_Charlatan_TrickTieflingsLaezel
IF
QuestUpdateUnlocked(_Player, "CHA_LaezelRecruit", _SidedId)
AND
DB_GLO_Backgrounds_Charlatain_QuestIdsSided(_SidedId)
AND
DB_GLO_Backgrounds_Charlatain_QuestIdsPersuaded(_PersuadedId)
AND
QuestUpdateIsUnlocked(_Player, "CHA_LaezelRecruit", _PersuadedId, 1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Player, "Act1_Charlatan_TrickTieflingsLaezel");

// Act1_Charlatan_FlindSuicide
//IF
//FlagSet(PLA_ConflictedFlind_Event_MindControl_KillHerself_89d4304d-1256-d655-a53f-b6c52f62d23f, _, _DialogInstance)
//AND
//DB_DialogPlayers(_DialogInstance, _Player, _)
//THEN
//PROC_GLO_Backgrounds_CompleteGoal((CHARACTER)_Player, "Act1_Charlatan_FlindSuicide");

// Act1_Charlatan_TrickedMirror
IF
FlagSet(FOR_ThayanCellar_Event_OpenMirror_d1da5931-fb01-4f5d-940a-74d2b1e7aff8, _, _DialogInstance)
AND
DB_DialogPlayers(_DialogInstance, _Player, _)
AND
GetFlag((FLAG)FOR_ThayanCellar_Event_TriedToTrick_0d2e8338-fbe8-f56d-c043-512b45d2f131, _Player, 1)
THEN
PROC_GLO_Backgrounds_CompleteGoal((CHARACTER)_Player, "Act1_Charlatan_TrickedMirror");

IF
DialogEnded(FOR_ThayanCellar_MagicMirror_f899b723-7363-c89d-ec8f-ec1a7dc86454, _DialogInstance)
AND
DB_DialogPlayers(_DialogInstance, _Player, _)
AND
GetFlag((FLAG)FOR_ThayanCellar_Event_TriedToTrick_0d2e8338-fbe8-f56d-c043-512b45d2f131, _Player, 1)
THEN
ClearFlag(FOR_ThayanCellar_Event_TriedToTrick_0d2e8338-fbe8-f56d-c043-512b45d2f131, _Player, _DialogInstance);

// Act1_Charlatan_SpiderPit
IF
FlagSet(GOB_SpiderNest_State_SpidersChill_7e28b817-42cc-2d7c-8bca-9f4b6fd9c35e, _, _DialogInstance)
AND
DB_DialogPlayers(_DialogInstance, _Player, 1)
AND
IsTagged(_Player, PETPAL_dc860a81-f3c2-4c1a-ab90-e7583324845c, 1)
THEN
PROC_GLO_Backgrounds_CompleteGoal((CHARACTER)_Player, "Act1_Charlatan_SpiderPit");

// Hag masks start
IF
LeftTrigger(_Player, S_Act1_GLO_BackgroundGoals_HagMasks_MasksTrigger_a7b51494-313b-4b46-8b27-62993f212f72)
THEN
DB_GLO_Backgrounds_Charlatain_MaskedVictimsTriggerLeft((CHARACTER)_Player);
ObjectTimerLaunch(_Player, "GLO_Backgrounds_Charlatain_MaskedVictimsTriggerLeft", 2000);

IF
EnteredTrigger(_Player, S_Act1_GLO_BackgroundGoals_HagMasks_InnerLairTrigger_007ce630-8cfe-4007-a55c-ebb57bfb89d9)
AND
DB_GLO_Backgrounds_Charlatain_MaskedVictimsTriggerLeft(_Player)
AND
GetEquippedItem(_Player, "Helmet", _Mask)
AND
DB_HAG_Hagmasks(_Mask, _)
AND
NOT QRY_GLO_BackgroundGoals_Charlatan_MaskedVictimsParticipatedInCombat()
THEN
PROC_GLO_Backgrounds_CompleteGoal((CHARACTER)_Player, "Act1_Charlatan_Masks");

QRY
QRY_GLO_BackgroundGoals_Charlatan_MaskedVictimsParticipatedInCombat()
AND
DB_HAG_MaskedVictims(_MaskedVictim, _, _, _)
AND
DB_Was_InCombat(_MaskedVictim, _)
THEN
DB_NOOP(1);

IF
ObjectTimerFinished((CHARACTER)_Player, "GLO_Backgrounds_Charlatain_MaskedVictimsTriggerLeft")
THEN
NOT DB_GLO_Backgrounds_Charlatain_MaskedVictimsTriggerLeft(_Player);
// Hag masks end

// Entering goblin territory (Act1_Charlatan_GobCamp & Act1_Charlatan_BlightedVillage)
IF
DialogEnded(_Dialog, _InstanceId)
AND
DB_GLO_Backgrounds_Charlatan_GobCheckpoints(_Dialog, _AccessFlag, _NonCharlatanAccessFlag, _DrowFlag, _GoalId)
AND
DB_GlobalFlag(_AccessFlag)
AND
NOT DB_GlobalFlag(_NonCharlatanAccessFlag)
AND
DB_DialogPlayers(_InstanceId, _Player, 1)
AND
NOT QRY_GLO_Backgrounds_Charlatan_NonCharlatanAccess(_Dialog, (CHARACTER)_Player)
THEN
PROC_GLO_Backgrounds_CompleteGoal((CHARACTER)_Player, _GoalId);

QRY
QRY_GLO_Backgrounds_Charlatan_NonCharlatanAccess((DIALOGRESOURCE)_Dialog, (CHARACTER)_Player)
AND
DB_GLO_Backgrounds_Charlatan_GobCheckpoints(_Dialog, _, _, _DrowFlag, _)
AND
_DrowFlag != NULL_00000000-0000-0000-0000-000000000000
AND
DB_GlobalFlag(_DrowFlag)
AND
IsTagged(_Player, REALLY_DROWELF_676e854b-d74b-44f3-8363-3ef27164a54d, 1)
THEN
DB_NOOP(1);

QRY
QRY_GLO_Backgrounds_Charlatan_NonCharlatanAccess((DIALOGRESOURCE)_Dialog, (CHARACTER)_Player)
AND
DB_DialogName(_Dialog, _InstanceID)
AND
DB_DialogNPCs(_InstanceID, _NPC, _)
AND
QRY_IsEnemy(_Player, _NPC)
THEN
DB_NOOP(1);

QRY
QRY_GLO_Backgrounds_Charlatan_NonCharlatanAccess(GOB_Checkpoint_Guard001_4832f6ad-2b2e-203e-42ef-9837c8eb8146, (CHARACTER)_Player)
AND
GetFlag(GOB_Checkpoint_State_Paint_9e0c9f92-6563-3e2c-a79c-1e4f77f787a0, _Player, 1)
THEN
DB_NOOP(1);

// Act1_Charlatan_Chapel
// - can't use the flags themselves as these are cleared once set
IF
FlagSet(CHA_Outside_Event_DoorGuardConvinced_563a04db-2f33-4320-883d-d6eccb7e524b, _, _DialogInstance)
AND
DB_DialogPlayers(_DialogInstance, _Player, _)
THEN
DB_GLO_Backgrounds_Charlatan_Chapel("DoorGuardConvinced", _Player);

IF
FlagSet(CHA_OUTSIDE_Event_BanditScared_afe707eb-108a-d6c0-3c32-69c3eb12a589, _, _DialogInstance)
AND
DB_DialogPlayers(_DialogInstance, _Player, _)
THEN
DB_GLO_Backgrounds_Charlatan_Chapel("BanditScared", _Player);

IF
DB_GLO_Backgrounds_Charlatan_Chapel("DoorGuardConvinced", _)
AND
DB_GLO_Backgrounds_Charlatan_Chapel("BanditScared", _)
AND
DB_GLO_Backgrounds_Charlatan_Chapel(_, _Player)
THEN
PROC_GLO_Backgrounds_CompleteGoal((CHARACTER)_Player, "Act1_Charlatan_Chapel");

// Act1_Charlatan_Grymforge
IF
DialogEnded(UND_DuergarCamp_Checkpoint_c40716bd-9e42-54a5-06ea-7c0cbea85a8e, _DialogInstance)
AND
NOT DB_GlobalFlag(UND_DuergarCamp_State_DocksHostile_c2e36c80-970a-4fc0-ac4b-45a665bbfcd4)
AND
NOT DB_Defeated(S_UND_DuergarRaftCaptain_473ae3b0-d8e9-428d-9129-bbffe449b8ec)
AND
QRY_GLO_Backgrounds_Charlatan_LiedToRaftCaptain() // at least one lie was told.
AND
DB_DialogPlayers(_DialogInstance, _Player, _)
THEN
PROC_GLO_Backgrounds_CompleteGoal((CHARACTER)_Player, "Act1_Charlatan_Grymforge");
 
QRY
QRY_GLO_Backgrounds_Charlatan_LiedToRaftCaptain() 
AND
DB_Dead(S_UND_LoneDuergar_05c338d9-4590-4c4b-b87e-8c27ea2c2b18)
THEN
DB_NOOP(1);

// reporting the kill in itself isn't a lie, but if you reported the kill but the LoneDeurgar is still alive is the lie.
QRY
QRY_GLO_Backgrounds_Charlatan_LiedToRaftCaptain()
AND
NOT DB_Dead(S_UND_LoneDuergar_05c338d9-4590-4c4b-b87e-8c27ea2c2b18)
AND
DB_GlobalFlag((FLAG)UND_DarkLake_State_ClaimedGekhWasDead_18d1fcb2-06cb-67da-7790-969b9f9e0ebe) 
THEN
DB_NOOP(1);

QRY
QRY_GLO_Backgrounds_Charlatan_LiedToRaftCaptain()
AND
NOT DB_GlobalFlag(UND_DarkLake_State_ToldToGetBoots_cb04859b-e520-41d0-a2c2-e6395b158dee)
THEN
DB_NOOP(1);

//END_REGION Charlatan

//REGION Criminal
QRY
QRY_GLO_Backgrounds_Criminal_BlockTradeUniqueItem((ITEM)S_PLA_ZhentShipment_Chest_fc3f4359-ec62-4cbf-8756-ecb9780c34e8)
AND
IsLocked((ITEM)S_PLA_ZhentShipment_Chest_fc3f4359-ec62-4cbf-8756-ecb9780c34e8, 0)
THEN
DB_NOOP(1);

IF
QuestUpdateUnlocked(_Player, "PLA_ZhentShipment", _StateId)
AND
DB_GLO_Backgrounds_Criminal_FriendOfZhentarimStates(_StateId)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Player, "Act1_Criminal_ZhentarimFriend");

// Iron Flask
IF
DialogEnded(GLO_CursedIronFlask_a9a90b77-e020-86fb-cc42-e45da013f778, _DialogInstance)
AND
DB_DialogPlayers(_DialogInstance, _Player, _)
THEN
PROC_GLO_Backgrounds_CompleteGoal((CHARACTER)_Player, "Act1_Criminal_StealUniqueItem_Chest");

// Act1_Criminal_Poisoner
PROC
PROC_GOB_GoblinToast_DrinkAndDieWithoutPlayer()
AND
DB_PartyMembers(_PartyMember)
AND
GetFlag(GOB_GoblinToast_Quest_Poisoner_a6a1cdda-7b11-4d0b-9d1f-38abb688ef7d, _PartyMember, 1)
THEN
PROC_GLO_Backgrounds_CompleteGoal((CHARACTER)_PartyMember, "Act1_Criminal_Poisoner");

PROC
PROC_GOB_GoblinToast_SuccessAftermath()
AND
DB_PartyMembers(_PartyMember)
AND
GetFlag(GOB_GoblinToast_Quest_Poisoner_a6a1cdda-7b11-4d0b-9d1f-38abb688ef7d, _PartyMember, 1)
THEN
PROC_GLO_Backgrounds_CompleteGoal((CHARACTER)_PartyMember, "Act1_Criminal_Poisoner");

PROC
PROC_GOB_GoblinToast_PoisonDieInstantly(_)
AND
NOT DB_GLO_Backgrounds_Blocked("Act1_Criminal_Poisoner")
AND
DB_PartyMembers(_PartyMember)
AND
GetFlag(GOB_GoblinToast_Quest_Poisoner_a6a1cdda-7b11-4d0b-9d1f-38abb688ef7d, _PartyMember, 1)
THEN
PROC_GLO_Backgrounds_CompleteGoal((CHARACTER)_PartyMember, "Act1_Criminal_Poisoner");

// Act1_Criminal_StealUniqueItem_Boots
IF
CharacterPickpocketSuccess(_Player, S_GLO_InjuredGnome_fcf53ac7-1805-4e57-b6ed-4f7b0f90cf96, S_UND_MyconidCircle_BootsOfSpeed_fca76ec8-f3dd-446c-bd69-dc2f6ccca285, _, _, _)
AND
DB_PartyMembers(_PartyMember)
THEN
PROC_GLO_Backgrounds_CompleteGoal((CHARACTER)_PartyMember, "Act1_Criminal_StealUniqueItem_Boots");

IF
MovedFromTo(S_UND_MyconidCircle_BootsOfSpeed_fca76ec8-f3dd-446c-bd69-dc2f6ccca285, S_GLO_InjuredGnome_fcf53ac7-1805-4e57-b6ed-4f7b0f90cf96, (CHARACTER)_Player, 0)
AND
DB_PartyMembers(_PartyMember)
AND
DB_Defeated(S_GLO_InjuredGnome_fcf53ac7-1805-4e57-b6ed-4f7b0f90cf96)
THEN
PROC_GLO_Backgrounds_CompleteGoal((CHARACTER)_PartyMember, "Act1_Criminal_StealUniqueItem_Boots");

// Act1_Criminal_StealUniqueItem_Idol
IF
CharacterStoleItem(_PartyMember, S_DEN_SilvanusIdol_a841d36c-9a00-4a26-943e-c0af6895bb16, _, _, _, _, _, _, _, _)
AND
DB_PartyMembers(_PartyMember)
THEN
PROC_GLO_Backgrounds_CompleteGoal((CHARACTER)_PartyMember, "Act1_Criminal_StealUniqueItem_Idol");

// Act1_Criminam_HarpyKidPickpocket
IF
CharacterPickpocketSuccess(_Player, S_DEN_CharmedKid_3b92c689-6024-4446-a6c9-584e9e8d77ca, _, _, _, _)
AND
GetFlag(DEN_HarpyMeal_State_Charmed_91040326-c989-449b-aaa4-332a344462f4, S_DEN_CharmedKid_3b92c689-6024-4446-a6c9-584e9e8d77ca, 1)
THEN
PROC_GLO_Backgrounds_CompleteGoal((CHARACTER)_Player, "Act1_Criminal_HarpyKidPickpocket");

IF
FlagSet(GEN_TransferNPCPayment_41179aa7-bc85-02b5-1399-71a651d9dc85, S_DEN_CharmedKid_3b92c689-6024-4446-a6c9-584e9e8d77ca, _DialogInstance)
AND
DB_DialogName(DEN_HarpyMeal_CharmedVictim_c6beeee9-6c35-4b8b-8b86-2a15a28f556c, _DialogInstance)
AND
DB_DialogPlayers(_DialogInstance, _Player, _)
THEN
PROC_GLO_Backgrounds_CompleteGoal((CHARACTER)_Player, "Act1_Criminal_HarpyKidPickpocket");

PROC
PROC_GLO_Backgrounds_CompleteGoal(_, "Act1_Urchin_HarpiesKid")
AND
NOT DB_GLO_Backgrounds_Blocked("Act1_Criminal_HarpyKidPickpocket")
THEN
DB_GLO_Backgrounds_Blocked("Act1_Criminal_HarpyKidPickpocket");

PROC
PROC_GLO_Backgrounds_CompleteGoal(_, "Act1_Criminal_HarpyKidPickpocket")
AND
NOT DB_GLO_Backgrounds_Blocked("Act1_Urchin_HarpiesKid")
THEN
DB_GLO_Backgrounds_Blocked("Act1_Urchin_HarpiesKid");

PROC
PROC_GLO_Backgrounds_CheckThieflingsStashGoal((CHARACTER)_PartyMember)
AND
NOT DB_GlobalFlag(DEN_Hideout_Event_TurnedKidsHostile_17cfabeb-f1d7-9432-0e29-5aecfcef1a18)
AND
NOT DB_GlobalFlag(DEN_Thieflings_Event_HideoutCallForHelp_d653abaf-f717-344e-5b04-cc7853ee3ba8)
AND
NOT DB_GlobalFlag(DEN_Hideout_Event_LeaveCountdown_e51c07b5-b27b-0614-c38e-feebb0d28f2a)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_PartyMember, "Act1_Criminal_ThieflingsStash");

IF
CharacterStoleItem(_PartyMember, _, _, _, _, _, _, S_DEN_Thieflings_Stash_Pouch_5b5a68bd-4f54-48d7-a011-a4ea0f38cde2, _, _)
AND
DB_PartyMembers(_PartyMember)
AND
NOT DB_GlobalFlag(DEN_Hideout_Event_TurnedKidsHostile_17cfabeb-f1d7-9432-0e29-5aecfcef1a18)
AND
NOT DB_GlobalFlag(DEN_Thieflings_Event_HideoutCallForHelp_d653abaf-f717-344e-5b04-cc7853ee3ba8)
AND
NOT DB_GlobalFlag(DEN_Hideout_Event_LeaveCountdown_e51c07b5-b27b-0614-c38e-feebb0d28f2a)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_PartyMember, "Act1_Criminal_ThieflingsStash");
//END_REGION Criminal

//REGION Entertainer
IF
FlagSet(GOB_GoblinToast_Event_ToastSuccess_8567a81c-abe6-cbea-0090-7b9af53aee39, _, _DialogInstance)
AND
DB_DialogPlayers(_DialogInstance, _Player, _)
AND
NOT DB_GlobalFlag(GOB_GoblinToast_ToastWasWithoutPlayer_d2fe6e01-7fb2-48d9-9e85-3153ee3799b2)
THEN
PROC_GLO_Backgrounds_CompleteGoal((CHARACTER)_Player, "Act1_Entertainer_Toast");

IF
DB_GOB_DrunkGoblin_PlayerWon(1)
AND
DB_GOB_DrunkGoblin_PlayerInFight(_Player)
AND
DB_PartyMembers(_PartyMember)
THEN
PROC_GLO_Backgrounds_CompleteGoal((CHARACTER)_PartyMember, "Act1_Entertainer_FistFight");

IF
DialogEnded(GOB_ChickenChase_GameOver_ef1f7bc6-8a65-15aa-085b-f4c181d95d16, _InstanceId)
AND
DB_PartyMembers(_PartyMember)
AND
GetFlag(GOB_ChickenChase_Quest_Winner_8cc28e29-0b10-0496-04c1-69db3397722c, _PartyMember, 1)
AND
NOT DB_GlobalFlag((FLAG)GOB_ChickenChase_State_BallIsDead_4d3be956-dcdf-3199-0e53-d76cf6f66051)
THEN
PROC_GLO_Backgrounds_CompleteGoal((CHARACTER)_PartyMember, "Act1_Entertainer_ChickenChase");

PROC
PROC_GOB_ChickenChase_ChaseEnded_StartSpottingThePlayer()
AND
NOT DB_GlobalFlag((FLAG)GOB_ChickenChase_State_BallIsDead_4d3be956-dcdf-3199-0e53-d76cf6f66051)
AND
DB_PartyMembers(_PartyMember)
AND
GetFlag(GOB_ChickenChase_Quest_Winner_8cc28e29-0b10-0496-04c1-69db3397722c, _PartyMember, 1)
THEN
PROC_GLO_Backgrounds_CompleteGoal((CHARACTER)_PartyMember, "Act1_Entertainer_ChickenChase");

// Act1_Entertainer_TellStory
IF
FlagSet(UND_SocietyOfBrilliance_Event_PersuadedNautiloid_eb4d3bcb-d86e-3318-3baf-0bf4fe325c6d, _, _DialogInstance)
AND
DB_DialogPlayers(_DialogInstance, _Player, _)
AND
GetFlag(UND_SocietyOfBrilliance_Event_TriedNautiloidStory_fb5781b8-a95c-feac-6d3f-77317cd814f8, _Player, 1)
THEN
PROC_GLO_Backgrounds_CompleteGoal((CHARACTER)_Player, "Act1_Entertainer_TellStory");

// Act1_Entertainer_Bernard
IF
FlagSet(UND_Automaton_State_Berserk_d872f9ad-ac0b-99b5-48b4-0f80c562ee92, _, _DialogInstance)
AND
DB_DialogPlayers(_DialogInstance, _Player, _)
THEN
PROC_GLO_Backgrounds_CompleteGoal((CHARACTER)_Player, "Act1_Entertainer_Bernard");
//END_REGION Entertainer

//REGION Folk Hero
IF
DialogEnded(DEN_HarpyMeal_AfterHarpyEncounter_4632f7e4-5423-2308-858d-b62b3f525ca5, _DialogInstance)
AND
DB_DialogPlayers(_DialogInstance, _Player, _)
AND
QuestUpdateIsUnlocked((CHARACTER)_Player, "DEN_HarpyMeal", "DefeatedHarpies", 1)
THEN
PROC_GLO_Backgrounds_CompleteGoal((CHARACTER)_Player, "Act1_FolkHero_Harpies");

/*// Bugbear Ninja
IF
DialogEnded(DEN_Stargazing_80173a64-2d66-49af-ce22-918f8452d3a8, _DialogInstance)
AND
DB_DialogPlayers(_DialogInstance, _Player, _)
AND
DB_GlobalFlag(DEN_BugbearNinja_Dead_cc673032-ad3b-484e-b2cb-57f67c901b3d)
THEN
PROC_GLO_Backgrounds_CompleteGoal((CHARACTER)_Player, "Act1_FolkHero_BugbearNinja");*/

// Act1_FolkHero_GoblinPit
IF
DialogEnded(_Dialog, _)
AND
DB_GOB_SpiderNest_VictimDialog((CHARACTER)S_GOB_SpiderNest_Adventurer_692ebd77-cfe7-4cac-8022-bd835e9e5a82, _Dialog)
AND
DB_DialogName(_Dialog, _Id)
AND
DB_DialogPlayers(_Id, _Player, _)
THEN
PROC_GLO_Backgrounds_CompleteGoal((CHARACTER)_Player, "Act1_FolkHero_GoblinPit");

// Act1_FolkHero_SaveTavern
IF
DialogEnded(PLA_Desire_8fbcdeb4-056d-168f-8c91-cc3af7acc4a4, _InstanceID)
AND
DB_GlobalFlag((FLAG)PLA_Desire_State_Freed2_46dbc8ef-61fa-42c4-bc89-4a8f53d53e5b)
AND
DB_DialogPlayers(_DialogInstance, _Player, _)
THEN
PROC_GLO_Backgrounds_CompleteGoal((CHARACTER)_Player, "Act1_FolkHero_SaveTavern");

// Act1_FolkHero_TorturedAdventurer
IF
FlagSet((FLAG)GOB_Torturers_State_PrisonerFreed_c3ebd7d6-243c-f355-5cff-94ceb315d5c9, _,_DialogInstance)
AND
NOT DB_DialogName(_, _DialogInstance)
AND
DB_PartyMembers(_PartyMember)
AND
QRY_IsInRange(_PartyMember, (CHARACTER)S_GOB_TorturedAdventurer_0dd6e9f1-d32d-41f1-b230-d540558e0847, 50.0)
THEN
PROC_GLO_Backgrounds_CompleteGoal((CHARACTER)_PartyMember, "Act1_FolkHero_TorturedAdventurer");

// Act1_FolkHero_Findal
IF
DialogEnded(DEN_GoblinScouts_Captive_b452cf49-73f2-5593-6e9c-9a1edf99d10c, _InstanceID)
AND
DB_GlobalFlag(DEN_GoblinScouts_State_SavedDruid_3152e5bf-5767-9b96-1997-72f4ca1b4fb5)
AND
DB_DialogPlayers(_DialogInstance, _Player, _)
THEN
PROC_GLO_Backgrounds_CompleteGoal((CHARACTER)_Player, "Act1_FolkHero_Findal");
//END_REGION Folk Hero

//REGION Guild Artisan
IF
Combined(_, _, _, _, _, _Player, _Item)
AND
GetTemplate(_Item, _Template)
AND
DB_GLO_Backgrounds_GuildArtisan_Combinations(_Template, _GoalId)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Player, _GoalId);

IF
DB_UND_ArcaneTower_PowerCutsceneFor(_Player)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Player, "Act1_GuildArtisan_Generator");

IF
Unlocked(S_PLA_ZhentDungeon_LiftDown_Broken_c28dd7c5-6c55-41e5-9e26-6a4aa70e0e63, _Player, _)
AND
DB_Players(_Player)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Player, "Act1_GuildArtisan_ZhentElevator");

PROC
PROC_BlockUseOfItem(_PartyMember,_HagPotion)
AND
GetTemplate(_HagPotion, _PotionTemplate)
AND
DB_GLO_Backgrounds_GuildArtisan_HagPotions(_PotionTemplate)
AND
DB_PartyMembers(_PartyMember)
THEN
DB_CustomUseItemResponse(_PartyMember, _HagPotion, 1);
PROC_GLO_Backgrounds_CompleteGoal(_PartyMember, "Act1_GuildArtisan_HagPotions");

// Act1_GuildArtisan_Drowcraft
IF
AutomatedDialogEnded(_Dailog, _DialogInstance)
AND
DB_GLO_Backgrounds_GuildArtisan_DrowCraftDialogs(_Dialog)
AND
DB_GlobalFlag(PLA_Tavern_Knows_DrowArmour_26eacf55-a0eb-4188-bb40-78f912d211ee)
AND
DB_DialogPlayers(_DialogInstance, _Player, _)
THEN
PROC_GLO_Backgrounds_CompleteGoal((CHARACTER)_Player, "Act1_GuildArtisan_Drowcraft");

PROC
PROC_GLO_Backgrounds_GuildArtisan_AdamantineForgeUsed()
AND
GetClosestAlivePlayer(S_UND_AdamantineForge_SUB_5fd81ed1-b91b-413e-91de-360715aba962, _Player, _)
THEN
PROC_GLO_Backgrounds_CompleteGoal((CHARACTER)_Player, "Act1_GuildArtisan_AdamantineForge");
//END_REGION Guild Artisan

//REGION Noble
//IF
//DialogEnded((DIALOGRESOURCE)CAMP_GoblinHuntCelebration_SCO_HalsinMorningAfter_3c5a0a46-7927-6692-d353-fc8270b47631, _InstanceId)
//AND
//DB_DialogPlayers(_DialogInstance, _Player, _)
//AND
//DB_InCamp((CHARACTER)S_GLO_Halsin_7628bc0e-52b8-42a7-856a-13a6fd413323)
//THEN
//PROC_GLO_Backgrounds_CompleteGoal((CHARACTER)_Player, "Act1_Noble_Halsin");

//IF
//DialogEnded((DIALOGRESOURCE)CAMP_HalsinsReturn_CFM_720f387b-ca6e-b3be-4176-bceb7512d172, _InstanceId)
//AND
//DB_DialogPlayers(_DialogInstance, _Player, _)
//AND
//DB_InCamp((CHARACTER)S_GLO_Halsin_7628bc0e-52b8-42a7-856a-13a6fd413323)
//THEN
//PROC_GLO_Backgrounds_CompleteGoal((CHARACTER)_Player, "Act1_Noble_Halsin");

IF
TemplateAddedTo(LOOT_SoulCoin_8c68e68d-96d4-45d6-804c-5f31ac948ff3, _, _PartyMember, _)
AND
DB_PartyMembers((CHARACTER)_PartyMember)
THEN
PROC_GLO_Backgrounds_CompleteGoal((CHARACTER)_PartyMember, "Act1_Noble_SoulCoin");
//END_REGION Noble

//REGION Sage
// Act1_Sage_DruidFresco
IF
FlagSet(_Flag, _, _DialogInstance)
AND
DB_GLO_Backgrounds_Sage_DruidFrescoFlags(_Flag)
AND
NOT QRY_GLO_Backgrounds_Sage_HasUnreadedFrescoes(_Flag)
AND
DB_DialogPlayers(_DialogInstance, _Player, _)
THEN
PROC_GLO_Backgrounds_CompleteGoal((CHARACTER)_Player, "Act1_Sage_DruidFresco");

QRY
QRY_GLO_Backgrounds_Sage_HasUnreadedFrescoes((FLAG)_SetFlag)
AND
DB_GLO_Backgrounds_Sage_DruidFrescoFlags(_OtherFlag)
AND
_OtherFlag != _SetFlag
AND
NOT DB_GlobalFlag(_OtherFlag)
THEN
DB_NOOP(1);

// Act1_Sage_SpiderHermit
IF
GameBookInterfaceClosed(_Book, _PartyMember)
AND
DB_PartyMembers(_PartyMember)
AND
DB_GLO_Backgrounds_Sage_ArachnomancerJournals(_Book)
AND
NOT DB_GLO_Backgrounds_Sage_ArachnomancerJournals_Read(_, _Book)
THEN
DB_GLO_Backgrounds_Sage_ArachnomancerJournals_Read(_PartyMember, _Book);

IF
DB_GLO_Backgrounds_Sage_ArachnomancerJournals_Read((CHARACTER)_PartyMember, (ITEM)_Book)
AND
SysCount("DB_GLO_Backgrounds_Sage_ArachnomancerJournals", 1, _CountTotal)
AND
SysCount("DB_GLO_Backgrounds_Sage_ArachnomancerJournals_Read", 2, _CountRead)
AND
_CountRead >= _CountTotal
THEN
PROC_GLO_Backgrounds_CompleteGoal(_PartyMember, "Act1_Sage_SpiderHermit");


//Act1_Sage_SussurResearch
IF
StatusApplied(_Turret, "UND_SUSSURTREEANTIMAGIC", _Flower, _)
AND
DB_UND_ArcaneTurrets(_Turret, _)
AND
GetClosestAlivePlayer(_Flower, _Player, _)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Player, "Act1_Sage_SussurResearch");

//Act1_Sage_AdamantineFurnace
IF
DB_GlobalFlag(UND_FurnaceSearch_State_ReadMap_ddc0dbb0-5b6e-4667-aee7-092da062cbd9)
AND
DB_GlobalFlag(UND_FurnaceSearch_Knows_Weakness_ae69461f-bb43-2902-cbc2-8801dd1b01c5)
AND
DB_GlobalFlag(UND_FurnaceSearch_State_FoundForgeManual_ca7f9a3c-119e-4564-aa5a-267b5b84a0fb)
AND
GetHostCharacter(_Player)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Player, "Act1_Sage_AdamantineForgeSecrets");
//END_REGION Sage

//REGION Outlander
IF
DB_GlobalFlag((FLAG)PLA_DyingHyena_State_Gone_62e3eb5c-d0c8-48ca-be82-b6c64008b093)
AND
DB_PLA_DyingHyenas_DeathEventStarted(_Player)
AND
DB_PartyMembers(_PartyMember)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_PartyMember, "Act1_Outlander_Hyenas");

IF
UseStarted(_Player, _FairyRing)
AND
DB_UND_FairyRings_FairyRings(_FairyRing)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Player, "Act1_Outlander_FairyRings");

IF
DialogEnded((DIALOGRESOURCE)FOR_Bottomless_CINE_Descent_FF_7e5441a1-94e5-b285-5871-9cbeafa3f064, _InstanceId)
AND
DB_DialogPlayers(_InstanceId, _Player, _)
THEN
PROC_GLO_Backgrounds_CompleteGoal((CHARACTER)_Player, "Act1_Outlander_JumpFromBottomlessWell");

// Boulder trap in Plains
// disarm
IF
AttemptedDisarm(_TripWire, _Player, _, 1)
AND
DB_Players(_Player)
AND
DB_GLO_Backgrounds_Outlander_BoulderTrapWires(_TripWire)
THEN
DB_GLO_Backgrounds_Outlander_BoulderWireDisarmed((ITEM)_TripWire);

IF
DB_GLO_Backgrounds_Outlander_BoulderWireDisarmed(S_PLA_BanditCave_Trap_Tripwire_C_001_222325f6-8657-496a-8e34-1215ec1d58b6)
AND
DB_GLO_Backgrounds_Outlander_BoulderWireDisarmed(S_PLA_BanditCave_Trap_Tripwire_C_000_3de7f2e9-3f0b-4b43-a96e-a3688b207b33)
AND
NOT DB_PLA_BanditCave_BoulderTrap_TrapActivated(_)
AND
DB_Players(_Player)
AND
NOT DB_GLO_Backgrounds_Blocked("Act1_Outlander_BoulderTrap")
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Player, "Act1_Outlander_BoulderTrap");
PROC_GLO_Backgrounds_Outlander_BoulderCleanUp();


// going through
IF
EnteredTrigger(_Player, S_PLA_Plains_SUB_bcc3efa5-bfe1-4224-9df1-6758cac764cd)
AND
DB_Players(_Player)
AND
QRY_OnlyOnce("PLA_BanditCave_TrapZoneRegister")
AND
DB_GLO_Backgrounds_Outlander_BoulderTrapZones(_Trigger)
THEN
PROC_TriggerRegisterForPlayers(_Trigger);

IF
LeftTrigger(_Player, _Trigger)
AND
DB_GLO_Backgrounds_Outlander_BoulderWasInZone(_Player, _Trigger)
AND
NOT QRY_GLO_Backgrounds_Outlander_BoulderPlayerInAnyZone(_Player)
THEN
PROC_GLO_Backgrounds_Outlander_BoulderRestart(_Player);

IF
EnteredTrigger(_Player, _Trigger)
AND
DB_GLO_Backgrounds_Outlander_BoulderTrapZones(_Trigger)
THEN
DB_GLO_Backgrounds_Outlander_BoulderWasInZone((CHARACTER)_Player, (TRIGGER)_Trigger);

IF
DB_GLO_Backgrounds_Outlander_BoulderWasInZone(_Player, S_PLA_BanditCave_TrapZone_A_7dbeb14f-881e-4200-a8c1-c2b94b403d43)
AND
DB_GLO_Backgrounds_Outlander_BoulderWasInZone(_Player, S_PLA_BanditCave_TrapZone_B_9bbe3d04-a1a3-45eb-a422-456af1b4a32c)
AND
DB_GLO_Backgrounds_Outlander_BoulderWasInZone(_Player, S_PLA_BanditCave_TrapZone_C_81f387e2-400e-4bf4-a776-cbda4dd59c60)
AND
NOT DB_PLA_BanditCave_BoulderTrap_TrapActivated(_)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Player, "Act1_Outlander_BoulderTrap");
PROC_GLO_Backgrounds_Outlander_BoulderCleanUp();


QRY
QRY_GLO_Backgrounds_Outlander_BoulderPlayerInAnyZone((CHARACTER)_Player)
AND
DB_GLO_Backgrounds_Outlander_BoulderTrapZones(_Trigger)
AND
DB_InRegion(_Player, _Trigger)
THEN
DB_NOOP(1);

PROC
PROC_PLA_BanditCave_ActivateTrap(_)
AND
NOT DB_GLO_Backgrounds_Blocked("Act1_Outlander_BoulderTrap")
THEN
DB_GLO_Backgrounds_Blocked("Act1_Outlander_BoulderTrap");

PROC
PROC_PLA_BanditCave_ActivateTrap(_)
THEN
PROC_GLO_Backgrounds_Outlander_BoulderCleanUp();

PROC
PROC_LevelBecameUnreachable("WLD_Main_A")
THEN
PROC_GLO_Backgrounds_Outlander_BoulderCleanUp();

PROC
PROC_GLO_Backgrounds_Outlander_BoulderCleanUp()
AND
DB_GLO_Backgrounds_Outlander_BoulderTrapZones(_Trigger)
THEN
PROC_TriggerUnregisterForPlayers(_Trigger);

PROC
PROC_GLO_Backgrounds_Outlander_BoulderCleanUp()
AND
DB_Players(_Player)
THEN
PROC_GLO_Backgrounds_Outlander_BoulderRestart(_Player);

PROC
PROC_GLO_Backgrounds_Outlander_BoulderRestart((CHARACTER)_Player)
AND
DB_GLO_Backgrounds_Outlander_BoulderWasInZone(_Player, _Trigger)
THEN
NOT DB_GLO_Backgrounds_Outlander_BoulderWasInZone(_Player, _Trigger);

// Undedark Mushrooms
IF
TemplateDestroyedBy(_ItemRoot, _, _, _PartyMember, _)
AND
DB_PartyMembers(_PartyMember)
AND
DB_GLO_Backgrounds_Outlander_MushroomRoots(_ItemRoot, _MushroomName)
AND
NOT DB_GLO_Backgrounds_Outlander_MushroomKilled(_MushroomName)
THEN
DB_GLO_Backgrounds_Outlander_MushroomKilled(_MushroomName);
PROC_GLO_Backgrounds_Outlander_CheckMushroomKilled((CHARACTER)_PartyMember);

IF
TemplateDestroyedBy(_ItemRoot, _Item, _, _Destroyer, _)
AND
NOT DB_PartyMembers(_Destroyer)
AND
DB_GLO_Backgrounds_Outlander_MushroomRoots(_ItemRoot, _MushroomName)
AND
NOT DB_GLO_Backgrounds_Outlander_MushroomKilled(_MushroomName)
AND
GetClosestAlivePlayer(_Item, _Player, _Distance)
AND
_Distance < 20.0
THEN
DB_GLO_Backgrounds_Outlander_MushroomKilled(_MushroomName);
PROC_GLO_Backgrounds_Outlander_CheckMushroomKilled(_Player);

PROC
PROC_GLO_Backgrounds_Outlander_CheckMushroomKilled((CHARACTER)_Player)
AND
SysCount("DB_GLO_Backgrounds_Outlander_MushroomKilled", 1, _Count)
AND
_Count >= 3
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Player, "Act1_Outlander_UndMushrooms");

// Act1_Outlander_Noblestalk
IF
TemplateUseStarted(_PartyMember, PUZ_Underdark_Mushroom_Noblestalk_A_48c679c1-b713-4d2f-9bba-1c43ed654404, _)
AND
DB_PartyMembers(_PartyMember)
AND
QRY_GLO_Backgrounds_Outlander_GoodUseNoblestalk(_PartyMember)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_PartyMember, "Act1_Outlander_Noblestalk");

QRY
QRY_GLO_Backgrounds_Outlander_GoodUseNoblestalk((CHARACTER)_Player)
AND
GetHitpointsPercentage(_Player, _Percentage)
AND
_Percentage < 100.0
THEN
DB_NOOP(1);

QRY
QRY_GLO_Backgrounds_Outlander_GoodUseNoblestalk((CHARACTER)_Player)
AND
DB_GLO_Backgrounds_Outlander_NoblestalkStatusGroups(_StatusGroup)
AND
HasActiveStatusWithGroup(_Player, _StatusGroup, 1)
THEN
DB_NOOP(1);

IF
FlagSet(UND_MyconidCircle_InjuredGnome_Event_AteNoblestalk_fe616c56-097e-49ee-aa9b-e1b68a9917e9, S_GLO_InjuredGnome_fcf53ac7-1805-4e57-b6ed-4f7b0f90cf96, _ID)
AND
DialogGetInvolvedPlayer(_ID, 1, (CHARACTER)_Player)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Player, "Act1_Outlander_Noblestalk");

IF
FlagSet(UND_MushroomHunter_Event_GiveMushroom_d5da8505-841d-4d3f-8f56-00b2e31896ef, S_GLO_Derryth_2b537d2a-14c8-43b3-ab71-d537c925a2a7, _ID)
AND
DialogGetInvolvedPlayer(_ID, 1, (CHARACTER)_Player)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Player, "Act1_Outlander_Noblestalk");

// Act1_Outlander_HagIllusion
PROC
PROC_GlobalFlagReactionAfterDialog(HAG_ForestIllusion_Event_DropIllusion_c8a36ee5-68eb-a944-8295-55188d026506, HAG_ForestIllusion_Illusioncheck_ad27b62d-9b83-dd71-4298-1a29a73b69bd, _InstanceID)
AND
NOT DB_GlobalFlag(HAG_Hag_Event_DropDisguise_30c887ff-c8b4-6442-dc43-4602df81d315)
AND
DB_DialogPlayers(_InstanceID, _Player, _)
THEN
PROC_GLO_Backgrounds_CompleteGoal((CHARACTER)_Player, "Act1_Outlander_HagIllusion");
//END_REGION Outlander

//REGION Urchin
//IF
//FlagSet(_Flag, _Player, _)
//AND
//DB_Players((CHARACTER)_Player)
//AND
//DB_GLO_Backgrounds_Urchin_GoblinKidsSurrenderFlags(_Flag)
//AND
//NOT DB_GOB_Festitivies_KidKiller(_,_)
//THEN
//PROC_GLO_Backgrounds_CompleteGoal((CHARACTER)_Player, "Act1_Urchin_FestivitiesKids");

//IF
//FlagSet(DEN_Thieflings_Event_PlayerPurchased_a30003ed-df8e-314c-1a2d-2f8cc7961c1b, _, _)
//AND
//DB_DialogNPCs(_Id, S_DEN_PickpocketTrader_e1fda08b-45d4-41db-84b5-20e9931ba5af,_)
//AND
//DB_DialogPlayers(_Id, _Player,_)
//THEN
//PROC_GLO_Backgrounds_CompleteGoal((CHARACTER)_Player, "Act1_Urchin_PurchasedJunk");

// Act1_Urchin_SaveOwlbearCub
PROC
PROC_GOB_ChickenChase_OwlbearAcquired((CHARACTER)_Player)
THEN
PROC_GLO_Backgrounds_CompleteGoal((CHARACTER)_Player, "Act1_Urchin_SaveOwlbearCub");

// Act1_Urchin_DeadGnomeTrinket
IF
MovedFromTo(S_UND_CallarduranTrinket_82261770-46e3-403c-8ab0-b6cdb185d29a, _, _PartyMember, 0)
AND
DB_PartyMembers((CHARACTER)_PartyMember)
AND
NOT DB_Defeated(S_UND_CorpseDisposer_Leader_5df19256-efcc-44c5-8fba-0add58492ccf)
AND
NOT DB_Defeated(S_UND_CorpseDisposer_000_e63c75ba-8e0a-4292-a04a-a5d4c8a2816c)
THEN
PROC_GLO_Backgrounds_CompleteGoal((CHARACTER)_PartyMember, "Act1_Urchin_DeadGnomeTrinket");
//END_REGION Urchin

//REGION Soldier
// Act1_Soldier_GobLeadersDead
IF
FlagSet((FLAG)GOB_State_LeadersAreDead_a1c5b01f-4b7f-47ab-82b0-d24d9c6d8bc6, _, _)
AND
DB_PartyMembers(_PartyMember)
AND
DB_InRegion(_PartyMember, S_GOB_ThroneRoom_SUB_bb81678b-641c-43fc-bd41-53295d59be03)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_PartyMember, "Act1_Soldier_GobLeadersDead");

// Tavern Investigation
IF
FlagSet(PLA_TavernInvestigation_Quest_WallCollapsed_391d017d-cbfb-768a-086d-ea404313eab4, _, _)
AND
DB_PartyMembers((CHARACTER)_PartyMember)
AND
QRY_IsInRange(_PartyMember, S_PLA_TavernInvestigation_Obstruction_649559a6-2430-412f-983b-7a136f7be9c9, 30.0)
AND
DB_Players(_Player)
AND
QuestUpdateIsUnlocked((CHARACTER)_Player, "PLA_GrandDukeRescue", "OrderedBreachInn", 1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_PartyMember, "Act1_Soldier_OrdersAtTavern");

IF
Opened(S_PLA_TavernInvestigation_DesireDoor_4f19d4a7-b9b0-4a6f-a9ce-b2442ad8a307)
AND
NOT DB_PermaDefeated((CHARACTER)S_GLO_Desire_8b9fa503-7205-4ddd-bdfa-bfaa781d9ea9)
THEN
PROC_GLO_Backgrounds_Soldier_OnPassedDesireDoor();

IF
DestroyingBy(S_PLA_TavernInvestigation_DesireDoor_4f19d4a7-b9b0-4a6f-a9ce-b2442ad8a307, _, _, _)
AND
NOT DB_PermaDefeated((CHARACTER)S_GLO_Desire_8b9fa503-7205-4ddd-bdfa-bfaa781d9ea9)
THEN
PROC_GLO_Backgrounds_Soldier_OnPassedDesireDoor();

PROC
PROC_GLO_Backgrounds_Soldier_OnPassedDesireDoor()
AND
DB_PartyMembers((CHARACTER)_PartyMember)
AND
QRY_IsInRange(_PartyMember, S_PLA_TavernInvestigation_DesireDoor_4f19d4a7-b9b0-4a6f-a9ce-b2442ad8a307, 20.0)
AND
DB_Players(_Player)
AND
QuestUpdateIsUnlocked((CHARACTER)_Player, "PLA_GrandDukeRescue", "OrderedBreachInn", 1)
AND
QuestUpdateIsUnlocked((CHARACTER)_Player, "PLA_GrandDukeRescue", "FoundCounsellor", 1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_PartyMember, "Act1_Soldier_OrdersAtTavern");

// Act1_Soldier_DuergarRaft
PROC
PROC_GLO_DefeatCounter_AllPermaDefeated("UND_EbonLake_DuergarSquad")
AND
DB_PartyMembers(_PartyMember)
AND
IsInTrigger(_PartyMember, S_UND_DarkLake_LakeEncounterTrigger_d26a46e5-4711-4fd9-80c6-18c5a1196ec9, 1)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_PartyMember, "Act1_Soldier_DuergarRaft");

// Act1_Soldier_PleaAtGates
PROC
PROC_DEN_RaidingParty_AssignInspiration()
AND
DB_DEN_RaidingParty_GoblinRaidParticipants(_Goblin) // need to get CombatID to check that the player actually participated in combat since Tieflings can kill the goblins on their own
AND
DB_Was_InCombat(_Goblin, _CombatID)
AND
QRY_OnlyOnce("Act1_Soldier_PleaAtGates")
AND
DB_PartyMembers(_PartyMember)
AND
QRY_GLO_IsOrWasInCombat(_PartyMember, _CombatID)
AND
NOT QRY_GLO_Backgrounds_Soldier_PleaAtGates_AtLeastOneNpcIsDead()
THEN
PROC_GLO_Backgrounds_CompleteGoal(_PartyMember, "Act1_Soldier_PleaAtGates");

// Act1_Soldier_PleaAtGates
PROC
PROC_DEN_RaidingParty_AssignInspiration()
AND
DB_DEN_RaidingParty_GoblinRaidParticipants(_Goblin) // need to get CombatID to check that the player actually participated in combat since Tieflings can kill the goblins on their own
AND
DB_Is_InCombat(_Goblin, _CombatID)
AND
QRY_OnlyOnce("Act1_Soldier_PleaAtGates")
AND
DB_PartyMembers(_PartyMember)
AND
QRY_GLO_IsOrWasInCombat(_PartyMember, _CombatID)
AND
NOT QRY_GLO_Backgrounds_Soldier_PleaAtGates_AtLeastOneNpcIsDead()
THEN
PROC_GLO_Backgrounds_CompleteGoal(_PartyMember, "Act1_Soldier_PleaAtGates");

QRY
QRY_GLO_Backgrounds_Soldier_PleaAtGates_AtLeastOneNpcIsDead()
AND
DB_GLO_Backgrounds_Soldier_PleaAtGatesNPCs(_NPC)
AND
DB_Dead(_NPC)
THEN
DB_NOOP(1);

IF
DB_Players((CHARACTER)S_Player_Wyll_c774d764-4a17-48dc-b470-32ace9ce447d)
THEN
NOT DB_GLO_Backgrounds_Soldier_PleaAtGatesNPCs((CHARACTER)S_Player_Wyll_c774d764-4a17-48dc-b470-32ace9ce447d);
//END_REGION Soldier

//REGION HauntedOne
IF
FlagSet((FLAG)GOB_Torturers_State_TorturedEnough_5ee00add-a8c8-4d61-4560-80582db6fe58,_,_)
AND
DB_Players(_Player)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Player, "Act1_HauntedOne_TorturedLiam");

IF
FlagSet(GLO_GoblinHuntPoison_Quest_BeerPoisoned_0c261a18-68f7-4a4b-9e91-b0b5ef50f474,_,_)
AND
DB_Players(_Player)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Player, "Act1_HauntedOne_GoblinAlePoisoned");

PROC
PROC_ORI_DarkUrge_DarkUrgeKilled((CHARACTER)_DarkUrge,(CHARACTER)S_DEN_Bard_4a405fba-3000-4c63-97e5-a8001ebb883c)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_DarkUrge, "Act1_HauntedOne_AlfiraKilled");

IF
FlagSet((FLAG)CRA_Escape_Event_KillMindflayer_c415a498-1598-4ac0-0bc2-c1fe5b185f7c,_Player,_)
THEN
PROC_GLO_Backgrounds_CompleteGoal((CHARACTER)_Player, "Act1_HauntedOne_PinnedMindFlayer");

IF
FlagSet((FLAG)ORI_DarkUrge_Event_IndulgedUrge_ceb8b4c2-b705-c26c-250d-a1c1c32e7cb5, _Player, _ID)
THEN
PROC_GLO_Backgrounds_CompleteGoal((CHARACTER)_Player, "Act1_HauntedOne_IndulgedDarkUrge");

IF
FlagSet((FLAG)ORI_DarkUrge_Event_ResistedUrge_1abee43a-02e0-9805-646b-9d321aecba28, _Player, _ID)
THEN
PROC_GLO_Backgrounds_CompleteGoal((CHARACTER)_Player, "Act1_HauntedOne_ResistedDarkUrge");

IF
DB_PermaDefeated((CHARACTER)S_HAG_Hag_c457d064-83fb-4ec6-b74d-1f30dfafd12d)
AND
DB_ORI_DarkUrge((CHARACTER)_DarkUrge)
AND
DB_Dead((CHARACTER)S_HAG_Hag_c457d064-83fb-4ec6-b74d-1f30dfafd12d)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_DarkUrge, "Act1_HauntedOne_EthelKilled");

IF
FlagSet((FLAG)UND_MyconidCircle_BroodingSovereign_Done_f80e93f9-53b5-4537-96a7-583508ba1cb8,_,_)
AND
NOT DB_PermaDefeated(S_UND_Myconid_BroodingSovereign_82af0858-d739-4c9d-84c8-5e6760e22e46)
AND
DB_ORI_DarkUrge((CHARACTER)_DarkUrge)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_DarkUrge, "Act1_HauntedOne_MyconidSovereingKilled");

IF
FlagSet((FLAG)UND_MyconidRevenge_Event_TakeHead_9f811625-beee-15e7-a581-32739bd44cbe,_,_)
AND
DB_ORI_DarkUrge((CHARACTER)_DarkUrge)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_DarkUrge, "Act1_HauntedOne_NereHeadObtained");

IF
FlagSet((FLAG)CHA_Chapel_Event_OpenedJergalsTomb_9e017482-2ca3-dd54-9edc-80112b8703a1, (CHARACTER)_Player, _)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_Player, "Act1_HauntedOne_WithersReleased");

IF
UseFinished(_DarkUrge,_RoastedDwarfPiece,1)
AND
DB_GOB_RoastingDwarf_Pieces(_RoastedDwarfPiece)
AND
DB_ORI_DarkUrge((CHARACTER)_DarkUrge)
THEN
PROC_GLO_Backgrounds_CompleteGoal(_DarkUrge, "Act1_HauntedOne_CookedDwarfEaten");

//END_REGION
EXITSECTION

ENDEXITSECTION
ParentTargetEdge "Act1"
