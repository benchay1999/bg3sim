Version 1
SubGoalCombiner SGC_AND
INITSECTION
DB_UND_GpHookHorror_HookHorror((CHARACTER)S_UND_HookHorror_Hunter_000_70866004-4b9d-4dde-a9c7-9891229c47c7);
DB_UND_GpHookHorror_HookHorror((CHARACTER)S_UND_HookHorror_Hunter_001_3d5a8ed5-771a-491b-93eb-9a65eb2dcf30);
DB_UND_GpHookHorror_HookHorror_InternalCounter((CHARACTER)S_UND_HookHorror_Hunter_000_70866004-4b9d-4dde-a9c7-9891229c47c7);
DB_UND_GpHookHorror_HookHorror_InternalCounter((CHARACTER)S_UND_HookHorror_Hunter_001_3d5a8ed5-771a-491b-93eb-9a65eb2dcf30);
KBSECTION
//REGION Hermit reactions
// Keep it till we have a new way and better way for the hook horrors to call for help.
IF
TurnStarted(S_UND_GP_HookHorror_Hermit_2f00e363-09b2-4573-badc-f0995bef6610)
AND
DB_UND_GPHookHorrors_ReactOnTurn(1)
THEN
NOT DB_UND_GPHookHorrors_ReactOnTurn(1);
SetEntityEvent(S_UND_GP_HookHorror_Hermit_2f00e363-09b2-4573-badc-f0995bef6610, "GLO_BlockCombatFallbackAD", 1);
PROC_TryStartAD((DIALOGRESOURCE)UND_GP_HookHorror_AD_HermitReaction_a2099858-8501-c496-cce4-8df26ed2ead8, S_UND_GP_HookHorror_Hermit_2f00e363-09b2-4573-badc-f0995bef6610);

IF
AutomatedDialogRequestFailed(UND_GP_HookHorror_AD_HermitReaction_a2099858-8501-c496-cce4-8df26ed2ead8, _)
THEN
SetEntityEvent(S_UND_GP_HookHorror_Hermit_2f00e363-09b2-4573-badc-f0995bef6610, "GLO_AllowCombatFallbackAD");

IF
AutomatedDialogEnded(UND_GP_HookHorror_AD_HermitReaction_a2099858-8501-c496-cce4-8df26ed2ead8, _)
THEN
SetEntityEvent(S_UND_GP_HookHorror_Hermit_2f00e363-09b2-4573-badc-f0995bef6610, "GLO_AllowCombatFallbackAD");

PROC
PROC_StateSet_PermaDefeated((GUIDSTRING)_Char)
AND
DB_UND_GpHookHorror_HookHorror((CHARACTER)_Char)
THEN
NOT DB_UND_GpHookHorror_HookHorror_InternalCounter(_Char);
DB_UND_GPHookHorrors_ReactOnTurn(1);

PROC
PROC_StateSet_PermaDefeated((GUIDSTRING)_Char)
AND
DB_UND_GpHookHorror_HookHorror((CHARACTER)_Char)
AND
NOT DB_UND_GpHookHorror_HookHorror_InternalCounter(_)
THEN
SetFlag(UND_GPHookHorrors_State_BothDied_d343352a-89c8-4ea5-aee8-551c86da8a37, NULL_00000000-0000-0000-0000-000000000000);
//END_REGION
EXITSECTION

ENDEXITSECTION
ParentTargetEdge "Act1"
