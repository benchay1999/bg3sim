Version 1
SubGoalCombiner SGC_AND
INITSECTION
// Hirelings money transfer cost: search for this DB below
DB_Hirelings_MoneyTransferVariable(3, 100); // last param is hire price

NOT DB_Hirelings_HACK_PlayerRoot_Chosen((CHARACTERROOT)NULL_00000000-0000-0000-0000-000000000000,(FLAG)NULL_00000000-0000-0000-0000-000000000000,(FLAG)NULL_00000000-0000-0000-0000-000000000000);
NOT DB_Hirelings_HACK_Classes_Chosen((FLAG)NULL_00000000-0000-0000-0000-000000000000,(CHARACTER)NULL_00000000-0000-0000-0000-000000000000,(FLAG)NULL_00000000-0000-0000-0000-000000000000);
NOT DB_Hirelings_HACK_PlayerRoots((CHARACTERROOT)NULL_00000000-0000-0000-0000-000000000000,(FLAG)NULL_00000000-0000-0000-0000-000000000000,(FLAG)NULL_00000000-0000-0000-0000-000000000000);

DB_Hirelings_HACK_PlayerRoots(Dragonborn_Black_Female_Player_0a3f21d0-7714-4c41-a32a-5ee4a152391a,			Hirelings_HACK_CreateDragonbornBlack_e4355c4d-0020-4459-9638-0eb1b4bf6d7d,			Hirelings_HACK_CreateFemale_9e093d5e-1dd1-4f74-8fd1-2ad724ae33ca);
DB_Hirelings_HACK_PlayerRoots(Dragonborn_Black_Male_Player_465db991-7868-43ea-8190-36a725096f49,			Hirelings_HACK_CreateDragonbornBlack_e4355c4d-0020-4459-9638-0eb1b4bf6d7d,			Hirelings_HACK_CreateMale_2ab637f5-3153-4892-a92a-0d72eb944a57);
DB_Hirelings_HACK_PlayerRoots(Dragonborn_Blue_Female_Player_834579dd-3f0c-495f-be61-721854a279ce,			Hirelings_HACK_CreateDragonbornBlue_dcb5582c-0bff-41f7-921f-b9873cbd7da7,			Hirelings_HACK_CreateFemale_9e093d5e-1dd1-4f74-8fd1-2ad724ae33ca);
DB_Hirelings_HACK_PlayerRoots(Dragonborn_Blue_Male_Player_e7efb92e-c944-4840-abf1-e125a7436b4e,				Hirelings_HACK_CreateDragonbornBlue_dcb5582c-0bff-41f7-921f-b9873cbd7da7,			Hirelings_HACK_CreateMale_2ab637f5-3153-4892-a92a-0d72eb944a57);
DB_Hirelings_HACK_PlayerRoots(Dragonborn_Brass_Female_Player_1b702a85-60f3-4197-9e58-bb87901a3f48,			Hirelings_HACK_CreateDragonbornBrass_cc5493bb-2f9a-4c5c-be6d-64fc1ba85459,			Hirelings_HACK_CreateFemale_9e093d5e-1dd1-4f74-8fd1-2ad724ae33ca);
DB_Hirelings_HACK_PlayerRoots(Dragonborn_Brass_Male_Player_da2036b9-1602-4262-a82e-d16e6ea181f2,			Hirelings_HACK_CreateDragonbornBrass_cc5493bb-2f9a-4c5c-be6d-64fc1ba85459,			Hirelings_HACK_CreateMale_2ab637f5-3153-4892-a92a-0d72eb944a57);
DB_Hirelings_HACK_PlayerRoots(Dragonborn_Bronze_Female_Player_0b77848f-dd46-42d3-a902-f10ed9457590,			Hirelings_HACK_CreateDragonbornBronze_0c8e9278-3c5f-4309-90ce-ba1d4dbd8764,			Hirelings_HACK_CreateFemale_9e093d5e-1dd1-4f74-8fd1-2ad724ae33ca);
DB_Hirelings_HACK_PlayerRoots(Dragonborn_Bronze_Male_Player_15c90da6-2c31-4cc7-9cba-d30a5155d5b9,			Hirelings_HACK_CreateDragonbornBronze_0c8e9278-3c5f-4309-90ce-ba1d4dbd8764,			Hirelings_HACK_CreateMale_2ab637f5-3153-4892-a92a-0d72eb944a57);
DB_Hirelings_HACK_PlayerRoots(Dragonborn_Copper_Female_Player_1d8afdc2-1403-4570-b7ce-3f3ae94f325b,			Hirelings_HACK_CreateDragonbornCopper_d10b703e-4dfd-4c6e-aa65-8af1fcdac65d,			Hirelings_HACK_CreateFemale_9e093d5e-1dd1-4f74-8fd1-2ad724ae33ca);
DB_Hirelings_HACK_PlayerRoots(Dragonborn_Copper_Male_Player_4de6d8b2-d0c3-49c1-b332-b3761cfcfb33,			Hirelings_HACK_CreateDragonbornCopper_d10b703e-4dfd-4c6e-aa65-8af1fcdac65d,			Hirelings_HACK_CreateMale_2ab637f5-3153-4892-a92a-0d72eb944a57);
DB_Hirelings_HACK_PlayerRoots(Dragonborn_Gold_Female_Player_4151f7ff-6b19-4d5f-aa54-bea130d0d0a1,			Hirelings_HACK_CreateDragonbornGold_de7c50aa-01a1-49fd-b53e-852682255e3f,			Hirelings_HACK_CreateFemale_9e093d5e-1dd1-4f74-8fd1-2ad724ae33ca);
DB_Hirelings_HACK_PlayerRoots(Dragonborn_Gold_Male_Player_d30bb765-ecb4-4029-94c2-cfdcf4b2b75f,				Hirelings_HACK_CreateDragonbornGold_de7c50aa-01a1-49fd-b53e-852682255e3f,			Hirelings_HACK_CreateMale_2ab637f5-3153-4892-a92a-0d72eb944a57);
DB_Hirelings_HACK_PlayerRoots(Dragonborn_Green_Female_Player_8517cdc1-b179-499b-9c25-4ac9396b3249,			Hirelings_HACK_CreateDragonbornGreen_651f41e3-2923-4ee1-a7eb-04894aac377d,			Hirelings_HACK_CreateFemale_9e093d5e-1dd1-4f74-8fd1-2ad724ae33ca);
DB_Hirelings_HACK_PlayerRoots(Dragonborn_Green_Male_Player_ae902e1b-0496-4a77-be90-e7b601b3b830,			Hirelings_HACK_CreateDragonbornGreen_651f41e3-2923-4ee1-a7eb-04894aac377d,			Hirelings_HACK_CreateMale_2ab637f5-3153-4892-a92a-0d72eb944a57);
DB_Hirelings_HACK_PlayerRoots(Dragonborn_Red_Female_Player_9eddde7c-27b1-4e9a-8a19-0d9f3996ffa4,			Hirelings_HACK_CreateDragonbornRed_f9fbb0c4-afd8-4f1d-a912-81b1ce11de14,			Hirelings_HACK_CreateFemale_9e093d5e-1dd1-4f74-8fd1-2ad724ae33ca);
DB_Hirelings_HACK_PlayerRoots(Dragonborn_Red_Male_Player_3de79eab-402e-4a70-8716-dfd32a492110,				Hirelings_HACK_CreateDragonbornRed_f9fbb0c4-afd8-4f1d-a912-81b1ce11de14,			Hirelings_HACK_CreateMale_2ab637f5-3153-4892-a92a-0d72eb944a57);
DB_Hirelings_HACK_PlayerRoots(Dragonborn_Silver_Female_Player_2ab6daaa-54b4-4836-92aa-3579da76f574,			Hirelings_HACK_CreateDragonbornSilver_e812de27-3f90-455e-b5a4-44ae15f82bee,			Hirelings_HACK_CreateFemale_9e093d5e-1dd1-4f74-8fd1-2ad724ae33ca);
DB_Hirelings_HACK_PlayerRoots(Dragonborn_Silver_Male_Player_8b607fe5-7217-4975-872c-f380f9a52041,			Hirelings_HACK_CreateDragonbornSilver_e812de27-3f90-455e-b5a4-44ae15f82bee,			Hirelings_HACK_CreateMale_2ab637f5-3153-4892-a92a-0d72eb944a57);
DB_Hirelings_HACK_PlayerRoots(Dragonborn_White_Female_Player_101f3588-8b35-4ca6-ba7b-33216158b3d4,			Hirelings_HACK_CreateDragonbornWhite_2bd10b81-c669-4c9f-b62b-bc488de65bfc,			Hirelings_HACK_CreateFemale_9e093d5e-1dd1-4f74-8fd1-2ad724ae33ca);
DB_Hirelings_HACK_PlayerRoots(Dragonborn_White_Male_Player_1f69a29f-8284-4d1d-a0e6-fba9fb02ac56,			Hirelings_HACK_CreateDragonbornWhite_2bd10b81-c669-4c9f-b62b-bc488de65bfc,			Hirelings_HACK_CreateMale_2ab637f5-3153-4892-a92a-0d72eb944a57);
DB_Hirelings_HACK_PlayerRoots(Dwarves_Female_Duergar_Player_483ef445-facf-4a3b-aeff-6863d890975e,			Hirelings_HACK_CreateDwarfDuergar_b53830f2-10fb-4c01-bd01-0b2fe301bb24,				Hirelings_HACK_CreateFemale_9e093d5e-1dd1-4f74-8fd1-2ad724ae33ca);
DB_Hirelings_HACK_PlayerRoots(Dwarves_Female_Hill_Player_70cddf7f-fab6-4470-9815-85c255e05d27,				Hirelings_HACK_CreateDwarfHill_ba6d5106-a0c1-4368-b529-6b164bd86728,				Hirelings_HACK_CreateFemale_9e093d5e-1dd1-4f74-8fd1-2ad724ae33ca);
DB_Hirelings_HACK_PlayerRoots(Dwarves_Female_Mountain_Player_9ae40e0d-6d9a-4570-8384-e92b3dac492f,			Hirelings_HACK_CreateDwarfMountain_66e88cdf-3166-4233-ba43-46bb6bff142c,			Hirelings_HACK_CreateFemale_9e093d5e-1dd1-4f74-8fd1-2ad724ae33ca);
DB_Hirelings_HACK_PlayerRoots(Dwarves_Male_Duergar_Player_be3d3a2b-9ecb-4dbe-9441-8995b618e895,				Hirelings_HACK_CreateDwarfDuergar_b53830f2-10fb-4c01-bd01-0b2fe301bb24,				Hirelings_HACK_CreateMale_2ab637f5-3153-4892-a92a-0d72eb944a57);
DB_Hirelings_HACK_PlayerRoots(Dwarves_Male_Hill_Player_72f584af-b29b-4e79-be4a-a175b2e1f864,				Hirelings_HACK_CreateDwarfHill_ba6d5106-a0c1-4368-b529-6b164bd86728,				Hirelings_HACK_CreateMale_2ab637f5-3153-4892-a92a-0d72eb944a57);
DB_Hirelings_HACK_PlayerRoots(Dwarves_Male_Mountain_Player_bf348a66-d31d-4745-900a-250edc3cc641,			Hirelings_HACK_CreateDwarfMountain_66e88cdf-3166-4233-ba43-46bb6bff142c,			Hirelings_HACK_CreateMale_2ab637f5-3153-4892-a92a-0d72eb944a57);
DB_Hirelings_HACK_PlayerRoots(Elves_Female_Drow_Lolth_Player_e285d7b5-6b09-4857-89aa-a91e9e6898e5,			Hirelings_HACK_CreateElfDrowLolth_41d092d9-4dd7-4034-be12-3bce07773d7f,				Hirelings_HACK_CreateFemale_9e093d5e-1dd1-4f74-8fd1-2ad724ae33ca);
DB_Hirelings_HACK_PlayerRoots(Elves_Female_Drow_Seldarine_Player_7a727073-1f49-4396-b899-b71d9d706cd5,		Hirelings_HACK_CreateElfDrowSeldarine_c592cf6f-8f28-4a6f-a54c-e5e948875cb7,			Hirelings_HACK_CreateFemale_9e093d5e-1dd1-4f74-8fd1-2ad724ae33ca);
DB_Hirelings_HACK_PlayerRoots(Elves_Female_High_Player_f08563b3-748d-4783-837b-b8620bc60b22,				Hirelings_HACK_CreateElfHigh_a92f198c-7da6-499c-83fb-8594287973b7,					Hirelings_HACK_CreateFemale_9e093d5e-1dd1-4f74-8fd1-2ad724ae33ca);
DB_Hirelings_HACK_PlayerRoots(Elves_Female_Wood_Player_50e44ccc-28a0-44eb-998e-f085f7fe8f7c,				Hirelings_HACK_CreateElfWood_0dbc6dca-0568-4719-92ae-67848d603b4e,					Hirelings_HACK_CreateFemale_9e093d5e-1dd1-4f74-8fd1-2ad724ae33ca);
DB_Hirelings_HACK_PlayerRoots(Elves_Male_Drow_Lolth_Player_bc3cde9c-cf02-48ff-b44f-a53a1e009a35,			Hirelings_HACK_CreateElfDrowLolth_41d092d9-4dd7-4034-be12-3bce07773d7f,				Hirelings_HACK_CreateMale_2ab637f5-3153-4892-a92a-0d72eb944a57);
DB_Hirelings_HACK_PlayerRoots(Elves_Male_Drow_Seldarine_Player_091745ab-6acc-46be-8902-5aa61aa94815,		Hirelings_HACK_CreateElfDrowSeldarine_c592cf6f-8f28-4a6f-a54c-e5e948875cb7,			Hirelings_HACK_CreateMale_2ab637f5-3153-4892-a92a-0d72eb944a57);
DB_Hirelings_HACK_PlayerRoots(Elves_Male_High_Player_bfb31ea0-c6b3-4677-8c6e-662e089c18fb,					Hirelings_HACK_CreateElfHigh_a92f198c-7da6-499c-83fb-8594287973b7,					Hirelings_HACK_CreateMale_2ab637f5-3153-4892-a92a-0d72eb944a57);
DB_Hirelings_HACK_PlayerRoots(Elves_Male_Wood_Player_7c6da5a0-f068-49cc-86d8-a30af1ece7ac,					Hirelings_HACK_CreateElfWood_0dbc6dca-0568-4719-92ae-67848d603b4e,					Hirelings_HACK_CreateMale_2ab637f5-3153-4892-a92a-0d72eb944a57);
DB_Hirelings_HACK_PlayerRoots(Githyanki_Female_Player_7bb034aa-d355-4973-9b61-4d83cf29d510,					Hirelings_HACK_CreateGithyanki_68c4ab06-69b7-4aff-8ccd-2572bfa7d2b2,				Hirelings_HACK_CreateFemale_9e093d5e-1dd1-4f74-8fd1-2ad724ae33ca);
DB_Hirelings_HACK_PlayerRoots(Githyanki_Male_Player_ba63c9de-13fc-4011-94a1-0ca11c29893e,					Hirelings_HACK_CreateGithyanki_68c4ab06-69b7-4aff-8ccd-2572bfa7d2b2,				Hirelings_HACK_CreateMale_2ab637f5-3153-4892-a92a-0d72eb944a57);
DB_Hirelings_HACK_PlayerRoots(Gnomes_Female_Deep_Player_ddb47381-471d-41ea-b269-2702ab9d7f83,				Hirelings_HACK_CreateGnomeDeep_cc37a30e-d28c-4235-8115-25e8b056c8bd,				Hirelings_HACK_CreateFemale_9e093d5e-1dd1-4f74-8fd1-2ad724ae33ca);
DB_Hirelings_HACK_PlayerRoots(Gnomes_Female_Forest_Player_7b532ee4-f59d-418c-8eff-7b6df269c355,				Hirelings_HACK_CreateGnomeForest_3792e840-f4f3-4717-8315-5a3145bd884e,				Hirelings_HACK_CreateFemale_9e093d5e-1dd1-4f74-8fd1-2ad724ae33ca);
DB_Hirelings_HACK_PlayerRoots(Gnomes_Female_Regular_Player_ebe6b8c1-6df3-491e-b48b-3b6350c5e324,			Hirelings_HACK_CreateGnomeRegular_bf182ace-ac7d-40b8-8283-ad0942c8647e,				Hirelings_HACK_CreateFemale_9e093d5e-1dd1-4f74-8fd1-2ad724ae33ca);
DB_Hirelings_HACK_PlayerRoots(Gnomes_Male_Deep_Player_f660278d-6b97-4bfd-850d-66d40fd89d78,					Hirelings_HACK_CreateGnomeDeep_cc37a30e-d28c-4235-8115-25e8b056c8bd,				Hirelings_HACK_CreateMale_2ab637f5-3153-4892-a92a-0d72eb944a57);
DB_Hirelings_HACK_PlayerRoots(Gnomes_Male_Forest_Player_130fc56f-4361-41a4-955b-fee0e4541670,				Hirelings_HACK_CreateGnomeForest_3792e840-f4f3-4717-8315-5a3145bd884e,				Hirelings_HACK_CreateMale_2ab637f5-3153-4892-a92a-0d72eb944a57);
DB_Hirelings_HACK_PlayerRoots(Gnomes_Male_Regular_Player_c8129923-a547-4ee4-9c37-1138ea4df830,				Hirelings_HACK_CreateGnomeRegular_bf182ace-ac7d-40b8-8283-ad0942c8647e,				Hirelings_HACK_CreateMale_2ab637f5-3153-4892-a92a-0d72eb944a57);
DB_Hirelings_HACK_PlayerRoots(HalfElves_Female_Drow_Player_72fc6418-6572-466e-bdc0-d7321006bf96,			Hirelings_HACK_CreateHalfElfDrow_234ed37d-263f-4a38-917e-c86a0eb43599,				Hirelings_HACK_CreateFemale_9e093d5e-1dd1-4f74-8fd1-2ad724ae33ca);
DB_Hirelings_HACK_PlayerRoots(HalfElves_Female_High_Player_01718a36-3102-4dd2-b141-4f5f042deb10,			Hirelings_HACK_CreateHalfElfHigh_ba0c59b3-3fc7-4199-90e5-08bdb27bd550,				Hirelings_HACK_CreateFemale_9e093d5e-1dd1-4f74-8fd1-2ad724ae33ca);
DB_Hirelings_HACK_PlayerRoots(HalfElves_Female_Wood_Player_79823ceb-01e6-4edd-962a-51cc9d00573a,			Hirelings_HACK_CreateHalfElfWood_6bf12d08-bbe2-4885-a8fd-893130c038b6,				Hirelings_HACK_CreateFemale_9e093d5e-1dd1-4f74-8fd1-2ad724ae33ca);
DB_Hirelings_HACK_PlayerRoots(HalfElves_Male_Drow_Player_9b4d82b8-5cce-4d6e-9821-4b7902abc300,				Hirelings_HACK_CreateHalfElfDrow_234ed37d-263f-4a38-917e-c86a0eb43599,				Hirelings_HACK_CreateMale_2ab637f5-3153-4892-a92a-0d72eb944a57);
DB_Hirelings_HACK_PlayerRoots(HalfElves_Male_High_Player_cc2efa0d-d72b-4394-bb11-57f4f494127a,				Hirelings_HACK_CreateHalfElfHigh_ba0c59b3-3fc7-4199-90e5-08bdb27bd550,				Hirelings_HACK_CreateMale_2ab637f5-3153-4892-a92a-0d72eb944a57);
DB_Hirelings_HACK_PlayerRoots(HalfElves_Male_Wood_Player_80e26779-a7a8-4ac2-a934-5616ab5db8d7,				Hirelings_HACK_CreateHalfElfWood_6bf12d08-bbe2-4885-a8fd-893130c038b6,				Hirelings_HACK_CreateMale_2ab637f5-3153-4892-a92a-0d72eb944a57);
DB_Hirelings_HACK_PlayerRoots(Halflings_Female_Lightfoot_Player_18878721-88ef-4dbc-a760-d1f6a9a20aea,		Hirelings_HACK_CreateHalflingLightfoot_fe3ddc53-b09b-4b6b-8284-c81e264f4632,		Hirelings_HACK_CreateFemale_9e093d5e-1dd1-4f74-8fd1-2ad724ae33ca);
DB_Hirelings_HACK_PlayerRoots(Halflings_Female_Stout_Player_0c44cf75-a73c-4165-b57e-8a4af925214e,			Hirelings_HACK_CreateHalflingStout_615759a2-a842-452d-97fe-97d6055d2f49,			Hirelings_HACK_CreateFemale_9e093d5e-1dd1-4f74-8fd1-2ad724ae33ca);
DB_Hirelings_HACK_PlayerRoots(Halflings_Male_Lightfoot_Player_598cd559-3fb9-4b23-a3b8-a8b5b5d7b8f7,			Hirelings_HACK_CreateHalflingLightfoot_fe3ddc53-b09b-4b6b-8284-c81e264f4632,		Hirelings_HACK_CreateMale_2ab637f5-3153-4892-a92a-0d72eb944a57);
DB_Hirelings_HACK_PlayerRoots(Halflings_Male_Stout_Player_b18d6de5-7861-42fe-a464-8be9a67cfd16,				Hirelings_HACK_CreateHalflingStout_615759a2-a842-452d-97fe-97d6055d2f49,			Hirelings_HACK_CreateMale_2ab637f5-3153-4892-a92a-0d72eb944a57);
DB_Hirelings_HACK_PlayerRoots(HalfOrcs_Female_Player_cf7809c0-2b84-4062-8aef-0184ccea4aba,					Hirelings_HACK_CreateHalfOrc_f27c5175-c064-4b2b-8f45-9a8c4901a1bb,					Hirelings_HACK_CreateFemale_9e093d5e-1dd1-4f74-8fd1-2ad724ae33ca);
DB_Hirelings_HACK_PlayerRoots(HalfOrcs_Male_Player_51af09b7-6062-4d8e-88d0-09e9225b06e6,					Hirelings_HACK_CreateHalfOrc_f27c5175-c064-4b2b-8f45-9a8c4901a1bb,					Hirelings_HACK_CreateMale_2ab637f5-3153-4892-a92a-0d72eb944a57);
DB_Hirelings_HACK_PlayerRoots(Humans_Female_Player_df4aee69-40ea-480d-aa96-1abe82c28b66,					Hirelings_HACK_CreateHuman_2b503e55-08dd-4373-9617-4e80fd3f8427,					Hirelings_HACK_CreateFemale_9e093d5e-1dd1-4f74-8fd1-2ad724ae33ca);
DB_Hirelings_HACK_PlayerRoots(Humans_Male_Player_fd7f2707-8f86-4836-bda8-e0db99c389cc,						Hirelings_HACK_CreateHuman_2b503e55-08dd-4373-9617-4e80fd3f8427,					Hirelings_HACK_CreateMale_2ab637f5-3153-4892-a92a-0d72eb944a57);
DB_Hirelings_HACK_PlayerRoots(Tieflings_Female_Asmodeus_Player_aadac54f-38c0-4486-b45f-01c30e2e9323,		Hirelings_HACK_CreateTieflingAsmodeus_fe41afd5-95c4-4fda-8d81-29cb31d517a9,			Hirelings_HACK_CreateFemale_9e093d5e-1dd1-4f74-8fd1-2ad724ae33ca);
DB_Hirelings_HACK_PlayerRoots(Tieflings_Female_Mephistopheles_Player_7fada45e-9347-4530-8193-1fcd0242d8dd,	Hirelings_HACK_CreateTieflingMephistopheles_3c8333c2-6661-4f98-96cc-17f0606bf62d,	Hirelings_HACK_CreateFemale_9e093d5e-1dd1-4f74-8fd1-2ad724ae33ca);
DB_Hirelings_HACK_PlayerRoots(Tieflings_Female_Zariel_Player_99748fb4-4e64-4e7f-8c39-71fa880d2b30,			Hirelings_HACK_CreateTieflingZariel_a13f5905-b2cb-4c04-839a-1af5badd054b,			Hirelings_HACK_CreateFemale_9e093d5e-1dd1-4f74-8fd1-2ad724ae33ca);
DB_Hirelings_HACK_PlayerRoots(Tieflings_Male_Asmodeus_Player_cc71e73a-53eb-4f49-ab31-e80d5d5f1ef2,			Hirelings_HACK_CreateTieflingAsmodeus_fe41afd5-95c4-4fda-8d81-29cb31d517a9,			Hirelings_HACK_CreateMale_2ab637f5-3153-4892-a92a-0d72eb944a57);
DB_Hirelings_HACK_PlayerRoots(Tieflings_Male_Mephistopheles_Player_498af440-0d7d-40e5-a7f1-141ce68bbfed,	Hirelings_HACK_CreateTieflingMephistopheles_3c8333c2-6661-4f98-96cc-17f0606bf62d,	Hirelings_HACK_CreateMale_2ab637f5-3153-4892-a92a-0d72eb944a57);
DB_Hirelings_HACK_PlayerRoots(Tieflings_Male_Zariel_Player_1fde348c-ea64-4ca6-a20c-b6841fbd3e43,			Hirelings_HACK_CreateTieflingZariel_a13f5905-b2cb-4c04-839a-1af5badd054b,			Hirelings_HACK_CreateMale_2ab637f5-3153-4892-a92a-0d72eb944a57);


DB_Hirelings_HACK_Classes((FLAG)Hirelings_HACK_CreateBarbarian_c05ea756-88f0-4e6c-81c6-2e0eda1ffa82,	(CHARACTER)S_GLO_Hirelings_Barbarian_7bed07ee-d1db-498d-bbfd-600ddf04676e,	(FLAG)Hirelings_HACK_RecruitedBarbarian_97664080-2862-4bba-9e42-f8344c9add82);
DB_Hirelings_HACK_Classes((FLAG)Hirelings_HACK_CreateBard_adba7dbf-183f-4030-b5f6-8de2f2b9b88b,			(CHARACTER)S_GLO_Hirelings_Bard_4d3c9cb3-ca34-46ba-9c81-44081270bfde,		(FLAG)Hirelings_HACK_RecruitedBard_cba4101f-6206-4dd5-8afd-fe26db48907b);
DB_Hirelings_HACK_Classes((FLAG)Hirelings_HACK_CreateCleric_762e7229-dc2c-4f5d-b9ab-1965aba34a66,		(CHARACTER)S_GLO_Hirelings_Cleric_12e541ac-1eb3-4b8c-a8b8-95263e30b217,		(FLAG)Hirelings_HACK_RecruitedCleric_30fbc7f4-8ee6-4aad-8562-dd724a9e0e6f);
DB_Hirelings_HACK_Classes((FLAG)Hirelings_HACK_CreateDruid_d4c74155-359f-4d92-ad6d-2b0e9ddbe4d8,		(CHARACTER)S_GLO_Hirelings_Druid_49f522f8-9ac9-431e-ab39-a45e38e222c2,		(FLAG)Hirelings_HACK_RecruitedDruid_a5e109d9-c8f7-409c-8764-cd31f101337a);
DB_Hirelings_HACK_Classes((FLAG)Hirelings_HACK_CreateFighter_779f0817-789f-43c7-a3b9-004cbfdf3042,		(CHARACTER)S_GLO_Hirelings_Fighter_d61d12ad-dc80-4805-8c6e-fb876da196cd,	(FLAG)Hirelings_HACK_RecruitedFighter_c1344c27-8ac6-429f-8c4a-5c7574c9f7bc);
DB_Hirelings_HACK_Classes((FLAG)Hirelings_HACK_CreateMonk_b2353d4c-b4e5-4c8d-9d57-96e300481763,			(CHARACTER)S_GLO_Hirelings_Monk_0b149cab-4438-467a-953d-8697535b953d,		(FLAG)Hirelings_HACK_RecruitedMonk_a6ef4f06-4f9b-4258-9d9a-887c7094e9cc);
DB_Hirelings_HACK_Classes((FLAG)Hirelings_HACK_CreatePaladin_0b1c2897-4967-4345-b115-f65fea12fb5b,		(CHARACTER)S_GLO_Hirelings_Paladin_244e782b-a99c-444a-bd8d-d356c26c2902,	(FLAG)Hirelings_HACK_RecruitedPaladin_3ae9a31d-956f-4293-926e-9c6c0b15a681);
DB_Hirelings_HACK_Classes((FLAG)Hirelings_HACK_CreateRanger_78c149ac-74c6-4ff7-8044-0ae13788b3b7,		(CHARACTER)S_GLO_Hirelings_Ranger_0488a406-402c-4bd1-ba38-63b28c112d8d,		(FLAG)Hirelings_HACK_RecruitedRanger_54340a05-334b-4c23-8bb1-d6eca498bb45);
DB_Hirelings_HACK_Classes((FLAG)Hirelings_HACK_CreateRogue_af80ceed-efa2-4322-93c3-c8848cdaabd3,		(CHARACTER)S_GLO_Hirelings_Rogue_e4818484-7ee4-466b-82b3-60bbd7b2ff8f,		(FLAG)Hirelings_HACK_RecruitedRogue_af356c26-025a-4960-9f00-a0deb72dffef);
DB_Hirelings_HACK_Classes((FLAG)Hirelings_HACK_CreateSorcerer_30724acb-5533-4826-8c12-f3816d3e4ace,		(CHARACTER)S_GLO_Hirelings_Sorcerer_097aa418-eda5-47f9-867f-29a4339be03e,	(FLAG)Hirelings_HACK_RecruitedSorcerer_477a331a-988d-46e2-bfc6-1bc7960fa881);
DB_Hirelings_HACK_Classes((FLAG)Hirelings_HACK_CreateWarlock_4bedf52e-e836-45e0-8065-1a7b2440fcce,		(CHARACTER)S_GLO_Hirelings_Warlock_ee3f1f8d-f2d1-43f2-aba0-72cacafce03c,	(FLAG)Hirelings_HACK_RecruitedWarlock_2ca6dc28-249d-492c-ba3e-4f0dfbc94605);
DB_Hirelings_HACK_Classes((FLAG)Hirelings_HACK_CreateWizard_1105dea2-1b0c-43fb-bc1f-e182229fce28,		(CHARACTER)S_GLO_Hirelings_Wizard_2c8c93f0-898b-42d6-b2ca-cf4922852632,		(FLAG)Hirelings_HACK_RecruitedWizard_7f652ff7-df19-4517-ad45-6eb5c6d41d08);


DB_Hirelings_Factions((FACTION)Hireling1_9459fd54-cdc5-458f-8aa0-fc6ea18c888f);
DB_Hirelings_Factions((FACTION)Hireling2_c98e5185-9ef4-4c5d-8789-ff889d22d27c);
DB_Hirelings_Factions((FACTION)Hireling3_3987f3d3-1d27-4c0d-b098-3b3b96a0b3e1);



DB_Hirelings_RecruiterDialog((DIALOGRESOURCE)CAMP_Jergal_7f4acd9b-15c0-81fe-9409-623634ec3ed3);
DB_Hirelings_RecruiterDialog((DIALOGRESOURCE)Recruiter_55d1fd15-76ac-c6de-3011-272044122ca1);
DB_Hirelings_RecruiterDialog((DIALOGRESOURCE)SCE_Jergal_Debrief_40bfba6f-d321-0d1e-1d14-5092544d96ea);
DB_Hirelings_RecruiterDialog((DIALOGRESOURCE)END_GatherYourAllies_WithersFollowUp_8ad51e88-b148-0813-f2f8-f21360853888);

NOT DB_Hirelings_DialogFlagsVars(0,(FLAG)NULL_00000000-0000-0000-0000-000000000000,(FLAG)NULL_00000000-0000-0000-0000-000000000000,(FLAG)NULL_00000000-0000-0000-0000-000000000000,(FLAG)NULL_00000000-0000-0000-0000-000000000000,"");
DB_Hirelings_DialogFlagsVars(1,(FLAG)Hireling1_State_ControlledByUser_5663c7ec-b3ab-6c7c-b15c-ee654e838466, (FLAG)Hirelings_Dialog_ShowHireling_1_98093c14-ad1b-43f3-913a-e69c27507701, (FLAG)Hirelings_Dialog_ChoiceDismissHireling_1_28f20762-bce8-484c-a02d-b0973022a2d9, (FLAG)Hirelings_Event_ToCamp_1_1254b9c5-2b04-700a-3f89-aaa4d901789d, "HirelingName_1_03d3080c-4144-7335-8478-a4fb38a54eb9");
DB_Hirelings_DialogFlagsVars(2,(FLAG)Hireling2_State_ControlledByUser_b95a07e5-b2b8-83ba-0ee3-7b9865521d3a, (FLAG)Hirelings_Dialog_ShowHireling_2_f8093dc8-66db-402d-822c-597056dfa2f4, (FLAG)Hirelings_Dialog_ChoiceDismissHireling_2_f74c6e39-2f28-40f7-8a6d-a05c2fc40336, (FLAG)Hirelings_Event_ToCamp_2_d147447b-a690-9b08-2ec1-d7601bef765b, "HirelingName_2_c4187b58-a2f9-61d1-9899-e456945876fd");
DB_Hirelings_DialogFlagsVars(3,(FLAG)Hireling3_State_ControlledByUser_96f99512-f6a9-14ea-c746-761978dd105e, (FLAG)Hirelings_Dialog_ShowHireling_3_a151b14d-8382-4f1a-b4a9-a635a27b9203, (FLAG)Hirelings_Dialog_ChoiceDismissHireling_3_d4926cb5-ae5c-4c08-af1c-50d0c4435293, (FLAG)Hirelings_Event_ToCamp_3_ece2be9c-deda-37dc-a764-bb7b80542e3f, "HirelingName_3_0b5f9e73-cec6-e308-15f4-8e142147908d");

PROC_DeclareCounter("Hirelings_Hired_Count");
PROC_DeclareCounter("Hirelings_InCamp_Count");

DB_GLO_ExclusiveFlag("Hirelings_Hired_Count",(FLAG)Hirelings_State_Hired_1_23ddc0ed-5859-4a03-a563-d1d284499586);
DB_GLO_ExclusiveFlag("Hirelings_Hired_Count",(FLAG)Hirelings_State_Hired_2_b977620c-7459-4665-a214-405681a7f46b);
DB_GLO_ExclusiveFlag("Hirelings_Hired_Count",(FLAG)Hirelings_State_Hired_3_6551a28f-bd68-42fd-a2b8-68d54022ddb2);

DB_Hirelings_GloHiredFlag(1,(FLAG)Hirelings_State_Hired_1_23ddc0ed-5859-4a03-a563-d1d284499586);
DB_Hirelings_GloHiredFlag(2,(FLAG)Hirelings_State_Hired_2_b977620c-7459-4665-a214-405681a7f46b);
DB_Hirelings_GloHiredFlag(3,(FLAG)Hirelings_State_Hired_3_6551a28f-bd68-42fd-a2b8-68d54022ddb2);

DB_GLO_ExclusiveFlag("Hirelings_InCamp_Count",(FLAG)Hirelings_State_InCamp_1_11c756aa-b00f-414e-aa15-09403c13c559);
DB_GLO_ExclusiveFlag("Hirelings_InCamp_Count",(FLAG)Hirelings_State_InCamp_2_3d106953-0158-4c4e-81e5-df9c227d53a5);
DB_GLO_ExclusiveFlag("Hirelings_InCamp_Count",(FLAG)Hirelings_State_InCamp_3_316df109-82e2-48ad-a6a8-c069f25686c8);

DB_Hirelings_GloInCampFlag(1,(FLAG)Hirelings_State_InCamp_1_11c756aa-b00f-414e-aa15-09403c13c559);
DB_Hirelings_GloInCampFlag(2,(FLAG)Hirelings_State_InCamp_2_3d106953-0158-4c4e-81e5-df9c227d53a5);
DB_Hirelings_GloInCampFlag(3,(FLAG)Hirelings_State_InCamp_3_316df109-82e2-48ad-a6a8-c069f25686c8);

NOT DB_Hirelings_CampPositions("",0,(TRIGGER)NULL_00000000-0000-0000-0000-000000000000);
DB_Hirelings_CampPositions("WLDMAIN",1,S_CAMP_Hireling_000_e31135c0-a0df-4f75-8c88-4895f76bb5bb);
DB_Hirelings_CampPositions("WLDMAIN",2,S_CAMP_Hireling_001_75abf9cf-4a20-4806-a71b-03293ef285de);
DB_Hirelings_CampPositions("WLDMAIN",3,S_CAMP_Hireling_002_c39da9e7-1fc2-4240-ac25-5d19c7728539);
DB_Hirelings_CampPositions("WLDCAVGRN",1,S_CAMP_WLDCAVGRN_Hireling_000_8c9265ad-ead4-466e-a334-609676133cd8);
DB_Hirelings_CampPositions("WLDCAVGRN",2,S_CAMP_WLDCAVGRN_Hireling_001_8e778f0a-514a-46af-9db0-6752a12b7214);
DB_Hirelings_CampPositions("WLDCAVGRN",3,S_CAMP_WLDCAVGRN_Hireling_002_f7bf1b3f-9ee1-4183-a2f8-847b3a7b9f4a);
DB_Hirelings_CampPositions("WLDCAVSND",1,S_CAMP_WLDCAVSND_Hireling_000_9584e09e-2f5d-4d61-9e28-0ee84c0c45a2);
DB_Hirelings_CampPositions("WLDCAVSND",2,S_CAMP_WLDCAVSND_Hireling_001_c452a8da-ee82-46b2-8373-1e7b8e5b89b9);
DB_Hirelings_CampPositions("WLDCAVSND",3,S_CAMP_WLDCAVSND_Hireling_002_e605ef29-b979-4cdb-b45b-bdc910515773);
DB_Hirelings_CampPositions("WLDDUNABB",1,S_CAMP_WLDDUNABB_Hireling_000_b4332013-620e-496c-b137-ffaff8ccb4f2);
DB_Hirelings_CampPositions("WLDDUNABB",2,S_CAMP_WLDDUNABB_Hireling_001_778ea8f1-dfc5-490e-89c3-1b5813b6887f);
DB_Hirelings_CampPositions("WLDDUNABB",3,S_CAMP_WLDDUNABB_Hireling_002_c944f60c-84c1-4f44-bdb9-6cda7b4b506b);
DB_Hirelings_CampPositions("WLDDUNSHA",1,S_CAMP_WLDDUNSHA_Hireling_000_55f7f662-9fa0-4067-8491-4edcaf8dc6d5);
DB_Hirelings_CampPositions("WLDDUNSHA",2,S_CAMP_WLDDUNSHA_Hireling_001_aa324aea-e069-432b-9522-cbb554c3ee81);
DB_Hirelings_CampPositions("WLDDUNSHA",3,S_CAMP_WLDDUNSHA_Hireling_002_08a5e4a2-0276-4115-8526-b78ef7439c5e);
DB_Hirelings_CampPositions("WLDUND",1,S_CAMP_WLDUND_Hireling_000_7fcb2241-6fa0-4c87-a3ab-21694c8f6faa);
DB_Hirelings_CampPositions("WLDUND",2,S_CAMP_WLDUND_Hireling_001_9f723b94-921e-43ac-afdf-b4021e196057);
DB_Hirelings_CampPositions("WLDUND",3,S_CAMP_WLDUND_Hireling_002_8e979e23-6622-4d53-b85a-74dc10b7da98);
DB_Hirelings_CampPositions("WLDBAS",1,S_CAMP_WLDBAS_Hireling_000_de393086-8c92-4f71-aeaf-3ed351322b4b);
DB_Hirelings_CampPositions("WLDBAS",2,S_CAMP_WLDBAS_Hireling_001_d788bd7a-dd5a-43a1-8a34-812fbe907398);
DB_Hirelings_CampPositions("WLDBAS",3,S_CAMP_WLDBAS_Hireling_002_1c1ce593-2f48-4ee8-b2d6-f1745bb1c992);
DB_Hirelings_CampPositions("CREMAIN",1,S_CAMP_CRE_Hireling_000_eeb0ef8f-0793-45d6-8bf2-7cfc563dc4de);
DB_Hirelings_CampPositions("CREMAIN",2,S_CAMP_CRE_Hireling_001_a4fdf9ac-c014-4a50-a408-5400cf67adb3);
DB_Hirelings_CampPositions("CREMAIN",3,S_CAMP_CRE_Hireling_002_d2288ae8-a40c-4f74-8d59-d710131e478a);
DB_Hirelings_CampPositions("CREINSIDE",1,S_CAMP_CREIN_Hireling_000_16752cf6-6e91-41d5-862e-6128584afb16);
DB_Hirelings_CampPositions("CREINSIDE",2,S_CAMP_CREIN_Hireling_001_8664c30c-c14a-4489-9c09-4d6ab8d8b39b);
DB_Hirelings_CampPositions("CREINSIDE",3,S_CAMP_CREIN_Hireling_002_3f9dd9a2-b885-4d8f-83f6-2e88bd08a6e0);
DB_Hirelings_CampPositions("SCLMAIN",1,S_CAMP_SCLMAIN_Hireling_000_1d21cab0-09cd-47f3-b83d-7c3536e29050);
DB_Hirelings_CampPositions("SCLMAIN",2,S_CAMP_SCLMAIN_Hireling_001_4a5c26e2-8bdf-4ec1-b2bf-b842452fa201);
DB_Hirelings_CampPositions("SCLMAIN",3,S_CAMP_SCLMAIN_Hireling_002_8186460c-7e72-494c-92b1-3708c93afd5b);
DB_Hirelings_CampPositions("SHARTEMPLE",1,S_CAMP_SHARTEMPLE_Hireling_000_3aec3cd1-72d1-40b4-8793-5ca5a176fab8);
DB_Hirelings_CampPositions("SHARTEMPLE",2,S_CAMP_SHARTEMPLE_Hireling_001_1bfcf08f-7f15-4ef7-98c2-aa0f8a0c7eb8);
DB_Hirelings_CampPositions("SHARTEMPLE",3,S_CAMP_SHARTEMPLE_Hireling_002_f07ee205-f538-43da-a0ad-8bc4dafb2f89);
DB_Hirelings_CampPositions("HAVEN",1,S_CAMP_HAVEN_Hireling_000_4b419a04-826f-4332-9960-8d1346021602);
DB_Hirelings_CampPositions("HAVEN",2,S_CAMP_HAVEN_Hireling_001_2c3c3dec-79cf-4f99-a6a5-0fdc620e8299);
DB_Hirelings_CampPositions("HAVEN",3,S_CAMP_HAVEN_Hireling_002_797c7954-edbb-4eda-911b-fa5c1bc1b5fb);
DB_Hirelings_CampPositions("MOONRISE",1,S_CAMP_MOONRISE_Hireling_000_f854737c-2553-43cf-abfc-00dbdb9ed222);
DB_Hirelings_CampPositions("MOONRISE",2,S_CAMP_MOONRISE_Hireling_001_931f717b-4886-4954-a809-4b771c8e2a75);
DB_Hirelings_CampPositions("MOONRISE",3,S_CAMP_MOONRISE_Hireling_002_03cb74a5-1a0b-415d-b10f-7e80b8906e40);
DB_Hirelings_CampPositions("INTMAIN",1,S_CAMP_INTMAIN_Hireling_000_56e5f52c-97b9-44f2-bde5-abe4f1902f73);
DB_Hirelings_CampPositions("INTMAIN",2,S_CAMP_INTMAIN_Hireling_001_d1d878c2-941e-4f3c-9b3f-f862efe2feb8);
DB_Hirelings_CampPositions("INTMAIN",3,S_CAMP_INTMAIN_Hireling_002_477f7e7d-f554-4058-8fc7-b24efcb10734);
DB_Hirelings_CampPositions("FARM",1,S_CAMP_FARM_Hireling_000_3fd249b3-4962-4ebe-921c-f0d3fe3f1737);
DB_Hirelings_CampPositions("FARM",2,S_CAMP_FARM_Hireling_001_de9bb7a2-89fa-4b7d-ae39-f89fce0efb0d);
DB_Hirelings_CampPositions("FARM",3,S_CAMP_FARM_Hireling_002_3ee4a96b-d455-4626-98ab-af5d9ca59653);
DB_Hirelings_CampPositions("SLUMS",1,S_CAMP_SLUMS_Hireling_000_5f83dab4-3df3-49ba-abcf-aa6cfd6c8fe6);
DB_Hirelings_CampPositions("SLUMS",2,S_CAMP_SLUMS_Hireling_001_32aba033-2bed-4f72-bf4b-bee11e82a4ad);
DB_Hirelings_CampPositions("SLUMS",3,S_CAMP_SLUMS_Hireling_002_5396f70e-42a4-4c74-8ec5-32cef370355a);
DB_Hirelings_CampPositions("ELFSONG",1,S_CAMP_ELFSONG_Hireling_000_41e200a8-2662-4d9f-9dc1-df7b045ff018);//(TRIGGER) //S_CAMP_ELFSONG_Hireling_000_1c2ef15d-a03c-4c89-9309-76b15d15165b
DB_Hirelings_CampPositions("ELFSONG",2,S_CAMP_ELFSONG_Hireling_001_1f227ab0-c76f-44cd-ae5c-e33483d41fbe);//(TRIGGER) //S_CAMP_ELFSONG_Hireling_001_28010f97-11c2-4ae5-954e-a9af97a3f07f
DB_Hirelings_CampPositions("ELFSONG",3,S_CAMP_ELFSONG_Hireling_002_25a18510-e98f-4d8b-a6e3-c2d8dc5ce349);//(TRIGGER) //S_CAMP_ELFSONG_Hireling_002_ac85019b-96ce-4e93-b84e-2b4e02190153
KBSECTION
//REGION Debug

IF
TextEvent("hr_hire")
AND
GetHostCharacter(_Player)
THEN
PROC_Hirelings_HACK_Hire(_Player);

IF
FlagSet(Hirelings_HACK_Reset_4b79a5a7-2277-4fdc-a6b4-2e82498e89f9,_Player,_)
THEN
ClearFlag(Hirelings_HACK_Reset_4b79a5a7-2277-4fdc-a6b4-2e82498e89f9,_Player,0);

IF
FlagSet(Hirelings_HACK_Reset_4b79a5a7-2277-4fdc-a6b4-2e82498e89f9,_Player,_)
AND
DB_Players((CHARACTER)_Player)
AND
DB_Hirelings_HACK_PlayerRoots(_Root,_RaceFlag,_GenderFlag)
THEN
ClearFlag(_RaceFlag,_Player,0);
ClearFlag(_GenderFlag,_Player,0);

IF
FlagSet(Hirelings_HACK_Reset_4b79a5a7-2277-4fdc-a6b4-2e82498e89f9,_Player,_)
AND
DB_Players((CHARACTER)_Player)
AND
DB_Hirelings_HACK_Classes(_ClassFlag,_ClassTemplate,_ClassRecruitedFlag)
THEN
ClearFlag(_ClassFlag,_Player,0);

IF
FlagSet(_Flag,_Player,_)
AND
DB_Players((CHARACTER)_Player)
AND
DB_Hirelings_HACK_PlayerRoots(_,_Flag,_)
THEN
DB_Hirelings_HACK_RecievedFlag((CHARACTER)_Player,_Flag);

IF
FlagSet(_Flag,_Player,_)
AND
DB_Players((CHARACTER)_Player)
AND
DB_Hirelings_HACK_PlayerRoots(_,_,_Flag)
THEN
DB_Hirelings_HACK_RecievedFlag(_Player,_Flag);

IF
FlagCleared(_Flag,_Player,_)
AND
DB_Players((CHARACTER)_Player)
AND
DB_Hirelings_HACK_PlayerRoots(_,_Flag,_)
THEN
NOT DB_Hirelings_HACK_RecievedFlag(_Player,_Flag);

IF
FlagCleared(_Flag,_Player,_)
AND
DB_Players((CHARACTER)_Player)
AND
DB_Hirelings_HACK_PlayerRoots(_,_,_Flag)
THEN
NOT DB_Hirelings_HACK_RecievedFlag(_Player,_Flag);

IF
FlagSet(_Flag,_Player,_)
AND
DB_Players((CHARACTER)_Player)
AND
DB_Hirelings_HACK_Classes(_Flag,_,_)
THEN
DB_Hirelings_HACK_RecievedFlag(_Player,_Flag);

IF
FlagCleared(_Flag,_Player,_)
AND
DB_Players((CHARACTER)_Player)
AND
DB_Hirelings_HACK_Classes(_Flag,_,_)
THEN
NOT DB_Hirelings_HACK_RecievedFlag(_Player,_Flag);

IF
DialogActorLeft(Recruiter_55d1fd15-76ac-c6de-3011-272044122ca1,_,_Player,_)
AND
GetFlag(Hirelings_Event_StartCC_39fea63b-3c10-4f22-8f5e-53d8a23ae583,_Player,1)
THEN
ClearFlag(Hirelings_Event_StartCC_39fea63b-3c10-4f22-8f5e-53d8a23ae583,_Player,0);
PROC_StartHenchmen((CHARACTER)_Player);

//END_REGION Debug

//REGION
IF
DB_Hirelings_HACK_PlayerRoots((CHARACTERROOT)_Root,(FLAG)_RaceFlag,(FLAG)_GenderFlag)
THEN
DB_NOOP(1);

IF
DB_Hirelings_HACK_Classes((FLAG)_RecruitFlag,(CHARACTER)_ClassTemplate,(FLAG)_RecrutiedFlag)
THEN
DB_OriginInPartyDialog(_ClassTemplate,Hireling_418bd530-1088-9cdc-6d6e-83335b9723b8);
DB_OriginNPCAlignment(_ClassTemplate,Hirelings_b7b47ac8-8e29-4984-b8c5-f35b66d8265a);
DB_GLO_PartyMembers_OriginalAlignment(_ClassTemplate,Hirelings_b7b47ac8-8e29-4984-b8c5-f35b66d8265a);
//END_REGION

//REGION Hireling Rehire
// save the avatar that hired the hireling.
IF
HenchmanSelected(_Avatar,_Hireling)
THEN
DB_Hirelings_WaitForCreation(_Hireling);

// its not the first time this hireling was Hired, so we need to clear his default inventory.
IF
CharacterMadePlayer(_Hireling)
AND
DB_Hirelings_WaitForCreation(_Hireling)
AND
DB_Hirelings_Hired_Rehire(_Hireling)
THEN
NOT DB_Hirelings_WaitForCreation(_Hireling);
DB_Hirelings_CurHireling(_Hireling);
PROC_Hirelings_ClearInventory(_Hireling); // need to remove his inventory first, then restore it once that's done.

// First Creation of the character
IF
CharacterMadePlayer(_Hireling)
AND
DB_Hirelings_WaitForCreation(_Hireling)
AND
NOT DB_Hirelings_Hired_Rehire(_Hireling)
THEN
NOT DB_Hirelings_WaitForCreation(_Hireling);
DB_Hirelings_Hired_Rehire(_Hireling);
//END_REGION

//REGION Hireling Clear Inventory
PROC
PROC_Hirelings_ClearInventory((CHARACTER)_Hireling)
THEN
IterateInventory(_Hireling, "GLO_Hirelings_ClearInventory", "GLO_Hirelings_ClearInventory_Finished");

IF
EntityEvent((ITEM)_Item, "GLO_Hirelings_ClearInventory")
THEN
RequestDelete(_Item);

IF
EntityEvent((ITEM)_Item, "GLO_Hirelings_ClearInventory_Finished")
AND
DB_Hirelings_CurHireling(_Hireling)
THEN
PROC_Hirelings_RestoreEquipment(_Hireling);
//END_REGION

//REGION Hireling Restore Equipment
PROC
PROC_Hirelings_RestoreEquipment((CHARACTER)_Hireling)
AND
DB_Hirelings_SaveEquipment((CHARACTER)_Hireling, (ITEMROOT)_ItemTemplate, (ITEM)_Item)
THEN
TemplateAddTo((ITEMROOT)_ItemTemplate, _Hireling, 1, 0);

// once equipment template has been added, re-equip it.
IF
TemplateAddedTo(_ItemTemplate, _Item, _Hireling, _)
AND
DB_Hirelings_SaveEquipment((CHARACTER)_Hireling, (ITEMROOT)_ItemTemplate, _OldItem)
THEN
Equip((CHARACTER)_Hireling, (ITEM)_Item);
//END_REGION

//REGION Hireling Save Equipment
PROC
PROC_Hirelings_SaveEquipment((CHARACTER)_Hireling)
AND
DB_EquippedItemSlots(_ItemSlot)
AND
GetEquippedItem((CHARACTER)_Hireling, _ItemSlot, _Item)
AND
GetTemplate(_Item, _ItemTemplate)
THEN
DB_Hirelings_SaveEquipment((CHARACTER)_Hireling, (ITEMROOT)_ItemTemplate, (ITEM)_Item);
//END_REGION

//REGION Hirelings Move Inventory to Hireling Avatar.
PROC
PROC_Hirelings_MoveInventory((CHARACTER)_Hireling, (CHARACTER)_Avatar)
THEN
DB_Hirelings_CurHireling(_Hireling);
DB_Hirelings_CurAvatar(_Avatar);
IterateInventory(_Hireling, "GLO_Hirelings_MoveInventory", "GLO_Hirelings_MoveInventory_Finished");

IF
EntityEvent((ITEM)_Item, "GLO_Hirelings_MoveInventory")
AND
DB_Hirelings_CurHireling(_Hireling)
AND
DB_Hirelings_CurAvatar(_Avatar)
AND
IsEquipped((ITEM)_Item, 0)
AND
GetStackAmount((ITEM)_Item, _ItemAmount, _TotalAmount)
THEN
ToInventory(_Item, _Avatar, _ItemAmount, 0);

IF
EntityEvent((ITEM)_Item, "GLO_Hirelings_MoveInventory_Finished")
AND
DB_Hirelings_CurHireling(_Hireling)
AND
DB_Hirelings_CurAvatar(_Avatar)
THEN
NOT DB_Hirelings_CurHireling(_Hireling);
NOT DB_Hirelings_CurAvatar(_Avatar);
//END_REGION

//REGION Helpers
// Singleton
IF
DB_Hirelings_CurHireling(_NewState)
AND
DB_Hirelings_CurHireling(_OldState)
AND
_NewState != _OldState
THEN
NOT DB_Hirelings_CurHireling(_OldState);

// Singleton
IF
DB_Hirelings_CurAvatar(_NewState)
AND
DB_Hirelings_CurAvatar(_OldState)
AND
_NewState != _OldState
THEN
NOT DB_Hirelings_CurAvatar(_OldState);

// Clear DB of Hireling inventory after done.
PROC
PROC_Hirelings_ClearEquipmentDB((CHARACTER)_Hireling)
AND
DB_Hirelings_SaveEquipment((CHARACTER)_Hireling, (ITEMROOT)_ItemTemplate, (ITEM)_Item)
THEN
NOT DB_Hirelings_SaveEquipment((CHARACTER)_Hireling, (ITEMROOT)_ItemTemplate, (ITEM)_Item);
//END_REGION

//REGION Add to party
// if the hireling was dismissed when dead, we remember it.
// So when we rehire it, we bring them back dead.
PROC
PROC_Hirelings_Hire((CHARACTER)_Hireling,(CHARACTER)_Avatar)
AND
DB_Hirelings_DismissedWhenDead(_Hireling)
THEN
PROC_DieImmediate(_Hireling, DEATHTYPE.None, 0);
NOT DB_Hirelings_DismissedWhenDead(_Hireling);

PROC
PROC_Hirelings_Hire((CHARACTER)_Hireling,(CHARACTER)_Avatar)
THEN
PROC_Hirelings_AddToParty(_Hireling,_Avatar);
PROC_IncreaseCounter("Hirelings_Hired_Count");

PROC
PROC_Hirelings_TakeFromCamp((CHARACTER)_Hireling,(CHARACTER)_Avatar)
THEN
PROC_Hirelings_AddToParty(_Hireling,_Avatar);
PROC_DecreaseCounter("Hirelings_InCamp_Count");

PROC
PROC_Hirelings_AddToParty((CHARACTER)_Hireling,(CHARACTER)_Avatar)
THEN
PROC_CheckPartyFull(); // need to check if there's enough party slots available first.
PROC_Hirelings_AssignFaction(_Hireling);
PROC_GLO_PartyMembers_CheckAdd(_Hireling,_Avatar);

PROC
PROC_Hirelings_AssignFaction((CHARACTER)_Hireling)
AND
QRY_Hirelings_ChooseFaction(_Hireling)
AND
DB_Hirelings_ChosenFaction(_Hireling,_HirelingFaction)
THEN
NOT DB_Hirelings_ChosenFaction(_Hireling,_HirelingFaction);
PROC_Hirelings_CleanFactionRelations(_HirelingFaction);
DB_GLO_PartyMembers_DefaultFaction(_Hireling,_HirelingFaction);

// Clear return DB first.
QRY
QRY_Hirelings_ChooseFaction((CHARACTER)_Hireling)
AND
DB_Hirelings_ChosenFaction(_Hireling, (FACTION)_Faction)
THEN
NOT DB_Hirelings_ChosenFaction(_Hireling, (FACTION)_Faction);

// chosen unused faction.
QRY
QRY_Hirelings_ChooseFaction((CHARACTER)_Hireling)
AND
DB_Hirelings_Factions(_Faction)	// cycle through existing faction to see if any hireling is using it.
AND
NOT DB_Hirelings_ChosenFaction(_,_) // if DB is assigned, exit the loop.
AND
NOT QRY_Hirelings_FactionInUse(_Faction) // if NOT in use, we use this faction
THEN
DB_Hirelings_ChosenFaction(_Hireling, (FACTION)_Faction);

// checks if faction is in use by already hired hirelings.
// Hired but not in current party hirelings are in Hirelings faction, and not the Hirelings1-3 faction.
QRY
QRY_Hirelings_FactionInUse((FACTION)_Faction)
AND
DB_Hirelings_Hired(_ExistingHireling)
AND
GetFaction(_ExistingHireling, _Faction)
THEN
DB_NOOP(1);

PROC
PROC_GLO_PartyMembers_AddHook((CHARACTER)_Hireling,(CHARACTER)_Avatar)
AND
DB_Hirelings_HACK_Classes(_,_Hireling,(FLAG)_RecruitedFlag)
THEN
SetFlag(_RecruitedFlag,NULL_00000000-0000-0000-0000-000000000000,0);
PROC_Hirelings_AssignAnubis(_Hireling);
PROC_Hirelings_ChooseCampPos(_Hireling);
DB_Hirelings_Hired(_Hireling);
ClearFlag(Hireling_State_InCamp_e33aa0df-fcfc-4a30-8169-516d3956f02a,_Hireling,0);
SetFlag(Hireling_State_Hired_0052da16-4401-4873-8176-16336d8942da,_Hireling,0);
DB_Tadpole_TadpoleBurstException(_Hireling); // make sure that when they die, the tadpoles do not burst out of them.

PROC
PROC_Hirelings_AssignAnubis((CHARACTER)_Hireling)
THEN
DEV_EnableAnubis(_Hireling,"Hireling");

PROC
PROC_Hirelings_ChooseCampPos((CHARACTER)_Hireling)
AND
QRY_DoNTimes(3)
AND
DB_QRY_RTN_DoNTimes(_I)
AND
NOT DB_Hirelings_CampPos(_Hireling,_)
AND
NOT DB_Hirelings_CampPos(_,_I)
THEN
DB_Hirelings_CampPos(_Hireling,_I);

//END_REGION Add to party

//REGION Dismiss hireling
// Dismiss hireling when they're defeated.
// If we dismiss a dead hireling, we'll lose them from the pool of hirelings because its a hack.
// So we full restore them before they are actually dismissed, and bring them back then when trying to recruit them again.
PROC
PROC_Hirelings_Dismiss((CHARACTER)_Hireling)
AND
DB_Defeated(_Hireling)
THEN
PROC_CharacterFullRestore(_Hireling);
DB_Hirelings_DismissedWhenDead(_Hireling);
DB_Hirelings_DismissedResurrection(_Hireling);

// wait for resurrection then only dismiss.
IF
Resurrected(_Hireling)
AND
DB_Hirelings_Hired((CHARACTER)_Hireling)
AND
DB_Hirelings_DismissedResurrection(_Hireling)
THEN
NOT DB_Hirelings_DismissedResurrection(_Hireling);
PROC_Hirelings_Dismiss((CHARACTER)_Hireling);

PROC
PROC_Hirelings_Dismiss((CHARACTER)_Hireling)
THEN
NOT DB_Hirelings_FoundOwnAvatar(1);

// Dismissed Hireling should have any wildshapes removed before dismissal.
PROC
PROC_Hirelings_Dismiss((CHARACTER)_Hireling)
AND
HasActiveStatusWithGroup(_Hireling, "SG_Polymorph",1)
THEN
DB_Hirelings_WaitForStatusRemoval(1);
DB_Hirelings_DismissedHireling(_Hireling);
PROC_RemoveAllPolymorphs(_Hireling);

// Wait for removal of the status before dismissal.
IF
StatusRemoved(_Hireling, _Status,_,_)
AND
DB_Hirelings_DismissedHireling((CHARACTER)_Hireling)
AND
IsStatusFromGroup(_Status, "SG_Polymorph", 1) // check if the removed status from the Hireling is a SG_Polymorph status
AND
HasAppliedStatusWithGroup(_Hireling, "SG_Polymorph", 0) // check to make sure that its the last status that's being removed. Future proofing in case there could be more than one SG_Polymorph on the hireling.
THEN
NOT DB_Hirelings_WaitForStatusRemoval(1);
NOT DB_Hirelings_DismissedHireling(_Hireling);
PROC_Hirelings_Dismiss(_Hireling);

// Dismissed hireling should move their inventory to their current avatar, and have their equipped items saved so we can restore them later when re-hired.
PROC
PROC_Hirelings_Dismiss((CHARACTER)_Hireling)
AND
DB_Avatars(_Avatar)
AND
QRY_GetBestAvatarForCompanion(_Hireling) // get best avatar instead of QRY_SameUser since we could send hireling to camp before dismissing. And therefor QRY_SameUser would return false.
AND
DB_QRYRTN_GetBestAvatarForCompanion(_Hireling,_Avatar)
AND
NOT DB_Hirelings_FoundOwnAvatar(1)
AND
NOT DB_Hirelings_WaitForStatusRemoval(1)
THEN
PROC_Hirelings_ClearEquipmentDB(_Hireling);			// clear the DB of equipment for this hireling from previous usage.
PROC_Hirelings_SaveEquipment(_Hireling);			// save hireling equipment only.
PROC_Hirelings_MoveInventory(_Hireling, _Avatar); 	// move inventory items to avatar, including bags.
DB_Hirelings_FoundOwnAvatar(1);

// Dismiss hireling when they're still alive
PROC
PROC_Hirelings_Dismiss((CHARACTER)_Hireling)
AND
NOT DB_Defeated(_Hireling)
AND
DB_Hirelings_HACK_Classes((FLAG)_HireFlag,(CHARACTER)_Hireling,(FLAG)_ClassRecruitedFlag)
AND
NOT DB_Hirelings_WaitForStatusRemoval(1)
THEN
ClearFlag(_ClassRecruitedFlag,NULL_00000000-0000-0000-0000-000000000000,0);
NOT DB_PartOfTheTeam(_Hireling); // before Remove so that they're not sent to camp
PROC_GLO_PartyMembers_Remove(_Hireling,1);
PROC_Hirelings_CleanAfterDismiss(_Hireling);
PROC_Hirelings_CheckDecreaseInCampCounter(_Hireling);
ClearFlag(Hireling_State_Hired_0052da16-4401-4873-8176-16336d8942da,_Hireling,0);
ClearFlag(Hireling_State_InCamp_e33aa0df-fcfc-4a30-8169-516d3956f02a,_Hireling,0);
ApplyStatus(_Hireling,"HIRELING_DISAPPEAR",1.0,1,NULL_00000000-0000-0000-0000-000000000000);
//PROC_Poof(_Hireling);
PROC_DecreaseCounter("Hirelings_Hired_Count");

IF
StatusRemoved(_Hireling,"HIRELING_DISAPPEAR",_,_)
THEN
SetOnStage(_Hireling,0);

PROC
PROC_Hirelings_CleanAfterDismiss((CHARACTER)_Hireling)
AND
DB_GLO_PartyMembers_DefaultFaction(_Hireling,_HirelingFaction)
THEN
NOT DB_GLO_PartyMembers_DefaultFaction(_Hireling,_HirelingFaction);
NOT DB_GLO_PartyMembers_OriginalAlignment(_Hireling,Hirelings_b7b47ac8-8e29-4984-b8c5-f35b66d8265a);
SetFaction(_Hireling,Hirelings_b7b47ac8-8e29-4984-b8c5-f35b66d8265a);
PROC_Hirelings_CleanFactionRelations(_HirelingFaction);

PROC
PROC_Hirelings_CleanAfterDismiss((CHARACTER)_Hireling)
AND
DB_Hirelings_Hired(_Hireling)
THEN
NOT DB_Hirelings_Hired(_Hireling);
PROC_RemoveAllDialogEntriesForSpeaker(_Hireling);

PROC
PROC_Hirelings_CleanAfterDismiss((CHARACTER)_Hireling)
AND
DB_Hirelings_CampPos(_Hireling,_I)
THEN
NOT DB_Hirelings_CampPos(_Hireling,_I);

PROC
PROC_Hirelings_CheckDecreaseInCampCounter((CHARACTER)_Hireling)
AND
GetFlag(Hireling_State_InCamp_e33aa0df-fcfc-4a30-8169-516d3956f02a,_Hireling,1)
THEN
PROC_DecreaseCounter("Hirelings_InCamp_Count");

//END_REGION Dismiss hireling


//REGION Send to camp
// now goes through the origins pipeline with DB_GLO_PartyMembers_DismissAfterDialog (flag set in hirelings dialog)
PROC
PROC_Hirelings_SendToCamp((CHARACTER)_Hireling)
THEN
ClearFlag(Hireling_State_Hired_0052da16-4401-4873-8176-16336d8942da,_Hireling,0);
SetFlag(Hireling_State_InCamp_e33aa0df-fcfc-4a30-8169-516d3956f02a,_Hireling,0);
PROC_IncreaseCounter("Hirelings_InCamp_Count");

PROC
PROC_Hirelings_SendToCampForStorage((CHARACTER)_Hireling)
THEN
PROC_GLO_PartyMembers_Remove(_Hireling,1);
SetFlag(Hireling_State_InCamp_e33aa0df-fcfc-4a30-8169-516d3956f02a,_Hireling,0);
PROC_IncreaseCounter("Hirelings_InCamp_Count");

PROC
PROC_GLO_PartyMembers_MakeNPCHook((CHARACTER)_Hireling)
AND
DB_Hirelings_Hired(_Hireling)
AND
DB_PartOfTheTeam(_Hireling)
THEN
PROC_DismissToCamp(_Hireling);

QRY
QRY_Camp_GetCamperPos_Custom((CHARACTER)_Hireling)
AND
DB_Hirelings_Hired(_Hireling)
AND
DB_ActiveCamp(_ActiveCamp)
AND
DB_Hirelings_CampPos(_Hireling,_I)
AND
DB_Hirelings_CampPositions(_ActiveCamp,_I,_Pos)
THEN
DB_QRYRTN_Camp_GetCamperPos(_Hireling,_Pos);

QRY
QRY_Camp_GetCamperPos_Custom((CHARACTER)_Hireling)
AND
DB_Hirelings_Hired(_Hireling)
AND
DB_ActiveCamp(_ActiveCamp)
AND
NOT DB_QRYRTN_Camp_GetCamperPos(_Hireling,_)
AND
DB_ORI_OriginCampData((CHARACTER)S_GLO_JergalAvatar_0133f2ad-e121-4590-b5f0-a79413919805,_ActiveCamp,_Pos)
AND
Concatenate("Hirelings position are not set up for camp: ",_ActiveCamp,_Str)
THEN
DebugBreak(_Str);
DB_QRYRTN_Camp_GetCamperPos(_Hireling,_Pos);

IF
EntityEvent(_Hireling,"CampPosRequest")
AND
DB_Hirelings_Hired((CHARACTER)_Hireling)
AND
DB_ActiveCamp(_ActiveCamp)
AND
DB_Hirelings_CampPos(_Hireling,_I)
AND
DB_Hirelings_CampPositions(_ActiveCamp,_I,_Pos)
THEN
SetDualEntityEvent(_Hireling,_Pos,"CampPositionChange",1);

//END_REGION Send to camp


//REGION Events for hiring/dismissal/to camp

IF
HenchmanSelected(_Avatar,_Hireling)
THEN
PROC_PlayerSlot_Free();
DB_OriginInPartyDialog(_Hireling,Hireling_418bd530-1088-9cdc-6d6e-83335b9723b8);
DB_OriginNPCAlignment(_Hireling,Hirelings_b7b47ac8-8e29-4984-b8c5-f35b66d8265a);
DB_GLO_PartyMembers_OriginalAlignment(_Hireling,Hirelings_b7b47ac8-8e29-4984-b8c5-f35b66d8265a);
PROC_Hirelings_Hire(_Hireling,_Avatar);
ApplyStatus(_Hireling,"HIRELING_APPEAR",1.0,1,NULL_00000000-0000-0000-0000-000000000000);

IF
FlagSet(Hirelings_HACK_FinalizeCreate_d48033b5-fc9b-4881-95a9-915228ead297,_Player,_)
THEN
ClearFlag(Hirelings_HACK_FinalizeCreate_d48033b5-fc9b-4881-95a9-915228ead297,_Player,0);
SetFlag(Hirelings_HACK_Reset_4b79a5a7-2277-4fdc-a6b4-2e82498e89f9,_Player,0);

IF
FlagSet(Hirelings_HACK_FinalizeCreate_d48033b5-fc9b-4881-95a9-915228ead297,_Avatar,_)
AND
DB_Avatars((CHARACTER)_Avatar)
AND
DB_Hirelings_HACK_RecievedFlag(_Avatar,_ClassFlag)
AND
DB_Hirelings_HACK_Classes(_ClassFlag,_ClassTemplate,_ClassRecruitedFlag)
THEN
DB_Hirelings_HACK_SetStatsFrom(_ClassTemplate);

IF
FlagSet(Hirelings_HACK_FinalizeCreate_d48033b5-fc9b-4881-95a9-915228ead297,_Avatar,_)
AND
DB_Avatars((CHARACTER)_Avatar)
AND
DB_Hirelings_HACK_RecievedFlag(_Avatar,_RaceFlag)
AND
DB_Hirelings_HACK_RecievedFlag(_Avatar,_GenderFlag)
AND
DB_Hirelings_HACK_PlayerRoots(_VisualRoot,_RaceFlag,_GenderFlag)
THEN
DB_Hirelings_HACK_SetVisualsFrom(_VisualRoot);

IF
FlagSet(Hirelings_HACK_FinalizeCreate_d48033b5-fc9b-4881-95a9-915228ead297,_Avatar,_)
AND
DB_Avatars((CHARACTER)_Avatar)
THEN
PROC_Hirelings_HACK_Hire(_Avatar);

IF
FlagSet(Hirelings_HACK_FinalizeCreate_d48033b5-fc9b-4881-95a9-915228ead297,_Player,_)
THEN
SetFlag(Hirelings_HACK_Reset_4b79a5a7-2277-4fdc-a6b4-2e82498e89f9,_Player,0);

IF
FlagSet(Hirelings_HACK_CreateRandomFor_c86e11df-9016-491e-ac0c-d7755b96e4ef,_Player,_)
THEN
ClearFlag(Hirelings_HACK_CreateRandomFor_c86e11df-9016-491e-ac0c-d7755b96e4ef,_Player,0);

IF
FlagSet(Hirelings_HACK_CreateRandomFor_c86e11df-9016-491e-ac0c-d7755b96e4ef,_Player,_)
AND
DB_Avatars((CHARACTER)_Player)
THEN
PROC_Hirelings_HACK_Hire(_Player);

PROC
PROC_Hirelings_HACK_Hire((CHARACTER)_Avatar)
AND
DB_Avatars(_Avatar)
AND
NOT DB_Hirelings_HACK_SetStatsFrom(_)
THEN
PROC_Hirelings_HACK_ChooseRandom();

PROC
PROC_Hirelings_HACK_ChooseRandom()
AND
NOT DB_Hirelings_HACK_SetStatsFrom(_)
AND
QRY_GetRandom("DB_Hirelings_HACK_Classes",3,"DB_Hirelings_HACK_Classes_Chosen")
AND
DB_Hirelings_HACK_Classes_Chosen((FLAG)_Flag,(CHARACTER)_ClassTemplate,(FLAG)_ClassRecruitedFlag)
AND
NOT DB_GlobalFlag(_ClassRecruitedFlag)
THEN
DB_Hirelings_HACK_SetStatsFrom(_ClassTemplate);

PROC
PROC_Hirelings_HACK_ChooseRandom()
AND
NOT DB_Hirelings_HACK_SetStatsFrom(_)
AND
DB_Hirelings_HACK_Classes_Chosen((FLAG)_Flag,(CHARACTER)_ClassTemplate,(FLAG)_ClassRecruitedFlag)
AND
DB_GlobalFlag(_ClassRecruitedFlag)
THEN
PROC_Hirelings_HACK_ChooseRandom();

PROC
PROC_Hirelings_HACK_Hire((CHARACTER)_Avatar)
AND
DB_Avatars(_Avatar)
AND
DB_Hirelings_HACK_SetStatsFrom(_ClassTemplate)
AND
DB_Hirelings_HACK_Classes((FLAG)_Flag,(CHARACTER)_ClassTemplate,(FLAG)_ClassRecruitedFlag)
THEN
TeleportTo(_ClassTemplate,_Avatar,"Hirelings_Spawned",0,0,0,1,1);
ApplyStatus(_ClassTemplate,"HIRELING_DISAPPEAR",1.0,1,NULL_00000000-0000-0000-0000-000000000000);
//PROC_Foop(_ClassTemplate,VFX_Script_Hirelings_Summon_01_1f227477-d06c-2e95-dc89-6b143f312832);
NOT DB_Hirelings_HACK_SetStatsFrom(_ClassTemplate);
DB_Hirelings_WaitCreated((CHARACTER)_ClassTemplate,(CHARACTER)_Avatar);

PROC
PROC_Hirelings_HACK_Hire((CHARACTER)_Avatar)
AND
DB_Avatars(_Avatar)
AND
DB_Hirelings_WaitCreated((CHARACTER)_Hireling,(CHARACTER)_Avatar)
AND
NOT DB_Hirelings_HACK_SetVisualsFrom(_)
AND
QRY_GetRandom("DB_Hirelings_HACK_PlayerRoots",3,"DB_Hirelings_HACK_PlayerRoot_Chosen")
AND
DB_Hirelings_HACK_PlayerRoot_Chosen((CHARACTERROOT)_VisualRoot,(FLAG)_RaceFlag,(FLAG)_GenderFlag)
THEN
DB_Hirelings_HACK_SetVisualsFrom(_VisualRoot);


IF
EntityEvent(_Hireling,"Hirelings_Spawned")
AND
DB_Hirelings_WaitCreated((CHARACTER)_Hireling,(CHARACTER)_Avatar)
THEN
NOT DB_Hirelings_WaitCreated(_Hireling,_Avatar);
PROC_Hirelings_HACK_ChangeVisuals(_Hireling);
SysClear("DB_Hirelings_HACK_SetStatsFrom",1);
SysClear("DB_Hirelings_HACK_SetVisualsFrom",1);
PROC_Hirelings_Hire(_Hireling,_Avatar);

PROC
PROC_Hirelings_HACK_ChangeVisuals((CHARACTER)_Hireling)
AND
DB_Hirelings_HACK_SetVisualsFrom(_VisualRoot)
THEN
NOT DB_Hirelings_HACK_SetVisualsFrom(_VisualRoot);
Transform(_Hireling,_VisualRoot,HirelingsHACK_fbafbd9d-17c4-4a98-bffa-4f1a7810c309);


IF
DialogActorLeft(Hireling_418bd530-1088-9cdc-6d6e-83335b9723b8,_,_Hireling,_)
AND
DB_Hirelings_Hired((CHARACTER)_Hireling)
AND
GetFlag(Hireling_Event_Dismiss_0899283b-9be4-4fef-babb-756270a33079,_Hireling,1)
THEN
ClearFlag(Hireling_Event_Dismiss_0899283b-9be4-4fef-babb-756270a33079,_Hireling,0);
PROC_Hirelings_Dismiss(_Hireling);

IF
FlagSet(OriginRemoveFromPartyAfterDialog_7a429beb-fbfb-fa8a-3a33-0349323ad11d, (CHARACTER)_Hireling, _ID) // flagType: Object
AND
DB_Hirelings_Hired((CHARACTER)_Hireling)
THEN
PROC_Hirelings_SendToCamp(_Hireling);

IF
DialogActorLeft(Hireling_418bd530-1088-9cdc-6d6e-83335b9723b8,_DialogID,_Hireling,_)
AND
DB_Hirelings_Hired((CHARACTER)_Hireling)
AND
GetFlag(Hireling_Event_ToParty_a8d38e39-d672-406d-9827-811bed6ef24c,_Hireling,1)
AND
DB_DialogPlayers(_DialogID,_AvatarInDialog,1)
THEN
ClearFlag(Hireling_Event_ToParty_a8d38e39-d672-406d-9827-811bed6ef24c,_Hireling,0);
PROC_Hirelings_TakeFromCamp(_Hireling,(CHARACTER)_AvatarInDialog);

IF
DialogActorLeft(Hireling_418bd530-1088-9cdc-6d6e-83335b9723b8,_,_Hireling,_)
AND
DB_Hirelings_Hired((CHARACTER)_Hireling)
AND
GetFlag(Hireling_Event_SavePreset_01a8e241-415e-4f01-915a-e2cbb74b93c2,_Hireling,1)
THEN
ClearFlag(Hireling_Event_SavePreset_01a8e241-415e-4f01-915a-e2cbb74b93c2,_Hireling,0);
//PROC_Hirelings_SavePreset(_Hireling,_Avatar);

//END_REGION Events for hiring/dismissal/to camp


//REGION Filling flags and names in recruiter dialog
IF
FlagSet(Hirelings_Event_RefreshHirelings_da55888f-daaf-4914-afb2-108fb287ccad,_Avatar,_DialogID)
THEN
ClearFlag(Hirelings_Event_RefreshHirelings_da55888f-daaf-4914-afb2-108fb287ccad,_Avatar,0);

//The flag triggers an explicit recalculation of the flags
IF
FlagSet(Hirelings_Event_RefreshHirelings_da55888f-daaf-4914-afb2-108fb287ccad,_Avatar,_DialogID)
AND
DB_Hirelings_DialogVars(_DialogID, _I,_Hireling)
THEN
NOT DB_Hirelings_DialogVars(_DialogID, _I,_Hireling);

IF
FlagSet(Hirelings_Event_RefreshHirelings_da55888f-daaf-4914-afb2-108fb287ccad,_Avatar,_DialogID)
THEN
PROC_PartyMemberKickFromPartyFlags_Update(_DialogID);


IF
CharacterReservedUserIDChanged(_Character, _, _)
AND
DB_Hirelings_DialogVars(_DialogID, _, _Hireling)
THEN
PROC_PartyMemberKickFromPartyFlags_Update(_DialogID);

PROC
PROC_PartyMemberKickFromPartyFlags_Update(_DialogID)
AND
DB_Avatars((CHARACTER)_Avatar)
AND
DB_Hirelings_DialogFlagsVars(_I,_ControlledFlag,_ShowFlag,_ChoiceFlag,_CampFlag,_Variable)
THEN
ClearFlag(_ControlledFlag,_Avatar,0);
ClearFlag(_ShowFlag,_Avatar,0);
ClearFlag(_ChoiceFlag,_Avatar,0);
ClearFlag(_CampFlag,_Avatar,0);

//When first setting up a dialogue that requires names, set the name sequence for that dialogue.
PROC
PROC_PartyMemberKickFromPartyFlags_Update(_DialogID)
AND
NOT QRY_Hirelings_DialogHirelingNamesSetupDone(_DialogID)
AND
QRY_OnlyOnce_Reset("Hirelings_AvatarInDialog")
AND
DB_Avatars((CHARACTER)_Avatar)
AND
DB_DialogPlayers(_DialogID, _Avatar, _)
AND
QRY_OnlyOnce("Hirelings_AvatarInDialog")
AND
QRY_LoopCounter_Reset("Hirelings_CountHires",0)
AND
DB_Hirelings_Hired(_Hireling)
AND
NOT QRY_PreventMPDialogue(_Avatar,_Hireling) //You can only dismiss the hirelings not assigned to another player.
AND
QRY_LoopCounter_GetCount("Hirelings_CountHires")
AND
DB_Singleton("Hirelings_CountHires",_I)
AND
DB_Hirelings_DialogFlagsVars(_I,_ControlledFlag,_ShowFlag,_DismissChoice,_CampFlag,_Variable)
AND
GetDisplayName(_Hireling,_DisplayName)
THEN
DialogSetVariableTranslatedStringForInstance(_DialogID, _Variable,_DisplayName, "");
DB_Hirelings_DialogVars(_DialogID, _I,_Hireling);

PROC
PROC_PartyMemberKickFromPartyFlags_Update(_DialogID)
AND
DB_DialogName(_Dialog,_DialogID)
THEN
DB_GLO_CompanionSwapDialogue(_Dialog);

PROC
PROC_PartyMemberKickFromPartyFlags_Update(_DialogID)
AND
DB_Avatars(_Avatar)
AND
DB_DialogSpeakers(_DialogID, _Avatar, _)
AND
DB_Hirelings_DialogVars(_DialogID, _I,_Hireling)
AND
DB_PartyMembers(_Hireling)
AND
DB_Hirelings_DialogFlagsVars(_I,_ControlledFlag,_ShowFlag,_DismissChoice,_CampFlag,_Variable)
AND
NOT QRY_PreventMPDialogue(_Avatar,_Hireling)
AND
NOT DB_BlockDismissable_IgnoreDialog(_Hireling)
AND
QRY_InNoDialogOrInSameDialogAs(_Hireling, _Avatar)
THEN
SetFlag(_ShowFlag,_Avatar,0);

PROC
PROC_PartyMemberKickFromPartyFlags_Update(_DialogID)
AND
DB_Avatars(_Avatar)
AND
DB_DialogSpeakers(_DialogID, _Avatar, _)
AND
DB_Hirelings_DialogVars(_DialogID, _I,_Hireling)
AND
DB_PartyMembers(_Hireling)
AND
DB_Hirelings_DialogFlagsVars(_I,_ControlledFlag,_ShowFlag,_DismissChoice,_CampFlag,_Variable)
AND
NOT QRY_PreventMPDialogue(_Avatar,_Hireling)
THEN
SetFlag(_ControlledFlag,_Avatar,0);

QRY
QRY_Hirelings_DialogHirelingNamesSetupDone((INTEGER)_DialogID)
AND
DB_Hirelings_DialogVars(_DialogID, _, _)
THEN
DB_NOOP(1);

IF
DialogEnded(_Dialog,_DialogID)
AND
DB_Hirelings_RecruiterDialog(_Dialog)
AND
DB_DialogPlayers(_DialogID,_Avatar,1)
AND
DB_Hirelings_DialogFlagsVars(_I,_ControlledFlag,_ShowFlag,_DismissChoice,_CampFlag,_Variable)
THEN
ClearFlag(_ControlledFlag,_Avatar,0);
ClearFlag(_CampFlag, _Avatar, 0);
ClearFlag(_ShowFlag,_Avatar,0);
ClearFlag(_DismissChoice,_Avatar,0);

IF
DialogEnded(_Dialog,_DialogID)
AND
DB_Hirelings_DialogVars(_DialogID, _I,_Hireling)
THEN
NOT DB_Hirelings_DialogVars(_DialogID, _I,_Hireling);

IF
FlagSet(_DismissChoice,_Avatar,_DialogID)
AND
DB_Avatars((CHARACTER)_Avatar)
AND
DB_Hirelings_DialogFlagsVars(_I,_ControlledFlag,_ShowFlag,_DismissChoice,_CampFlag,_Variable)
AND
DB_Hirelings_DialogVars(_DialogID, _I,_Hireling)
AND
NOT DB_InteractiveDialogSpeaker(_, _Hireling)
THEN
PROC_Hirelings_Dismiss(_Hireling);

IF
FlagSet(_CampFlag,_Avatar,_DialogID)
AND
DB_Avatars((CHARACTER)_Avatar)
AND
DB_Hirelings_DialogFlagsVars(_I,_ControlledFlag,_ShowFlag,_DismissChoice,_CampFlag,_Variable)
AND
DB_Hirelings_DialogVars(_DialogID, _I,_Hireling)
THEN
PROC_GLO_PartyMembers_Remove(_Hireling,(CHARACTER)_Avatar,0);
PROC_Hirelings_SendToCamp(_Hireling);

//END_REGION Filling flags and in recruiter dialog

//REGION Clean hireling faction relations

PROC
PROC_Hirelings_CleanFactionRelations((FACTION)_HirelingFaction)
AND
DB_Hirelings_RelationChange(_HirelingFaction,_OtherFaction)
THEN
ResetRelation(_HirelingFaction,_OtherFaction);

PROC
PROC_Hirelings_CleanFactionRelations((FACTION)_HirelingFaction)
AND
DB_Hirelings_RelationChange(_OtherFaction,_HirelingFaction)
THEN
ResetRelation(_OtherFaction,_HirelingFaction);

IF
RelationChanged(_HirelingFaction,_OtherFaction,_,_)
AND
DB_Hirelings_Factions(_HirelingFaction)
THEN
DB_Hirelings_RelationChange(_HirelingFaction,_OtherFaction);

IF
RelationChanged(_OtherFaction,_HirelingFaction,_,_)
AND
DB_Hirelings_Factions(_HirelingFaction)
THEN
DB_Hirelings_RelationChange(_OtherFaction,_HirelingFaction);

//END_REGION Clean hireling faction relations


//REGION CC
// for when hirelings could be hired in Act 2 Epilogue in dialog SCE_Jergal_Debrief, camp in dialog SCE_Jergal_Debrief, or Recruiter debug option.
IF
DialogActorLeft(_Dialog,_,_Player,_)
AND
DB_Hirelings_RecruiterDialog(_Dialog)
AND
DB_Players((CHARACTER)_Player)
AND
GetFlag(Hirelings_Event_StartCC_39fea63b-3c10-4f22-8f5e-53d8a23ae583,_Player,1)
THEN
ClearFlag(Hirelings_Event_StartCC_39fea63b-3c10-4f22-8f5e-53d8a23ae583,_Player,0);
PROC_StartHenchmen(_Player);

PROC
PROC_StartHenchmen((CHARACTER)_Player)
AND
GetFlag(Hirelings_State_CCmutex_dfbc6d83-5c08-417d-9cc7-6f3bcdea9deb,NULL_00000000-0000-0000-0000-000000000000,0)
THEN
SetFlag(Hirelings_State_CCmutex_dfbc6d83-5c08-417d-9cc7-6f3bcdea9deb,NULL_00000000-0000-0000-0000-000000000000,0);
PROC_PlayerSlot_Reserve();
StartHenchmen(_Player);

IF
SavegameLoaded()
AND
GetFlag(Hirelings_State_CCmutex_dfbc6d83-5c08-417d-9cc7-6f3bcdea9deb,NULL_00000000-0000-0000-0000-000000000000,1)
THEN
ClearFlag(Hirelings_State_CCmutex_dfbc6d83-5c08-417d-9cc7-6f3bcdea9deb,NULL_00000000-0000-0000-0000-000000000000,0);
PROC_PlayerSlot_Free();

IF
HenchmanSelected(_,_)
THEN
ClearFlag(Hirelings_State_CCmutex_dfbc6d83-5c08-417d-9cc7-6f3bcdea9deb,NULL_00000000-0000-0000-0000-000000000000,0);

IF
HenchmanAborted(_Player)
THEN
ClearFlag(Hirelings_State_CCmutex_dfbc6d83-5c08-417d-9cc7-6f3bcdea9deb,NULL_00000000-0000-0000-0000-000000000000,0);
PROC_PlayerSlot_Free();
PROC_Hirelings_Refund(_Player);


IF
DB_Hirelings_MoneyTransferVariable(_Var, _Cost)
AND
DB_Hirelings_RecruiterDialog(_Dialog)
THEN
DB_DialogMoneyTransfer(_Var, _Dialog, _Cost);


PROC
PROC_Hirelings_Refund((CHARACTER)_Player)
AND
GetGold(S_GLO_JergalAvatar_0133f2ad-e121-4590-b5f0-a79413919805,_Gold)
AND
DB_Hirelings_MoneyTransferVariable(_Var, _Cost)
AND
_Gold >= _Cost
AND
IntegerProduct(_Cost,-1,_MinusCost)
THEN
AddGold(S_GLO_JergalAvatar_0133f2ad-e121-4590-b5f0-a79413919805,_MinusCost);
AddGold(_Player,_Cost);

//END_REGION CC


//REGION Show exclamation mark when Hireling intro becomes available.
IF
DB_InCamp((CHARACTER)S_GLO_JergalAvatar_0133f2ad-e121-4590-b5f0-a79413919805)
AND
DB_GlobalFlag((FLAG)Hirelings_State_ShowIntro_b3983f00-096e-4e8b-82d5-8ae92a806dfc)
AND
NOT DB_Camp_Faded(_,_)
THEN
PROC_GLO_Jergal_FollowerCRD_Enable();

IF
TextEvent("HirelingsMark")
AND
GetHostCharacter(_Char)
THEN
DebugText(_Char, "HirelingsMark");
PROC_GLO_Jergal_FollowerCRD_Enable();

PROC
PROC_GLO_Jergal_FollowerCRD_Enable()
THEN
PROC_CampRelationshipDialog((CHARACTER)S_GLO_JergalAvatar_0133f2ad-e121-4590-b5f0-a79413919805,(DIALOGRESOURCE)CAMP_Jergal_7f4acd9b-15c0-81fe-9409-623634ec3ed3, (FLAG)FCRD_Jergal_HirelingsIntro_02e588d1-0c38-4743-afba-481d1b842975, 0);
PROC_Try_CampRelationshipDialog((CHARACTER)S_GLO_JergalAvatar_0133f2ad-e121-4590-b5f0-a79413919805,1);
//END_REGION

//REGION Global flags

IF
LeveledUp(_Avatar)
AND
DB_Avatars(_Avatar)
AND
NOT DB_GlobalFlag((FLAG)Hirelings_State_FeatureAvailable_66a34105-f02f-4c74-a3c8-085f1de12db8) // if its already available, don't keep resetting it every level up.
AND
GetLevel(_Avatar,_Level)
AND
_Level >= 3
THEN
SetFlag(Hirelings_State_FeatureAvailable_66a34105-f02f-4c74-a3c8-085f1de12db8,NULL_00000000-0000-0000-0000-000000000000,0);
SetFlag(Hirelings_State_ShowIntro_b3983f00-096e-4e8b-82d5-8ae92a806dfc,NULL_00000000-0000-0000-0000-000000000000,0);

// hack for editor
PROC
PROC_LevelLoadedOnce(_)
AND
DB_IsEditor(1)
AND
DB_Avatars(_Avatar)
AND
GetLevel(_Avatar,_Level)
AND
_Level >= 3
THEN
SetFlag(Hirelings_State_FeatureAvailable_66a34105-f02f-4c74-a3c8-085f1de12db8,NULL_00000000-0000-0000-0000-000000000000,0);
SetFlag(Hirelings_State_ShowIntro_b3983f00-096e-4e8b-82d5-8ae92a806dfc,NULL_00000000-0000-0000-0000-000000000000,0);


IF
DB_GlobalCounter("Hirelings_Hired_Count",_Count)
AND
DB_Hirelings_GloHiredFlag(_Count,_Flag)
THEN
SetFlag(_Flag,NULL_00000000-0000-0000-0000-000000000000,0);

IF
DB_GlobalCounter("Hirelings_InCamp_Count",_Count)
AND
DB_Hirelings_GloInCampFlag(_Count,_Flag)
THEN
SetFlag(_Flag,NULL_00000000-0000-0000-0000-000000000000,0);

PROC
PROC_CounterDecreased("Hirelings_Hired_Count",0)
THEN
ClearFlag(Hirelings_State_Hired_1_23ddc0ed-5859-4a03-a563-d1d284499586,NULL_00000000-0000-0000-0000-000000000000,0);

PROC
PROC_CounterDecreased("Hirelings_InCamp_Count",0)
THEN
ClearFlag(Hirelings_State_InCamp_1_11c756aa-b00f-414e-aa15-09403c13c559,NULL_00000000-0000-0000-0000-000000000000,0);

//END_REGION Global flags
EXITSECTION

ENDEXITSECTION
ParentTargetEdge "__Start"
