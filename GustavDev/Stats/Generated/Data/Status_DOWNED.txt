new entry "SCL_DOWNED"
type "StatusData"
data "StatusType" "DOWNED"
using "DOWNED"
data "OnRollsFailed" "ApplyStatus(DYING,100,-1,DoT);ApplyStatus(SCL_SHADOW_CURSE_RISING,100,1)"

new entry "GLO_NIGHTSONGRESURRECTION_DOWNED"
type "StatusData"
data "StatusType" "DOWNED"
using "DOWNED"
data "AnimationStart" "c5fccc78-9c37-474e-a059-0374e79da7ae(UTIL_NightsongResurrect_01_Start)"
data "AnimationLoop" "2c8fb7f8-c0c0-4ada-8664-52001113665e(UTIL_NightsongResurrect_01_Loop)"
data "AnimationEnd" "c9ad579f-dd08-4cc6-b477-6b45103f0be7(UTIL_NightsongResurrect_01_End)"
data "Boosts" "Invulnerable();Tag(AI_IGNORED_TARGET)"
data "TickFunctors" "RegainHitPoints(1)"
data "OnApplyFunctors" "Stabilize();RemoveStatus(MOO_NIGHTSONG_MOONBEAM);"
data "OnRemoveFunctors" "ResetCombatTurn();RestoreResource(Movement, 100%, 0);RestoreResource(BonusActionPoint, 100%, 0);"
data "StableRollDC" "0"
data "NumStableSuccess" "1"
data "NumStableFailed" "1"
data "OnSuccess" "Stabilize()"
data "OnRollsFailed" "Stabilize()"
data "StatusGroups" "SG_Unconscious;SG_Condition;SG_Incapacitated;SG_Helpable_Condition"
data "StatusEffect" "def81a2d-8c1e-45ae-9cea-4842866aa26a"

new entry "POTION_OF_UNDYING_DOWNED"
type "StatusData"
data "StatusType" "DOWNED"
using "DOWNED"
data "StillAnimationPriority" "Snared"
data "TickFunctors" "IF(IsLastConditionRollSuccess(ConditionRollType.ConditionSavingThrow)):RegainHitPoints(1)"
data "StatusGroups" "SG_Unconscious;SG_Condition;SG_Incapacitated;SG_Helpable_Condition"
data "StatusEffect" "16afeddb-6a1e-4ad1-a0e1-3a467a5ad2ad"

new entry "MAG_DEATH_DO_SHADOW_POSSESION_DOWNED"
type "StatusData"
data "StatusType" "DOWNED"
using "DOWNED"
data "OnApplyFunctors" "IF(HasStatus('MAG_DEATH_DO_SHADOW_POSSESION_DOWNED_OVERRIDE')):Stabilize();RemoveStatus(RAGE);RemoveStatus(SG_Mad);IF(HasStatus('MAG_DEATH_DO_SHADOW_POSSESION_DOWNED_OVERRIDE')):ApplyStatus(MAG_DEATH_DO_SHADOW_POSSESION, 100, -1)"
data "OnRemoveFunctors" "ResetCombatTurn();RestoreResource(Movement, 100%, 0);RestoreResource(BonusActionPoint, 100%, 0)"

