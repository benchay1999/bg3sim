Version 1
SubGoalCombiner SGC_AND
INITSECTION

KBSECTION
//REGION Shadowcurse undead
QRY
QRY_SCL_ShadowCurse_HasUndeadCurseStatus((GUIDSTRING)_Target)
AND
DB_SCL_ShadowCurse_UndeadStatuses(_ShadowCurseUndeadStatus)
AND
HasAppliedStatus(_Target,_ShadowCurseUndeadStatus,1)
THEN
DB_NOOP(1);

IF
UsingSpellOnTarget(_Caster,_Target,"Target_Remove_Curse",_,_,_)
AND
QRY_SCL_ShadowCurse_HasUndeadCurseStatus(_Target)
THEN
ApplyStatus(_Target,"STUNNED",6.0,0,_Caster);
//END_REGION

//REGION Finish on exiting SCL
PROC
PROC_LevelUnloading("SCL_Main_A")
THEN
GoalCompleted; 
//END_REGION
EXITSECTION

ENDEXITSECTION
ParentTargetEdge "ModWrapper_Gustav"
