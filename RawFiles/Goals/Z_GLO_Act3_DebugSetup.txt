Version 1
SubGoalCombiner SGC_AND
INITSECTION
//REGION Global Flags
// Good Flags
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Good_eecb2a28-fbbb-4e51-856b-8f6a0b1edfbe, (FLAG)DEN_DevilishOx_MeetAtDruidsGrove_HasMet_SwA_94637372-3365-4c0c-97fa-59b7d089cd53, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Good_eecb2a28-fbbb-4e51-856b-8f6a0b1edfbe, (FLAG)HAV_DevilishOx_LastLight_HasMet_SwA_12a0387f-f284-417b-a91b-53ab87ef9e85, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Good_eecb2a28-fbbb-4e51-856b-8f6a0b1edfbe, (FLAG)Debug_WYR_Ironhand_SetupAllGnomes_7024b82b-15e4-473a-9cf3-6d16f40d290a, "BGO_Main_A");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Good_eecb2a28-fbbb-4e51-856b-8f6a0b1edfbe, (FLAG)WYR_Posthouse_Debug_Dog2Camp2_92f442e1-e948-6593-9637-ef18c7fa52dd, "BGO_Main_A");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Good_eecb2a28-fbbb-4e51-856b-8f6a0b1edfbe, (FLAG)PLA_ZhentDungeon_State_Zhent01Arrived_444dcaeb-3de2-4199-a066-5e85eabdb0ed, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Good_eecb2a28-fbbb-4e51-856b-8f6a0b1edfbe, (FLAG)PLA_ZhentShipment_State_Talked_5359e72b-f8ca-d2d6-4c3a-8fc00efe5c2c, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Good_eecb2a28-fbbb-4e51-856b-8f6a0b1edfbe, (FLAG)ORI_Astarion_Knows_RitualsPurpose_d1dc0f8a-b77d-4e40-a501-a66e163b8376, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Good_eecb2a28-fbbb-4e51-856b-8f6a0b1edfbe, (FLAG)MOO_BloodMerchant_State_SupportedAstarionsDecisionNotToDrinkBlood_89c42491-69f6-43dd-b7ab-c912d11fe2a7, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Good_eecb2a28-fbbb-4e51-856b-8f6a0b1edfbe, (FLAG)HAG_Hag_State_HagDefeated_7a1acad0-589f-ae02-f712-f0d24080d720, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Good_eecb2a28-fbbb-4e51-856b-8f6a0b1edfbe, (FLAG)HAG_Hagspawn_Event_WifeHusbandLeave_c85ecfa6-472a-4200-fa39-1bb40b1338be, "CTY_Main_A");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Good_eecb2a28-fbbb-4e51-856b-8f6a0b1edfbe, (FLAG)LOW_HagSurvivors_Debug_MaskOfRegetDiedInActI_d99e98ad-5d6d-4735-aa4b-c7743c260271, "CTY_Main_A");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Good_eecb2a28-fbbb-4e51-856b-8f6a0b1edfbe, (FLAG)UND_MushroomHunter_Event_AteMushroom_617a7a68-9ce9-26e8-883d-7cb98665540c, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Good_eecb2a28-fbbb-4e51-856b-8f6a0b1edfbe, (FLAG)UND_SocietyOfBrilliance_State_PlayersMetBlurg_493ca853-174a-410a-b93c-a12b8788469c, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Good_eecb2a28-fbbb-4e51-856b-8f6a0b1edfbe, (FLAG)UND_SocietyOfBrilliance_State_MindFlayerWasSummoned_890cb41b-8831-4e4d-8fa7-f60958db6bc1, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Good_eecb2a28-fbbb-4e51-856b-8f6a0b1edfbe, (FLAG)LOW_KurwinCoffin_Knows_ReadNineFingersNote_8b458528-dc75-4332-b817-5e887ec8bb93, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Good_eecb2a28-fbbb-4e51-856b-8f6a0b1edfbe, (FLAG)LOW_OskarsBeloved_State_ArtistLeftHideout_76dca7be-5c6a-4444-afa4-3ae4b13d6315, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Good_eecb2a28-fbbb-4e51-856b-8f6a0b1edfbe, (FLAG)DEN_Prodigy_State_Leaving_5f02e553-2798-7837-0a7c-6996c6352bbc, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Good_eecb2a28-fbbb-4e51-856b-8f6a0b1edfbe, (FLAG)HAV_SavingPrisoners_State_BrotherReturned_2b696962-1d09-4cb6-b034-34d86d73dba0, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Good_eecb2a28-fbbb-4e51-856b-8f6a0b1edfbe, (FLAG)HAV_SavingPrisoners_State_SisterReturned_54cbf85c-163b-d0f7-2519-93ff58c843aa, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Good_eecb2a28-fbbb-4e51-856b-8f6a0b1edfbe, (FLAG)Debug_WYR_Ironhand_SetupAllGnomes_7024b82b-15e4-473a-9cf3-6d16f40d290a, "BGO_Main_A");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Good_eecb2a28-fbbb-4e51-856b-8f6a0b1edfbe, (FLAG)Debug_WYR_Ironhand_SetupUnfortunateGnome_902317ce-1794-4203-a3c5-acb685884f5b, "BGO_Main_A");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Good_eecb2a28-fbbb-4e51-856b-8f6a0b1edfbe, (FLAG)PLA_KarlachRecruitmentTollhouse_State_PaladinsPermaDefeated_d78dbc95-8d8e-4b3a-b618-ccfb48c31375, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Good_eecb2a28-fbbb-4e51-856b-8f6a0b1edfbe, (FLAG)PLA_PaladinsOfTyr_State_KarlachInPartyWhenPermadefeated_96991d97-9ce8-4c88-8bff-01f4abd99fc8, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Good_eecb2a28-fbbb-4e51-856b-8f6a0b1edfbe, (FLAG)PLA_PaladinsOfTyr_State_KarlachFoughtPaladins_fc42d7cb-b525-4a93-80eb-7898dbc3ee40, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Good_eecb2a28-fbbb-4e51-856b-8f6a0b1edfbe, (FLAG)PLA_KarlachRecruitment_Quest_ToldKarlach_0f7ebbd3-2774-4b63-a292-c93212c32d1c, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Good_eecb2a28-fbbb-4e51-856b-8f6a0b1edfbe, (FLAG)ORI_Karlach_Knows_InfernalEngineExists_9b6d609a-2081-b5de-7dd6-12c425a8bc17, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Good_eecb2a28-fbbb-4e51-856b-8f6a0b1edfbe, (FLAG)ORI_Karlach_Knows_GortashGrudge_65838018-f5f0-4ecf-acd7-0b6ca245a9a2, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Good_eecb2a28-fbbb-4e51-856b-8f6a0b1edfbe, (FLAG)PLA_PaladinsOfTyr_State_KarlachInPartyWhenPermadefeated_96991d97-9ce8-4c88-8bff-01f4abd99fc8, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Good_eecb2a28-fbbb-4e51-856b-8f6a0b1edfbe, (FLAG)VISITEDREGION_SCL_Main_A_f6e72539-9bc6-42e1-a20f-390f3a17ad8d, ""); // To block act 1 branch of Karlach InParty
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Good_eecb2a28-fbbb-4e51-856b-8f6a0b1edfbe, (FLAG)VISITEDREGION_INT_Main_A_a2e1a618-d211-484e-9389-6b37308b8da1, ""); // To close Orthon goal
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Good_eecb2a28-fbbb-4e51-856b-8f6a0b1edfbe, (FLAG)ORI_Gale_State_EnoughRegionsToAskMagicItem1_a1faa546-4525-437e-a528-a4ccfd541a93, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Good_eecb2a28-fbbb-4e51-856b-8f6a0b1edfbe, (FLAG)ORI_Gale_State_GotOneMagicItem_6fec5439-a66e-4aff-b62b-69f88648c34d, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Good_eecb2a28-fbbb-4e51-856b-8f6a0b1edfbe, (FLAG)ORI_Gale_State_EnoughRegionsToAskMagicItem2_fd8f43cd-a2c1-4211-8978-de2db47fafe8, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Good_eecb2a28-fbbb-4e51-856b-8f6a0b1edfbe, (FLAG)ORI_Gale_State_GotTwoMagicItems_c757086e-4696-441d-b19c-fdb65982776f, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Good_eecb2a28-fbbb-4e51-856b-8f6a0b1edfbe, (FLAG)ORI_Gale_State_EnoughRegionsToAskMagicItem3_40cd9192-878b-480f-9a41-9f69c61f2bd9, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Good_eecb2a28-fbbb-4e51-856b-8f6a0b1edfbe, (FLAG)ORI_Gale_Event_BombDisarmed_3d014e79-5595-9365-87bb-5cbb1f87fe5c, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Good_eecb2a28-fbbb-4e51-856b-8f6a0b1edfbe, (FLAG)ORI_Gale_State_SawElderBrain_98b08cb9-7ad2-9bf9-1da1-bb549e88d934, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Good_eecb2a28-fbbb-4e51-856b-8f6a0b1edfbe, (FLAG)ORI_Gale_State_SentToFindBook_223470bc-af59-c833-500a-ace86e5cc1df, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Good_eecb2a28-fbbb-4e51-856b-8f6a0b1edfbe, (FLAG)PLA_Desire_State_Freed_1c015349-190c-d49f-1d93-227886976509, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Good_eecb2a28-fbbb-4e51-856b-8f6a0b1edfbe, (FLAG)GLO_ScryingEyes_State_PartyActedHostile_d3c6d338-36d5-41e7-97d1-9541e0a9bbcf, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Good_eecb2a28-fbbb-4e51-856b-8f6a0b1edfbe, (FLAG)UND_MushroomHunter_State_Saved_cd1f8012-322b-4135-bb40-54580bf5cea1, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Good_eecb2a28-fbbb-4e51-856b-8f6a0b1edfbe, (FLAG)GLO_Jaheira_Knows_HarpersAtDanthelon_3d66ab2d-7997-3a14-8fcc-9291a8802c5c, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Good_eecb2a28-fbbb-4e51-856b-8f6a0b1edfbe, (FLAG)Hirelings_State_FeatureAvailable_66a34105-f02f-4c74-a3c8-085f1de12db8, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Good_eecb2a28-fbbb-4e51-856b-8f6a0b1edfbe, (FLAG)Hirelings_State_ShowIntro_b3983f00-096e-4e8b-82d5-8ae92a806dfc, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Good_eecb2a28-fbbb-4e51-856b-8f6a0b1edfbe, (FLAG)HAG_Hagspawn_State_InitialSceneDone_ddd2ea7d-9ffd-27b6-4b7d-e6cd90b9db56, "BGO_Main_A");

//Evil Flags
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Evil_fb046e51-c544-4836-81eb-754ca8a021b6, (FLAG)DEN_AttackOnDen_State_RaiderVictory_abe1bce8-c234-4afe-a490-76210d98a078, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Evil_fb046e51-c544-4836-81eb-754ca8a021b6, (FLAG)Debug_SCE_Epilogue_State_NightsongDead_d99668b9-b291-4877-945c-4b5b021c129d, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Evil_fb046e51-c544-4836-81eb-754ca8a021b6, (FLAG)Debug_WYR_Ironhand_RemoveGnomes_ec2ad676-b6fc-4236-a6a7-d8d60be59db9, "BGO_Main_A");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Evil_fb046e51-c544-4836-81eb-754ca8a021b6, (FLAG)GLO_Jaheira_State_PermaDefeated_932fb5a1-00ba-4621-b7ae-877d40d7ddcd, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Evil_fb046e51-c544-4836-81eb-754ca8a021b6, (FLAG)Debug_Act2Setup_State_DesireDead_663edd5e-9f05-9193-85c8-dd37e13ae9b5, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Evil_fb046e51-c544-4836-81eb-754ca8a021b6, (FLAG)MOO_BloodMerchant_State_ConvincedAstarionToDrinkBlood_692d8d3b-c442-4615-b8d8-8bbff05fed9c, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Evil_fb046e51-c544-4836-81eb-754ca8a021b6, (FLAG)LOW_HagSurvivors_Debug_MayrinaDiedInActI_331b726e-28cc-447f-8bec-6f3d9c8fc796, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Evil_fb046e51-c544-4836-81eb-754ca8a021b6, (FLAG)LOW_HagSurvivors_Debug_MaskOfRegretSurvivedInActI_3e331ba3-0ccf-4b78-b809-daa24be9f80e, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Evil_fb046e51-c544-4836-81eb-754ca8a021b6, (FLAG)LOW_BlushingMermaid_Debug_HagTrullyDead_VanraDead_c7349d11-37c9-4f06-b4a7-926e30bb7763, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Evil_fb046e51-c544-4836-81eb-754ca8a021b6, (FLAG)LOW_HagSurvivors_Debug_MayrinaDiedInActI_331b726e-28cc-447f-8bec-6f3d9c8fc796, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Evil_fb046e51-c544-4836-81eb-754ca8a021b6, (FLAG)LOW_HagSurvivors_Debug_MaskOfRegretSurvivedInActI_3e331ba3-0ccf-4b78-b809-daa24be9f80e, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Evil_fb046e51-c544-4836-81eb-754ca8a021b6, (FLAG)HAG_Hag_State_HagDefeated_7a1acad0-589f-ae02-f712-f0d24080d720, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Evil_fb046e51-c544-4836-81eb-754ca8a021b6, (FLAG)PLA_DoubtingArtist_State_Dead_0a27ed23-fc91-43ba-8a26-b7053f1f97e2, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Evil_fb046e51-c544-4836-81eb-754ca8a021b6, (FLAG)LOW_Rolan_State_IsPermadefeated_86a666c2-6453-4aa2-b9d9-9e4c0a432640, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Evil_fb046e51-c544-4836-81eb-754ca8a021b6, (FLAG)ORI_Shadowheart_State_SharPath_bf9ae334-ff6a-458d-b898-3074bca0bdfb, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Evil_fb046e51-c544-4836-81eb-754ca8a021b6, (FLAG)LOW_Guildhall_State_ZhentLeaderRoah_PermaDefeated_44aa8b1e-14d0-4dc1-825c-a8f46155e0aa, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Evil_fb046e51-c544-4836-81eb-754ca8a021b6, (FLAG)LOW_Aradin_State_IsPermaDefeated_f9fb4d8e-dfda-4457-a3de-1716cdb8d343, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Evil_fb046e51-c544-4836-81eb-754ca8a021b6, (FLAG)GLO_DevilishOx_State_Defeated_4061b72f-ce89-4b86-b18b-ed9c5fbc7cc8, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Evil_fb046e51-c544-4836-81eb-754ca8a021b6, (FLAG)GLO_Florrick_State_PermaDefeated_c190fb1f-4c27-4948-87f0-29dc5a9b5b55, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Evil_fb046e51-c544-4836-81eb-754ca8a021b6, (FLAG)HAG_GurHunter_Event_KillAfterDialog_bfa0791f-097f-4a3a-83d5-df0ff9fbb880, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Evil_fb046e51-c544-4836-81eb-754ca8a021b6, (FLAG)FOR_UnfortunateGnome_State_FoundDead_52305f06-b315-4eaa-b39b-4f3c4afd98bd, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Evil_fb046e51-c544-4836-81eb-754ca8a021b6, (FLAG)HAG_Hagspawn_Event_RecruitHusband_dcb4aadc-ab53-4641-b5d9-7c61da0b6dbc, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Evil_fb046e51-c544-4836-81eb-754ca8a021b6, (FLAG)ORI_DarkUrge_State_MurderedAlfiraOrAlternative_6bb5bfcc-e762-40d4-a05b-9bdf860ba099, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Evil_fb046e51-c544-4836-81eb-754ca8a021b6, (FLAG)ORI_DarkUrge_State_MurderedAlfiraOrAlternativeInSleep_1b2a9aa5-7cc1-42d3-98d1-a254d612c37a, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Evil_fb046e51-c544-4836-81eb-754ca8a021b6, (FLAG)ORI_DarkUrge_Knows_KillIsobel_d9bf6b2f-a83e-3dbd-20dd-c420aac5c772, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Evil_fb046e51-c544-4836-81eb-754ca8a021b6, (FLAG)NIGHT_DarkUrge_IsobelKillOrder_52916fa3-a23e-43b3-af5e-a41875ce7f47, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Evil_fb046e51-c544-4836-81eb-754ca8a021b6, (FLAG)NIGHT_DarkUrge_KilledIsobel_c46aba07-a156-4bcd-a2da-3411651f28c2, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Evil_fb046e51-c544-4836-81eb-754ca8a021b6, (FLAG)NIGHT_DarkUrge_MurderOfAlfira_b0e97b06-b2f8-4376-829f-23d4b4bcf78d, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Evil_fb046e51-c544-4836-81eb-754ca8a021b6, (FLAG)NIGHT_DarkUrge_ButlerIntro_e3dc106b-02f0-41ef-9642-ed7ccf971248, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Evil_fb046e51-c544-4836-81eb-754ca8a021b6, (FLAG)ORI_DarkUrge_KilledIsobel_Requirement_b19523f2-d4bf-42f7-9834-2d19e04b2119, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Evil_fb046e51-c544-4836-81eb-754ca8a021b6, (FLAG)VISITEDREGION_INT_Main_A_a2e1a618-d211-484e-9389-6b37308b8da1, ""); // To close Orthon goal
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Evil_fb046e51-c544-4836-81eb-754ca8a021b6, (FLAG)Hirelings_State_FeatureAvailable_66a34105-f02f-4c74-a3c8-085f1de12db8, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Evil_fb046e51-c544-4836-81eb-754ca8a021b6, (FLAG)Hirelings_State_ShowIntro_b3983f00-096e-4e8b-82d5-8ae92a806dfc, "");



//Neutral Flags
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Neutral_b09256fb-4e3f-40c1-a296-19f58aa728f9, (FLAG)GLO_Prodigy_State_SisterDefeated_85a3e024-8a95-4ef3-9ff8-248c90ab92ad, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Neutral_b09256fb-4e3f-40c1-a296-19f58aa728f9, (FLAG)GLO_Prodigy_State_BrotherDefeated_31b02379-0648-484d-8f75-936e0903d2df, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Neutral_b09256fb-4e3f-40c1-a296-19f58aa728f9, (FLAG)Debug_WYR_Ironhand_SetupAllButBarcus_c7389112-74fb-437f-8a87-8bfb2c7874fb, "BGO_Main_A");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Neutral_b09256fb-4e3f-40c1-a296-19f58aa728f9, (FLAG)GLO_Florrick_State_PermaDefeated_c190fb1f-4c27-4948-87f0-29dc5a9b5b55, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Neutral_b09256fb-4e3f-40c1-a296-19f58aa728f9, (FLAG)ORI_Astarion_State_GurGotAstarion_cd1687b8-3282-4121-aaa1-6de5eda6a9a4, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Neutral_b09256fb-4e3f-40c1-a296-19f58aa728f9, (FLAG)ORI_Laezel_State_IsOnOrpheusPath_97244ccc-a6b5-403e-9cfe-a3502eb4af56, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Neutral_b09256fb-4e3f-40c1-a296-19f58aa728f9, (FLAG)DEN_Prodigy_State_Leaving_5f02e553-2798-7837-0a7c-6996c6352bbc, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Neutral_b09256fb-4e3f-40c1-a296-19f58aa728f9, (FLAG)DEN_RaidingParty_Event_KnockOutAdventurer_802fa2ca-c3dd-ae55-dc06-2adfadaf9ac0, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Neutral_b09256fb-4e3f-40c1-a296-19f58aa728f9, (FLAG)DEN_RaidingParty_Event_PlayerDidTheKO_8de314f6-35b8-1519-3a4b-f1001504f3c7, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Neutral_b09256fb-4e3f-40c1-a296-19f58aa728f9, GLO_LiftingTheCurse_State_BreathHasBeenRestored_2113b54e-a140-4aa0-97ac-219fa7b7d038, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Neutral_b09256fb-4e3f-40c1-a296-19f58aa728f9, HAV_EnteringHaven_State_JaheiraMet_5a642593-c3e8-af53-f0e8-a950cecb6af7, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Neutral_b09256fb-4e3f-40c1-a296-19f58aa728f9, ORI_Halsin_State_ToldShadowCurseHistory_b8c6e508-447a-4166-81c6-c3dc3ff5bfff, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Neutral_b09256fb-4e3f-40c1-a296-19f58aa728f9, SCl_LiftingTheCurse_State_HalsinToldUsToCheckThaniel_59599ff4-7e95-441e-ad20-52c47d29f425, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Neutral_b09256fb-4e3f-40c1-a296-19f58aa728f9, SCL_ShadowCurse_Knows_Oliver_Is_Thaniel_56af8bbd-eafe-3861-22a2-c253f16952e2, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Neutral_b09256fb-4e3f-40c1-a296-19f58aa728f9, (FLAG)GLO_ScryingEyes_State_PartyActedHostile_d3c6d338-36d5-41e7-97d1-9541e0a9bbcf, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Neutral_b09256fb-4e3f-40c1-a296-19f58aa728f9, (FLAG)VISITEDREGION_INT_Main_A_a2e1a618-d211-484e-9389-6b37308b8da1, ""); // To close Orthon goal
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Neutral_b09256fb-4e3f-40c1-a296-19f58aa728f9, (FLAG)GLO_Jaheira_Knows_HarpersAtDanthelon_3d66ab2d-7997-3a14-8fcc-9291a8802c5c, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Neutral_b09256fb-4e3f-40c1-a296-19f58aa728f9, (FLAG)Hirelings_State_FeatureAvailable_66a34105-f02f-4c74-a3c8-085f1de12db8, "");
DB_Debug_Act3Setup_GlobalFlags((FLAG)DBG_Act3_Setup_Neutral_b09256fb-4e3f-40c1-a296-19f58aa728f9, (FLAG)Hirelings_State_ShowIntro_b3983f00-096e-4e8b-82d5-8ae92a806dfc, "");
//END_REGION

//REGION Object Flags
//Good Flags
DB_Debug_Act3Setup_ObjectFlags((FLAG)DBG_Act3_Setup_Good_eecb2a28-fbbb-4e51-856b-8f6a0b1edfbe, (FLAG)MOO_InfernalVendor_State_SoldBlood_ae50cf43-a0ef-4ce6-bdb1-0ccf628b9a63, "");
DB_Debug_Act3Setup_ObjectFlags((FLAG)DBG_Act3_Setup_Good_eecb2a28-fbbb-4e51-856b-8f6a0b1edfbe, (FLAG)WYR_SentientAmulet_Debug_GetAmulet_87df7be7-10b6-393a-45be-a6a86cf64c5e, "BGO_Main_A");

//Evil Flags
DB_Debug_Act3Setup_ObjectFlags((FLAG)DBG_Act3_Setup_Evil_fb046e51-c544-4836-81eb-754ca8a021b6, (FLAG)WYR_SentientAmulet_Debug_GetAmulet_87df7be7-10b6-393a-45be-a6a86cf64c5e, "BGO_Main_A");
DB_Debug_Act3Setup_ObjectFlags((FLAG)DBG_Act3_Setup_Evil_fb046e51-c544-4836-81eb-754ca8a021b6, (FLAG)HAG_Hag_Event_HagEyed_2ac94597-a234-92c1-f777-aeeda4715594, "");
DB_Debug_Act3Setup_ObjectFlags((FLAG)DBG_Act3_Setup_Evil_fb046e51-c544-4836-81eb-754ca8a021b6, (FLAG)CRE_Hatchery_State_HasGithYankiEgg_30e136f5-b082-419f-9675-5310edaf782c, "");
DB_Debug_Act3Setup_ObjectFlags((FLAG)DBG_Act3_Setup_Evil_fb046e51-c544-4836-81eb-754ca8a021b6, (FLAG)MOO_InfernalVendor_State_SoldBlood_ae50cf43-a0ef-4ce6-bdb1-0ccf628b9a63, "");
DB_Debug_Act3Setup_ObjectFlags((FLAG)DBG_Act3_Setup_Evil_fb046e51-c544-4836-81eb-754ca8a021b6, (FLAG)ORI_DarkUrge_State_KilledIsobel_9148a397-dd31-44b5-84dd-ecdaade56042, "");
DB_Debug_Act3Setup_ObjectFlags((FLAG)DBG_Act3_Setup_Evil_fb046e51-c544-4836-81eb-754ca8a021b6, (FLAG)INT_EmperorRevealed_State_PartialCeremorph_bc1c1148-0ed1-8586-39b2-5aff43c3b393, "");

//Neutral Flags
DB_Debug_Act3Setup_ObjectFlags((FLAG)DBG_Act3_Setup_Neutral_b09256fb-4e3f-40c1-a296-19f58aa728f9, (FLAG)WYR_SentientAmulet_Debug_GetAmulet_87df7be7-10b6-393a-45be-a6a86cf64c5e, "BGO_Main_A");
DB_Debug_Act3Setup_ObjectFlags((FLAG)DBG_Act3_Setup_Neutral_b09256fb-4e3f-40c1-a296-19f58aa728f9, (FLAG)PLA_DoubtingArtist_HasMet_10ef8f7b-8aea-4061-9e5b-e3b87aeeab09, "");
//END_REGION

// Party Presets
DB_Debug_Act3Setup_PartyPresets((FLAG)DBG_Act3_Setup_Good_eecb2a28-fbbb-4e51-856b-8f6a0b1edfbe, "Level9_Cleric_Wizard_Warlock_Barbarian");
DB_Debug_Act3Setup_PartyPresets((FLAG)DBG_Act3_Setup_Evil_fb046e51-c544-4836-81eb-754ca8a021b6, "Level9_Sorcerer_Rogue_Cleric_Paladin");
DB_Debug_Act3Setup_PartyPresets((FLAG)DBG_Act3_Setup_Neutral_b09256fb-4e3f-40c1-a296-19f58aa728f9, "Level9_Wizard_Druid_Fighter_Druid");
KBSECTION
//REGION Set party preset
// Needed so Gale doesn't leave the party; Prevents DEN Tieflings dying
IF
FlagSet((FLAG)DBG_Act3_Setup_Good_eecb2a28-fbbb-4e51-856b-8f6a0b1edfbe, _, _)
THEN
PROC_GlobalSetFlagAndCache((FLAG)ORI_Gale_Event_BombDisarmed_3d014e79-5595-9365-87bb-5cbb1f87fe5c);
PROC_GlobalSetFlagAndCache((FLAG)DEN_TieflingRefugees_State_LeftDen_003b304b-f058-4f8a-b9fa-a097e1b6b395);
PROC_GlobalSetFlagAndCache((FLAG)DEN_Prodigy_State_Staying_479db0b1-cc1b-78bf-3e7b-9840747fbd4f);

// Prevents Halsin becoming a bear as part of the normal Act 1 flow; Prevents DEN Tieflings dying
IF
FlagSet((FLAG)DBG_Act3_Setup_Neutral_b09256fb-4e3f-40c1-a296-19f58aa728f9, _, _)
THEN
PROC_GlobalSetFlagAndCache((FLAG)DEN_TieflingRefugees_State_LeftDen_003b304b-f058-4f8a-b9fa-a097e1b6b395);
PROC_GlobalSetFlagAndCache((FLAG)DEN_Prodigy_State_Staying_479db0b1-cc1b-78bf-3e7b-9840747fbd4f);
DB_OnlyOnce("GOB_WolfPens_Init");

//Needed so Jaheira doesn't die automatically in CTY_Main

PROC
PROC_GLO_Act3_DebugSetup_PartyAndCamp((CHARACTER)_Player,(FLAG)DBG_Act3_Setup_Good_eecb2a28-fbbb-4e51-856b-8f6a0b1edfbe)
AND
DB_Players(_Player)
THEN
PROC_GlobalSetFlagAndCache(GLO_Jaheira_State_HasBeenRecruited_3a6e5580-d551-4cbb-add9-3e97f92fb371);

PROC
PROC_GLO_Act3_DebugSetup_PartyAndCamp((CHARACTER)_Player,(FLAG)DBG_Act3_Setup_Good_eecb2a28-fbbb-4e51-856b-8f6a0b1edfbe)
AND
DB_Players(_Player)
THEN
PROC_GlobalSetFlagAndCache(GLO_Jaheira_State_HasBeenRecruited_3a6e5580-d551-4cbb-add9-3e97f92fb371);

IF
FlagSet((FLAG)_Act3DebugPath, _, _)
AND
DB_Debug_Act3Setup_PartyPresets(_Act3DebugPath,_Preset)
AND
DB_GlobalFlag((FLAG)DBG_Act3_Setup_LoadPartyPresets_6ac45e36-d4d0-4ed7-9c8f-c13c7bbe768b)
AND
GetHostCharacter(_Host)
THEN
LoadPartyPreset(_Preset,_Host);

IF
FlagSet((FLAG)_Act3DebugPath, _, _)
AND
DB_Debug_Act3Setup_PartyPresets(_Act3DebugPath,_Preset)
AND
NOT DB_GlobalFlag((FLAG)DBG_Act3_Setup_LoadPartyPresets_6ac45e36-d4d0-4ed7-9c8f-c13c7bbe768b)
THEN
PROC_GLO_Act3_DebugSetup(_Act3DebugPath);

IF
PartyPresetLoaded(_Preset,_)
AND
DB_Debug_Act3Setup_PartyPresets(_Act3DebugPath,_Preset)
AND
DB_GlobalFlag(_Act3DebugPath)
THEN
PROC_GLO_Act3_DebugSetup(_Act3DebugPath);
//END_REGION

//REGION Close Previous Parent Goals
PROC
PROC_GLO_Act3_DebugSetup((FLAG)_Act3DebugPath)
AND
DB_Debug_Act3Setup_GlobalFlags(_Act3DebugPath, _, _)
AND
DB_Debug_ActStoryParents(_, (STRING)_Goal)
AND
_Goal != "Act3"
AND
_Goal != "Act3b"
AND
_Goal != "Act3c"
AND
_Goal != "Act3i"
THEN
SysCompleteGoal(_Goal);
//END_REGION

//REGION Set immediate Flags
PROC
PROC_GLO_Act3_DebugSetup((FLAG)_Act3DebugPath)
AND
DB_Debug_Act3Setup_GlobalFlags(_Act3DebugPath, _, _)
AND
DB_Players(_Player)
AND
NOT DB_Debug_Act3Setup_FlagPlayer(_Player,_)
AND
QRY_OnlyOnce("Set_Debug_Act3Setup_FlagPlayer_OnlyOnce")
THEN
DB_Debug_Act3Setup_FlagPlayer(_Player,_Act3DebugPath);

PROC
PROC_GLO_Act3_DebugSetup((FLAG)_Act3DebugPath)
AND
DB_Debug_Act3Setup_GlobalFlags(_Act3DebugPath, (FLAG)_GlobalPathFlag, (STRING)_RequiredLevel)
AND
QRY_Act3Setup_InNeededLevel(_RequiredLevel)
THEN
PROC_GlobalSetFlagAndCache(_GlobalPathFlag);

PROC
PROC_GLO_Act3_DebugSetup((FLAG)_Act3DebugPath)
AND
DB_Debug_Act3Setup_ObjectFlags(_Act3DebugPath, (FLAG)_ObjectPathFlag, (STRING)_RequiredLevel)
AND
QRY_Act3Setup_InNeededLevel(_RequiredLevel)
AND
DB_Debug_Act3Setup_FlagPlayer(_Player,_Act3DebugPath)
THEN
SetFlag(_ObjectPathFlag, _Player);

QRY
QRY_Act3Setup_InNeededLevel("")
THEN
DB_NOOP(1);

QRY
QRY_Act3Setup_InNeededLevel((STRING)_RequiredLevel)
AND
DB_CurrentLevel(_RequiredLevel)
THEN
DB_NOOP(1);
//END_REGION

//REGION Flags that need be set on not players
PROC
PROC_GLO_Act3_DebugSetup((FLAG)_Act3DebugPath)
AND
DB_Debug_Act3Setup_ObjectFlags(_Act3DebugPath, (FLAG)CRE_Hatchery_State_HasGithYankiEgg_30e136f5-b082-419f-9675-5310edaf782c, _)
THEN
DB_HasItemEvent(S_CRE_GithyankiEgg_999b6dd7-2901-4604-8280-1931a5217a94, (FLAG)CRE_Hatchery_HasGithYankiEgg_30e136f5-b082-419f-9675-5310edaf782c);
DB_GiveItemToEvent(S_CRE_GithyankiEgg_999b6dd7-2901-4604-8280-1931a5217a94, (FLAG)CRE_Expeditioner_Event_GiveGithEggTo_c7666c11-1970-430a-b04f-847870341af6);
ToInventory(S_CRE_GithyankiEgg_999b6dd7-2901-4604-8280-1931a5217a94, S_GLO_Expeditioner_5f4048ba-72ef-43c2-9528-1c9a12f3f82f, 1, 0, 1);
SetFlag((FLAG)CRE_Hatchery_State_HasGithYankiEgg_30e136f5-b082-419f-9675-5310edaf782c, (CHARACTER)S_GLO_Expeditioner_5f4048ba-72ef-43c2-9528-1c9a12f3f82f);
//END_REGION

//REGION Operations that need to be completed when a previous act ends
// When we leave Act 1 the tavern is always burned down and the goal is disabled
PROC
PROC_GLO_Act3_DebugSetup((FLAG)_)
THEN
PROC_PLA_TryBurnDownTavern();
PROC_SCE_SetupDebrief();
//END_REGION

//REGION Set Delayed flags
//Set Delayed Global Flags
IF
LevelLoaded("BGO_Main_A")
AND
DB_Debug_Act3Setup_FlagPlayer((CHARACTER)_Player,_Act3DebugPath)
AND
QRY_OnlyOnce("Act3Debug_InitialSetupBGO_OnlyOnce")
THEN
PROC_GLO_Act3_DebugSetup_DelayedGlobalFlags(_Act3DebugPath,"BGO_Main_A");
PROC_GLO_Act3_DebugSetup_DelayedObjectFlags(_Player,_Act3DebugPath,"BGO_Main_A");
PROC_GLO_Act3_DebugSetup_PartyAndCamp(_Player,_Act3DebugPath);
PROC_GLO_Act3_DebugSetup_SetCompanionApproval();

IF
LevelLoaded("CTY_Main_A")
AND
DB_Debug_Act3Setup_FlagPlayer((CHARACTER)_Player,_Act3DebugPath)
AND
QRY_OnlyOnce("Act3Debug_InitialSetupCTY_OnlyOnce")
THEN
PROC_GLO_Act3_DebugSetup_DelayedGlobalFlags(_Act3DebugPath,"CTY_Main_A");
PROC_GLO_Act3_DebugSetup_DelayedObjectFlags(_Player,_Act3DebugPath,"CTY_Main_A");

PROC
PROC_GLO_Act3_DebugSetup_DelayedGlobalFlags((FLAG)_Act3DebugPath,(STRING)_LevelLoaded)
AND
DB_Debug_Act3Setup_GlobalFlags(_Act3DebugPath,_GlobalFlag,_LevelLoaded)
THEN
PROC_GlobalSetFlagAndCache(_GlobalFlag);

PROC
PROC_GLO_Act3_DebugSetup_DelayedObjectFlags((CHARACTER)_Player,(FLAG)_Act3DebugPath,(STRING)_LevelLoaded)
AND
DB_Debug_Act3Setup_ObjectFlags(_Act3DebugPath,_ObjectFlag,_LevelLoaded)
THEN
SetFlag(_ObjectFlag, _Player);

// All paths require Ketheric's Netherstone
PROC
PROC_GLO_Act3_DebugSetup_DelayedObjectFlags((CHARACTER)_Player,(FLAG)_Act3DebugPath,"BGO_Main_A")
AND
DB_Debug_Act3Setup_FlagPlayer(_Player, _)
THEN
PROC_ToInventoryAndOnStage(S_COL_CrownController_Ketheric_06b8891b-e71c-423b-8482-2680c3c16a4d, _Player, 1, 0, 1);
//END_REGION

//REGION Party and campers setup once entered BGO_Main_A
// Good
PROC
PROC_GLO_Act3_DebugSetup_PartyAndCamp((CHARACTER)_Player,(FLAG)DBG_Act3_Setup_Good_eecb2a28-fbbb-4e51-856b-8f6a0b1edfbe)
THEN
PROC_DebugBook_RecruitCamp((CHARACTER)S_Player_ShadowHeart_3ed74f06-3c60-42dc-83f6-f034cb47c679, _Player);
PROC_DebugBook_RecruitCamp((CHARACTER)S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, _Player);
PROC_DebugBook_RecruitCamp((CHARACTER)S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, _Player);
PROC_SCE_NightsongIsobelReunion_MoveIsobelToCamp();
PROC_GLO_Act3_DebugSetup_NightsongRecruited();
SetTag(S_Player_ShadowHeart_3ed74f06-3c60-42dc-83f6-f034cb47c679, (TAG)SHADOWHEART_ENEMYOFSHARPATH_8eca8027-996c-4c61-bec6-77f853de295b);
SetFlag(ORI_Wyll_State_IsDevil_f83eee79-271b-4044-947a-d8eb699d734a);
SetTag(S_Player_Wyll_c774d764-4a17-48dc-b470-32ace9ce447d,(TAG)WYLL_DEVIL_5e844f0e-d822-4210-a28e-6af149a7bd4b);
PROC_GLO_Act3_DebugSetup_SetupLaezelOrpheusPath();

// Evil
PROC
PROC_GLO_Act3_DebugSetup_PartyAndCamp((CHARACTER)_Player,(FLAG)DBG_Act3_Setup_Evil_fb046e51-c544-4836-81eb-754ca8a021b6)
THEN
PROC_DebugBook_RecruitCamp((CHARACTER)S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, _Player);
PROC_GLO_Act3_DebugSetup_MintharaCompanionSetup(_Player);
PROC_GLO_Act3_DebugSetup_SetupLaezelVlaakithPath();

// Neutral
PROC
PROC_GLO_Act3_DebugSetup_PartyAndCamp((CHARACTER)_Player,(FLAG)DBG_Act3_Setup_Neutral_b09256fb-4e3f-40c1-a296-19f58aa728f9)
THEN
PROC_SetAnubisConfig(S_GLO_Halsin_7628bc0e-52b8-42a7-856a-13a6fd413323,"DefaultCharacter");
PROC_DebugBook_Event("HalsinRecruitCompanion",_Player);
PROC_GLO_Act3_DebugSetup_NightsongRecruited();
PROC_GLO_Act3_DebugSetup_JaheiraRecruited();
PROC_GLO_Act3_DebugSetup_AstarionCompanionSetup();
PROC_GLO_Act3_DebugSetup_SetupLaezelOrpheusPath();

PROC
PROC_GLO_Act3_DebugSetup_NightsongRecruited()
THEN
PROC_SCE_NightsongIsobelReunion_MoveNightsongToCamp();
PROC_GLO_Nightsong_GiveNightsongEquipment();
PROC_State_Progress(S_GLO_Nightsong_6c55edb0-901b-4ba4-b9e8-3475a8392d9b, "SHA_Nightsong", "SHA_State_Nightsong_KethericDefeated");
RemoveStatus(S_GLO_Nightsong_6c55edb0-901b-4ba4-b9e8-3475a8392d9b,"SHA_NIGHTSONG_SOULCAGE",NULL_00000000-0000-0000-0000-000000000000);
PROC_SceneOver("SCE_IsobelNightsongReunion_Scene_MainReunion");
PROC_SceneOver("SHA_NightsongPrison_MeetingNightsong");

PROC
PROC_GLO_Act3_DebugSetup_JaheiraRecruited()
AND
DB_HAV_Jaheira_StateDialogs(_State,_Dialog)
THEN
NOT DB_HAV_Jaheira_StateDialogs(_State,_Dialog);

PROC
PROC_GLO_Act3_DebugSetup_JaheiraRecruited()
THEN
SetHasDialog(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a,1);
RemoveStatus(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, "HAV_SELUNEOINTMENT");
DB_Dialogs(S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a, (DIALOGRESOURCE)Jaheira_InParty_e97481ba-961c-50a7-c54f-d34d6b75044d);

PROC
PROC_GLO_Act3_DebugSetup_SetupLaezelOrpheusPath()
THEN
PROC_GlobalSetFlagAndCache(ORI_Laezel_State_IsOnOrpheusPath_97244ccc-a6b5-403e-9cfe-a3502eb4af56);
PROC_GlobalSetFlagAndCache((FLAG)PLA_GithChokepoint_State_Cancelled_125f66fd-d046-4daa-ac1c-eb4fc29cfb1c);
PROC_GlobalSetFlagAndCache((FLAG)ORI_Laezel_State_BetrayedByVlaakith_175d8487-99dc-4009-9b45-6e9f29708cd7);
PROC_GlobalSetFlagAndCache((FLAG)ORI_Laezel_Knows_MetVlaakith_c93015c2-6ae4-4013-b439-433b588f881c);
PROC_GlobalSetFlagAndCache((FLAG)CRE_ChainOfCommand_State_SpokeToVlaakith_ee0ba0f7-26a3-4d45-a6fe-c9c1a013f7eb);
PROC_GlobalSetFlagAndCache((FLAG)ORI_Laezel_State_MetVossInAct2_26563f96-bf5a-4895-b63b-036c7571bbbc);
PROC_GlobalSetFlagAndCache((FLAG)ORI_Laezel_State_AgreedWithVossInAct2_63f1a107-a2af-46ec-ac49-a10d0166ac2e);
PROC_GlobalSetFlagAndCache((FLAG)ORI_Laezel_Knows_VossMeetingRaphaelInSharessCaress_d5a087ed-7479-47d1-99e7-6ba9b090f0c5);
ToInventory((ITEM)S_GLO_GithRadar_4aca442e-5ecb-4611-b481-5eaf35596dea, S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, 1, 1, 1);
PROC_DebugBook_Act3_SetupVoss();
QuestUpdate(S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, "ORI_COM_Laezel", "RecruitedLaezel_Cage");
QuestUpdate(S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, "ORI_COM_Laezel", "AskedZevlorAboutZorru");
QuestUpdate(S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, "ORI_COM_Laezel", "ZorruMarkedMap");
QuestUpdate(S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, "ORI_COM_Laezel", "SawDragonRider_KnowsAboutGithyankiPatrol");
QuestUpdate(S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, "ORI_COM_Laezel", "LaezelRanToKnight");
QuestUpdate(S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, "ORI_COM_Laezel", "ChokepointCombatStarted");
QuestUpdate(S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, "ORI_COM_Laezel", "ChokepointDefeated");
QuestUpdate(S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, "ORI_COM_Laezel", "ReadCrecheMap");
QuestUpdate(S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, "ORI_COM_Laezel", "InCrecheRegionWIthHints");
QuestUpdate(S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, "ORI_COM_Laezel", "FoundCrecheLocationWithHints");
QuestUpdate(S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, "ORI_COM_Laezel", "SawGithyankiAtGates");
QuestUpdate(S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, "ORI_COM_Laezel", "EnteredCreche");
QuestUpdate(S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, "ORI_COM_Laezel", "SentToInfirmary");
QuestUpdate(S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, "ORI_COM_Laezel", "FoundInfirmary");
QuestUpdate(S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, "ORI_COM_Laezel", "SpokeToDoctor_WaitingAtDevice");
QuestUpdate(S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, "ORI_COM_Laezel", "UsedDevice_LaezelUsedIt");
QuestUpdate(S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, "ORI_COM_Laezel", "ReportToInquisitior");
QuestUpdate(S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, "ORI_COM_Laezel", "SpokeToVlaakith_LaezelAtPlanecaster");
QuestUpdate(S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, "ORI_COM_Laezel", "EnteredArtefact");
QuestUpdate(S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, "ORI_COM_Laezel", "SpokeToDaisy");
QuestUpdate(S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, "ORI_COM_Laezel", "DefeatInquisitor_AfterAstral");
QuestUpdate(S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, "ORI_COM_Laezel", "VlaakithBetrayal_LaezelPresent");
QuestUpdate(S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, "ORI_COM_Laezel", "CrecheFinished");
QuestUpdate(S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, "ORI_COM_Laezel", "AgreedVoss");
QuestUpdate(S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, "ORI_COM_Laezel", "FinishedIntermezzo");
DB_RelationshipDialog_WRD_TriggerInCamp((DIALOGRESOURCE)INT_Laezel_WRD_AboutOrpheusAfterIntermezzo_54bd43a1-faf4-0143-8d75-2318ea061fbc, (FLAG)NULL_00000000-0000-0000-0000-000000000000);
PROC_RelationshipDialog((CHARACTER)S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12,(DIALOGRESOURCE)INT_Laezel_WRD_AboutOrpheusAfterIntermezzo_54bd43a1-faf4-0143-8d75-2318ea061fbc,(FLAG)NULL_00000000-0000-0000-0000-000000000000, S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, 0);

PROC
PROC_GLO_Act3_DebugSetup_SetupLaezelOrpheusPath()
AND
DB_Avatars(_Avatar)
THEN
SetFlag((FLAG)Laezel_InParty2_Event_AfterOrpheus_8f1f25bf-c0e5-0c2b-000f-4fa68852669f, _Avatar);

PROC
PROC_GLO_Act3_DebugSetup_SetupLaezelVlaakithPath()
THEN
PROC_GlobalClearFlagAndCache(ORI_Laezel_State_IsOnOrpheusPath_97244ccc-a6b5-403e-9cfe-a3502eb4af56);
PROC_GlobalSetFlagAndCache((FLAG)PLA_GithChokepoint_State_Cancelled_125f66fd-d046-4daa-ac1c-eb4fc29cfb1c);
PROC_GlobalSetFlagAndCache((FLAG)ORI_Laezel_State_BetrayedByVlaakith_175d8487-99dc-4009-9b45-6e9f29708cd7);
PROC_GlobalSetFlagAndCache((FLAG)ORI_Laezel_Knows_MetVlaakith_c93015c2-6ae4-4013-b439-433b588f881c);
PROC_GlobalSetFlagAndCache((FLAG)CRE_ChainOfCommand_State_SpokeToVlaakith_ee0ba0f7-26a3-4d45-a6fe-c9c1a013f7eb);
PROC_GlobalSetFlagAndCache((FLAG)ORI_Laezel_State_MetVossInAct2_26563f96-bf5a-4895-b63b-036c7571bbbc);
PROC_GlobalSetFlagAndCache((FLAG)ORI_Laezel_State_RefusedVossInAct2_7ff16fd5-fa94-4ae7-ba2d-e4cef09c9b82);
Die(S_GLO_GithKnight_2adce2df-0799-49dc-b867-ba7ca21e9aea, DEATHTYPE.Physical, NULL_00000000-0000-0000-0000-000000000000, 0, 1, 0.0);
ToInventory((ITEM)S_GLO_GithRadar_4aca442e-5ecb-4611-b481-5eaf35596dea, S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, 1, 1, 1);
SetFlag((FLAG)ORI_Laezel_Knows_VossMeetingRaphaelInSharessCaress_d5a087ed-7479-47d1-99e7-6ba9b090f0c5);
QuestUpdate(S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, "ORI_COM_Laezel", "RecruitedLaezel_Cage");
QuestUpdate(S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, "ORI_COM_Laezel", "AskedZevlorAboutZorru");
QuestUpdate(S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, "ORI_COM_Laezel", "ZorruMarkedMap");
QuestUpdate(S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, "ORI_COM_Laezel", "SawDragonRider_KnowsAboutGithyankiPatrol");
QuestUpdate(S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, "ORI_COM_Laezel", "LaezelRanToKnight");
QuestUpdate(S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, "ORI_COM_Laezel", "ChokepointCombatStarted");
QuestUpdate(S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, "ORI_COM_Laezel", "ChokepointDefeated");
QuestUpdate(S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, "ORI_COM_Laezel", "ReadCrecheMap");
QuestUpdate(S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, "ORI_COM_Laezel", "InCrecheRegionWIthHints");
QuestUpdate(S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, "ORI_COM_Laezel", "FoundCrecheLocationWithHints");
QuestUpdate(S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, "ORI_COM_Laezel", "SawGithyankiAtGates");
QuestUpdate(S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, "ORI_COM_Laezel", "EnteredCreche");
QuestUpdate(S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, "ORI_COM_Laezel", "SentToInfirmary");
QuestUpdate(S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, "ORI_COM_Laezel", "FoundInfirmary");
QuestUpdate(S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, "ORI_COM_Laezel", "SpokeToDoctor_WaitingAtDevice");
QuestUpdate(S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, "ORI_COM_Laezel", "UsedDevice_LaezelUsedIt");
QuestUpdate(S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, "ORI_COM_Laezel", "ReportToInquisitior");
QuestUpdate(S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, "ORI_COM_Laezel", "SpokeToVlaakith_LaezelAtPlanecaster");
QuestUpdate(S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, "ORI_COM_Laezel", "EnteredArtefact");
QuestUpdate(S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, "ORI_COM_Laezel", "SpokeToDaisy");
QuestUpdate(S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, "ORI_COM_Laezel", "DefeatInquisitor_AfterAstral");
QuestUpdate(S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, "ORI_COM_Laezel", "VlaakithBetrayal_LaezelPresent");
QuestUpdate(S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, "ORI_COM_Laezel", "CrecheFinished");
QuestUpdate(S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, "ORI_COM_Laezel", "KilledVoss");
QuestUpdate(S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, "ORI_COM_Laezel", "VossContact");
QuestUpdate(S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, "ORI_COM_Laezel", "FinishedIntermezzo");
DB_RelationshipDialog_WRD_TriggerInCamp((DIALOGRESOURCE)INT_Laezel_WRD_AboutOrpheusAfterIntermezzo_54bd43a1-faf4-0143-8d75-2318ea061fbc, (FLAG)NULL_00000000-0000-0000-0000-000000000000);
PROC_RelationshipDialog((CHARACTER)S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12,(DIALOGRESOURCE)INT_Laezel_WRD_AboutOrpheusAfterIntermezzo_54bd43a1-faf4-0143-8d75-2318ea061fbc,(FLAG)NULL_00000000-0000-0000-0000-000000000000, S_Player_Laezel_58a69333-40bf-8358-1d17-fff240d7fb12, 0);

PROC
PROC_GLO_Act3_DebugSetup_SetupLaezelVlaakithPath()
AND
DB_Avatars(_Avatar)
THEN
SetFlag((FLAG)Laezel_InParty2_Event_AfterOrpheus_8f1f25bf-c0e5-0c2b-000f-4fa68852669f, _Avatar);

//END_REGION

//REGION Kill Characters that need be dead for flow, add items, trigger needed quest updates
PROC
PROC_GLO_Act3_DebugSetup((FLAG)DBG_Act3_Setup_Evil_fb046e51-c544-4836-81eb-754ca8a021b6)
AND
DB_Debug_Act3Setup_FlagPlayer(_Player,_)
THEN
Die((CHARACTER)S_GLO_Desire_8b9fa503-7205-4ddd-bdfa-bfaa781d9ea9, DEATHTYPE.Physical, 1);
Die((CHARACTER)S_GLO_GurHunter_0e47fcb9-c0c4-4b0c-902b-2d13d209e760, DEATHTYPE.Physical, 1);
Die((CHARACTER)S_FOR_UnfortunateGnome_6e45a00b-bad2-40bb-9403-147b9e92d976, DEATHTYPE.Physical, 1);
Die((CHARACTER)S_GOB_Quartermaster_646936f3-8d8d-484e-9361-cd1ed484c615, DEATHTYPE.Physical, 1);
Die((CHARACTER)S_DEN_Bard_4a405fba-3000-4c63-97e5-a8001ebb883c, DEATHTYPE.Physical, 1);
Die((CHARACTER)S_DEN_Tiefling_010_23129d6c-8d39-4a4c-a4f6-cfc6637b597c, DEATHTYPE.Physical, 1);
Die((CHARACTER)S_GLO_Prodigy_b6a3a9e9-b6eb-4c19-ab3f-4c431178fe1b, DEATHTYPE.Physical, 1);
Die((CHARACTER)S_GLO_DoubtingArtist_3ae152be-8ff6-420c-81a0-68d6a55cd5bd, DEATHTYPE.Physical, 1);
Die((CHARACTER)S_GLO_Nightsong_6c55edb0-901b-4ba4-b9e8-3475a8392d9b, DEATHTYPE.Physical, 1);
DB_HasItemEvent(S_GLO_CursedIronFlask_83b010d4-7f1a-448c-9475-176347962cb2, GLO_CursedIronFlask_State_HasFlask_9c9d36f1-eadb-4e45-a4ad-61edf52364a7);
DB_GiveItemToEventWithClear(S_GLO_CursedIronFlask_83b010d4-7f1a-448c-9475-176347962cb2, GLO_CursedIronFlask_Event_GiveFlask_d8cc1663-f56f-44bf-b28c-e99a8b5218ce);
ToInventory(S_GLO_CursedIronFlask_83b010d4-7f1a-448c-9475-176347962cb2, _Player, 1, 1, 1);
PROC_GLO_Act3Setup_UnlockJournal((FLAG)DBG_Act3_Setup_Evil_fb046e51-c544-4836-81eb-754ca8a021b6);

PROC
PROC_GLO_Act3_DebugSetup((FLAG)DBG_Act3_Setup_Neutral_b09256fb-4e3f-40c1-a296-19f58aa728f9)
AND
DB_Debug_Act3Setup_FlagPlayer(_Player,_)
THEN
Die((CHARACTER)S_GLO_ProdigySister_44d09b0b-0568-456c-b18d-559a0a3f981d, DEATHTYPE.Physical, 1);
Die((CHARACTER)S_GLO_ProdigyBrother_d0187724-c0e2-4019-a01d-a03ee8153f1b, DEATHTYPE.Physical, 1);
Die((CHARACTER)S_DEN_Tiefling_010_23129d6c-8d39-4a4c-a4f6-cfc6637b597c, DEATHTYPE.Physical, 1);
Die((CHARACTER)S_GLO_Desire_8b9fa503-7205-4ddd-bdfa-bfaa781d9ea9, DEATHTYPE.Physical, 1);
Die((CHARACTER)S_GLO_Volo_2af25a85-5b9a-4794-85d3-0bd4c4d262fa, DEATHTYPE.Physical, 1);
Die((CHARACTER)S_GLO_Isobel_263bfbfc-6160-46f4-a9e1-1089cdb5c211, DEATHTYPE.Physical, 1);
PROC_GLO_Act3Setup_UnlockJournal((FLAG)DBG_Act3_Setup_Neutral_b09256fb-4e3f-40c1-a296-19f58aa728f9);

PROC
PROC_GLO_Act3_DebugSetup((FLAG)DBG_Act3_Setup_Good_eecb2a28-fbbb-4e51-856b-8f6a0b1edfbe)
AND
DB_Debug_Act3Setup_FlagPlayer(_Player,_)
THEN
DB_HasItemEvent(S_CRE_GithyankiEgg_999b6dd7-2901-4604-8280-1931a5217a94, (FLAG)CRE_Hatchery_HasGithYankiEgg_30e136f5-b082-419f-9675-5310edaf782c);
DB_GiveItemToEvent(S_CRE_GithyankiEgg_999b6dd7-2901-4604-8280-1931a5217a94, (FLAG)CRE_Expeditioner_Event_GiveGithEggTo_c7666c11-1970-430a-b04f-847870341af6);
ToInventory(S_CRE_GithyankiEgg_999b6dd7-2901-4604-8280-1931a5217a94, _Player, 1, 0, 1);
DB_PlayerHasTemplateItem(BOOK_Tome_Thayan_Necromancy_A_Gem_A_f3b79dc6-aa5e-46a9-828e-6f6ce0021c48, (FLAG)FOR_DangerousBook_State_HasTomeKey_49997188-93bc-a8cc-8808-d74efe9191d4);
DB_HasItemEvent(S_FOR_DangerousBook_Tome_73ea8888-ed82-4ca5-b9f9-0c9119873507, (FLAG)FOR_DangerousBook_State_HasTome_4a6e2b36-8bcc-a067-6d1c-51c5cba542d3);
ToInventory(S_FOR_DangerousBook_Key_000_123c268d-ad0c-4df5-905b-a78dacbed80b, _Player);
ToInventory(S_FOR_DangerousBook_Tome_73ea8888-ed82-4ca5-b9f9-0c9119873507, _Player);
ToInventory(S_FOR_ThayanJournal_9339e000-6be5-45c3-868d-7e686c7d2b69, _Player);
TemplateAddTo(LOOT_Ketheric_Infernal_Plate_A_6242490e-42c9-49f0-bc3b-4e7ec11c0fe7, _Player, 2, 1);
PROC_GLO_Act3Setup_UnlockJournal((FLAG)DBG_Act3_Setup_Good_eecb2a28-fbbb-4e51-856b-8f6a0b1edfbe);
//END_REGION

//REGION Go to BGO_Main_A
PROC
PROC_GLO_Act3_DebugSetup((FLAG)_Act3DebugPath)
AND
DB_Debug_Act3Setup_GlobalFlags(_Act3DebugPath, _, _)
AND
DB_Debug_Act3Setup_FlagPlayer((CHARACTER)_Player,_)
THEN
SetFlag(Debug_Teleport_WYR_Start_6440497e-54ba-4056-bdaf-f24c4b892cf9, _Player);

PROC
PROC_GLO_Act3_DebugSetup(_)
THEN
PROC_GlobalSetFlagAndCache((FLAG)VISITEDREGION_WLD_Main_A_925c721d-686b-4fbe-8c3c-d1233bf863b7);
PROC_GlobalSetFlagAndCache((FLAG)VISITEDREGION_CRE_Main_A_c22062f9-2a42-4e19-8c72-34a2d9ff9c0a);
PROC_GlobalSetFlagAndCache((FLAG)VISITEDREGION_SCL_Main_A_f6e72539-9bc6-42e1-a20f-390f3a17ad8d);
PROC_GlobalSetFlagAndCache((FLAG)VISITEDREGION_INT_Main_A_a2e1a618-d211-484e-9389-6b37308b8da1);

//END_REGION

//REGION Unlocking Tadpole Powers
PROC
PROC_GLO_Act3_DebugSetup((FLAG)_Act3DebugPath)
AND
DB_Debug_Act3Setup_GlobalFlags(_Act3DebugPath,_,_)
THEN
DB_GLO_DaisyUnlocked(1);
PROC_GlobalSetFlagAndCache((FLAG)NIGHT_DaisyDream1_52669b07-9584-4c9d-8219-49679811fd4f);
//END_REGION

//REGION Companion-related Setup
PROC
PROC_GLO_Act3_DebugSetup_SetCompanionApproval()
AND
DB_PartOfTheTeam(_Companion)
AND
NOT DB_Avatars(_Companion)
AND
NOT DB_DismissedAvatar(_Companion)
AND
_Companion != S_Player_Jaheira_91b6b200-7d00-4d62-8dc9-99e8339dfa1a
THEN
PROC_ChangeApprovalRatingForAllAvatars(_Companion, 40);

PROC
PROC_GLO_Act3_DebugSetup_AstarionCompanionSetup()
THEN
SetFlag(ORI_Astarion_Knows_Vampireness_43c71ab0-1aca-484a-950d-54106ae46da5);
SetFlag(ORI_Astarion_Knows_Age_3c531283-36e2-420f-9f46-2c6877ca3ddb);
SetFlag(ORI_Astarion_Knows_Birthplace_a7c0119c-8bdc-4de6-a3aa-08bbe51df7da);
SetFlag(ORI_Astarion_Knows_CazadorMaster_7236c69b-fe20-afdb-a6fa-15c1fb9fb6ae);
SetFlag(ORI_Astarion_Knows_CazadorVampireLord_64108cca-c858-443f-a224-04b51e034367);
SetFlag(ORI_Astarion_Knows_Name_d5eb28e2-a706-4126-a14c-b7bd1d1ae95a);


//Halsin
PROC
PROC_GLO_Act3_DebugSetup_PartyAndCamp((CHARACTER)_Player,(FLAG)DBG_Act3_Setup_Neutral_b09256fb-4e3f-40c1-a296-19f58aa728f9)
AND
DB_Players(_Player)
THEN
PROC_RemoveAllDialogEntriesForSpeaker(S_GLO_Halsin_7628bc0e-52b8-42a7-856a-13a6fd413323);
DB_Dialogs(S_GLO_Halsin_7628bc0e-52b8-42a7-856a-13a6fd413323, Halsin_InParty_890c2586-6b71-ca01-5bd6-19d533181c71);
PROC_SpotPlayers_StopSpotting(_Player, "GOB_WolfPens");
PROC_SpotPlayers_StopSpotting(S_GLO_Halsin_7628bc0e-52b8-42a7-856a-13a6fd413323, "GOB_WolfPens");

PROC
PROC_GLO_Act3_DebugSetup_MintharaCompanionSetup((CHARACTER)_Player)
THEN
DB_GLO_TadpoleTreeEnabledForPlayer((CHARACTER)S_GOB_DrowCommander_25721313-0c15-4935-8176-9f134385451b);
PROC_GLO_PartyMembers_AddHook((CHARACTER)S_GOB_DrowCommander_25721313-0c15-4935-8176-9f134385451b, _Player);

//SHADOWHEART

PROC
PROC_GLO_Act3_DebugSetup_PartyAndCamp((CHARACTER)_Player,(FLAG)DBG_Act3_Setup_Evil_fb046e51-c544-4836-81eb-754ca8a021b6)
AND
DB_Players(_Player)
THEN
SetTag(S_Player_ShadowHeart_3ed74f06-3c60-42dc-83f6-f034cb47c679, (TAG)SHADOWHEART_SHARPATH_9624a3fe-bb9e-47c5-b9ab-417e6da6f84b);
PROC_GlobalSetFlagAndCache((FLAG)ShadowHeart_InParty_Knows_SharWorshipper_634f858d-9b54-0711-e31f-075d304422ab);
PROC_GlobalSetFlagAndCache((FLAG)ORI_Shadowheart_Knows_HasSeenWolfDream_f7e48f6a-bc8b-4941-8016-6622956c84f9);
AddCustomVisualOverride((CHARACTER)S_Player_ShadowHeart_3ed74f06-3c60-42dc-83f6-f034cb47c679, (GUIDSTRING)c7f78eb7-6858-4f02-836b-d8c8b56c34fc);
PROC_GlobalSetFlagAndCache((FLAG)ORI_Shadowheart_State_HairChange_2abcff91-1f1e-4853-98e2-ad7d2020158c);

PROC
PROC_GLO_Act3_DebugSetup_PartyAndCamp((CHARACTER)_Player,(FLAG)DBG_Act3_Setup_Good_eecb2a28-fbbb-4e51-856b-8f6a0b1edfbe)
AND
DB_Players(_Player)
THEN
SetTag(S_Player_ShadowHeart_3ed74f06-3c60-42dc-83f6-f034cb47c679, (TAG)SHADOWHEART_ENEMYOFSHARPATH_8eca8027-996c-4c61-bec6-77f853de295b);
PROC_GlobalSetFlagAndCache((FLAG)ShadowHeart_InParty_Knows_SharWorshipper_634f858d-9b54-0711-e31f-075d304422ab);
PROC_GlobalSetFlagAndCache((FLAG)ORI_Shadowheart_Knows_HasSeenWolfDream_f7e48f6a-bc8b-4941-8016-6622956c84f9);
PROC_GlobalSetFlagAndCache((FLAG)ORI_Shadowheart_State_WolfDreamReveal_b3600a36-8b9f-46b0-86f7-f7780b51bc93);
AddCustomVisualOverride((CHARACTER)S_Player_ShadowHeart_3ed74f06-3c60-42dc-83f6-f034cb47c679, (GUIDSTRING)e05b0f79-d3af-41eb-b0b2-1164b6f0debf);
PROC_GlobalSetFlagAndCache((FLAG)ORI_Shadowheart_State_HairChange_2abcff91-1f1e-4853-98e2-ad7d2020158c);
AddCustomMaterialOverride((CHARACTER)S_Player_ShadowHeart_3ed74f06-3c60-42dc-83f6-f034cb47c679, "831f8c8a-4101-4265-ad55-1a57217d2af7");

//END_REGION

//REGION Journal
PROC
PROC_GLO_Act3Setup_UnlockJournal((FLAG)_Act3DebugPath)
AND
GetHostCharacter(_Player)
THEN
QuestUpdate(_Player, "TUT_NautiloidEscape", "EscapedHell"); // universal

PROC
PROC_GLO_Act3Setup_UnlockJournal((FLAG)DBG_Act3_Setup_Good_eecb2a28-fbbb-4e51-856b-8f6a0b1edfbe)
AND
GetHostCharacter(_Player)
THEN
QuestUpdate(_Player, "PLA_ZhentShipment", "Rewarded_ZhentReturned");
QuestUpdate(_Player, "GLO_DoubtingArtist", "ZhentDungeon_MeetArtist");
QuestUpdate(_Player, "GLO_DoubtingArtist", "ZhentDungeon_FreedByPersuade");
QuestUpdate(_Player, "UND_MonkAmulet", "ToldAboutShirra");
QuestUpdate(_Player, "PLA_GrandDukeRescue", "OrderedBreachInn");
QuestUpdate(_Player, "PLA_GrandDukeRescue", "LearnedMoonrise");
QuestUpdate(_Player, "GLO_DealWithTheBrain", "LearnedOfElderBrain");
QuestUpdate(_Player, "GLO_DealWithTheBrain", "LearnedOfDestroyOption");
QuestUpdate(_Player, "GLO_GatherYourAllies", "JaheiraPromisesSupport");
QuestUpdate(_Player, "GLO_GatherYourAllies", "HalsinPromisesSupport");
QuestUpdate(_Player, "WYR_GetGortashGem", "GotKethericGem");
QuestUpdate(_Player, "LOW_FindBhaalTemple", "LearnedAboutOrin");
QuestUpdate(_Player, "SHA_Nightsong", "HeardOf");
QuestUpdate(_Player, "SHA_Nightsong", "NightsongInCamp");
QuestUpdate(_Player, "ORI_COM_ShadowHeart", "SparedNightsong");
QuestUpdate(_Player, "ORI_COM_ShadowHeart", "EnemyOfShar_NightsongMeeting");
QuestUpdate(_Player, "ORI_HighHarper", "FindHarpers");
QuestUpdate(_Player, "GLO_UnleashPowers", "FindUseForTadpole");
QuestUpdate(_Player, "GLO_UnleashPowers", "UseAstralTadpole");

PROC
PROC_GLO_Act3Setup_UnlockJournal((FLAG)DBG_Act3_Setup_Neutral_b09256fb-4e3f-40c1-a296-19f58aa728f9)
AND
GetHostCharacter(_Player)
THEN
QuestUpdate(_Player, "GLO_DoubtingArtist", "ZhentDungeon_MeetArtist");
QuestUpdate(_Player, "UND_MonkAmulet", "ToldAboutShirra");
QuestUpdate(_Player, "PLA_GrandDukeRescue", "OrderedBreachInn");
QuestUpdate(_Player, "PLA_GrandDukeRescue", "LeftRegionAct1");
QuestUpdate(_Player, "GLO_DealWithTheBrain", "LearnedOfElderBrain");
QuestUpdate(_Player, "GLO_DealWithTheBrain", "LearnedOfDestroyOption");
QuestUpdate(_Player, "GLO_GatherYourAllies", "JaheiraPromisesSupport");
QuestUpdate(_Player, "GLO_GatherYourAllies", "HalsinPromisesSupport");
QuestUpdate(_Player, "WYR_GetGortashGem", "GotKethericGem");
QuestUpdate(_Player, "LOW_FindBhaalTemple", "LearnedAboutOrin");
QuestUpdate(_Player, "SHA_Nightsong", "HeardOf");
QuestUpdate(_Player, "SHA_Nightsong", "NightsongInCamp");
QuestUpdate(_Player, "ORI_COM_ShadowHeart", "SparedNightsong");
QuestUpdate(_Player, "ORI_COM_ShadowHeart", "EnemyOfShar_NightsongMeeting");
QuestUpdate(_Player, "ORI_HighHarper", "FindHarpers");
QuestUpdate(_Player, "GLO_UnleashPowers", "FindUseForTadpole");
QuestUpdate(_Player, "GLO_UnleashPowers", "UseAstralTadpole");

PROC
PROC_GLO_Act3Setup_UnlockJournal((FLAG)DBG_Act3_Setup_Evil_fb046e51-c544-4836-81eb-754ca8a021b6)
AND
GetHostCharacter(_Player)
THEN
QuestUpdate(_Player, "GLO_DealWithTheBrain", "LearnedOfElderBrain");
QuestUpdate(_Player, "GLO_DealWithTheBrain", "LearnedOfDestroyOption");
QuestUpdate(_Player, "GLO_GatherYourAllies", "DaisyAdvisesAid");
QuestUpdate(_Player, "WYR_GetGortashGem", "GotKethericGem");
QuestUpdate(_Player, "LOW_FindBhaalTemple", "LearnedAboutOrin");
QuestUpdate(_Player, "SHA_Nightsong", "HeardOf");
QuestUpdate(_Player, "SHA_Nightsong", "NightsongDead");
QuestUpdate(_Player, "ORI_COM_ShadowHeart", "KilledNightsong");
QuestUpdate(_Player, "ORI_COM_ShadowHeart", "SharPath_DefeatedKetheric");
QuestUpdate(_Player, "GLO_UnleashPowers_COMPLETION", "UsedAstralTadpole");
QuestUpdate(_Player, "GLO_DoubtingArtist", "ZhentDungeon_MeetArtist");
QuestUpdate(_Player, "GLO_DoubtingArtist", "ArtistIsDead");
QuestUpdate(_Player, "UND_MonkAmulet", "ToldAboutShirra");
QuestUpdate(_Player, "UND_MonkAmulet", "MadnessIncreased");
QuestUpdate(_Player, "PLA_GrandDukeRescue", "FoundCounsellor");
QuestUpdate(_Player, "PLA_GrandDukeRescue", "Counsellor_RefusedHelp");
QuestUpdate(_Player, "ORI_Avatar_DarkUrge", "Start");
QuestUpdate(_Player, "ORI_Avatar_DarkUrge", "KilledIsobel");
//END_REGION
EXITSECTION

ENDEXITSECTION
ParentTargetEdge "ModWrapper_Gustav"
