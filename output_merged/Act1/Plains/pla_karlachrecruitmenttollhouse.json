{
  "metadata": {
    "individual_metadata": {
      "PAD_FoundKey": {
        "synopsis": "Lines spoken when the player spots a key in the undergrowth near a tollhouse. Different variations depending on what the player already knows about the key.",
        "how_to_trigger": ""
      },
      "PAD_GnollsDead": {
        "synopsis": "Player comment spoken when seeing a pack of dead gnolls",
        "how_to_trigger": ""
      },
      "AD_Refugees": {
        "synopsis": "Dialogue between two refugees who are secretly cultists of Zariel. This dialogue is spoken before the player enters the tollhouse where they are hiding out. If a player enters during the dialogue, they stop talking to address the newcomer.",
        "how_to_trigger": ""
      },
      "PAD_CorpseSmell": {
        "synopsis": "Player characters comment on smelling and seeing a decomposing corpse when entering the cellar of a tollhouse.",
        "how_to_trigger": ""
      },
      "AD_RefugeeGreeting": {
        "synopsis": "A warm greeting as players enter the tollhouse controlled by the faux-paladin's group",
        "how_to_trigger": ""
      },
      "AD_RefugeeAlarm": {
        "synopsis": "A paladin calls to their companions when they see hostile players.",
        "how_to_trigger": ""
      }
    },
    "source_files": [
      "PLA_KarlachRecruitmentTollhouse_PAD_FoundKey.json",
      "PLA_KarlachRecruitmentTollhouse_PAD_GnollsDead.json",
      "PLA_KarlachRecruitmentTollhouse_AD_Refugees.json",
      "PLA_KarlachRecruitmentTollhouse_PAD_CorpseSmell.json",
      "PLA_KarlachRecruitmentTollhouse_AD_RefugeeGreeting.json",
      "PLA_KarlachRecruitmentTollhouse_AD_RefugeeAlarm.json"
    ],
    "automatic_ordering": {
      "reasoning": "After a close look at the descriptions, we can see that some sessions are clearly tied by cause\u2010and\u2010effect or situational triggers. The 'AD_Refugees' scene happens before the player enters the tollhouse, and its dialogue is interrupted if the player enters early. Entering the tollhouse then triggers either a warm greeting (AD_RefugeeGreeting) or, if the player is hostile, an alarm (AD_RefugeeAlarm). Therefore, both AD_RefugeeGreeting and AD_RefugeeAlarm are meant to follow AD_Refugees. Moreover, because these two outcomes are context\u2010dependent (friendly or alarmed), they cannot both occur in the same play\u2010through -- they are mutually exclusive. In addition, once the player is welcomed through AD_RefugeeGreeting, if they continue inside the tollhouse (descending into the cellar), the PAD_CorpseSmell dialogue is triggered. Other sessions (like PAD_FoundKey and PAD_GnollsDead) are triggered by independent events and lack ordering constraints relative to the tollhouse/undergrowth events. Thus, the ordering constraints we can extract are: (1) AD_Refugees before AD_RefugeeGreeting; (2) AD_Refugees before AD_RefugeeAlarm; and (3) AD_RefugeeGreeting must come before PAD_CorpseSmell. Also, AD_RefugeeGreeting and AD_RefugeeAlarm are mutually exclusive.",
      "order": [
        {
          "predecessor": [
            "AD_Refugees"
          ],
          "successor": "AD_RefugeeGreeting"
        },
        {
          "predecessor": [
            "AD_Refugees"
          ],
          "successor": "AD_RefugeeAlarm"
        },
        {
          "predecessor": [
            "AD_RefugeeGreeting"
          ],
          "successor": "PAD_CorpseSmell"
        }
      ],
      "exclusive": [
        [
          "AD_RefugeeGreeting",
          "AD_RefugeeAlarm"
        ]
      ]
    }
  },
  "dialogue": {
    "PAD_FoundKey_0": {
      "id": "PAD_FoundKey_0",
      "speaker": "Player",
      "text": "A key. Wonder what it opens?",
      "context": "NodeContext: curious",
      "checkflags": [],
      "setflags": [],
      "ruletags": [],
      "approval": [],
      "rolls": "",
      "goto": "",
      "link": "",
      "is_end": true,
      "node_type": "normal",
      "children": {}
    },
    "PAD_FoundKey_1": {
      "id": "PAD_FoundKey_1",
      "speaker": "Player",
      "text": "The corpse mentioned a key... this must be the one.",
      "context": "NodeContext: spotting a key",
      "checkflags": [
        "PLA_KarlachRecruitmentTollhouse_Knows_CollectorHadKey"
      ],
      "setflags": [],
      "ruletags": [],
      "approval": [],
      "rolls": "",
      "goto": "",
      "link": "",
      "is_end": true,
      "node_type": "normal",
      "children": {}
    },
    "PAD_FoundKey_2": {
      "id": "PAD_FoundKey_2",
      "speaker": "Player",
      "text": "A key - it might open the tollhouse vault.",
      "context": "NodeContext: curious",
      "checkflags": [
        "PLA_KarlachRecruitmentTollhouse_Knows_VaultDoor"
      ],
      "setflags": [],
      "ruletags": [],
      "approval": [],
      "rolls": "",
      "goto": "",
      "link": "",
      "is_end": true,
      "node_type": "normal",
      "children": {}
    },
    "PAD_GnollsDead_0": {
      "id": "PAD_GnollsDead_0",
      "speaker": "Player",
      "text": "Whatever killed those gnolls might be nearby. Careful.",
      "context": "NodeContext: cautious",
      "checkflags": [],
      "setflags": [],
      "ruletags": [],
      "approval": [],
      "rolls": "",
      "goto": "",
      "link": "",
      "is_end": true,
      "node_type": "normal",
      "children": {}
    },
    "AD_Refugees_2": {
      "id": "AD_Refugees_2",
      "speaker": "Anders",
      "text": "Cut it out. There's worse than gnolls out there.",
      "context": "NodeContext: admonishing a companion, but in a friendly way",
      "checkflags": [],
      "setflags": [],
      "ruletags": [],
      "approval": [],
      "rolls": "",
      "goto": "",
      "link": "",
      "is_end": false,
      "node_type": "normal",
      "children": {
        "AD_Refugees_4": {
          "id": "AD_Refugees_4",
          "speaker": "Trynn",
          "text": "Nothing we need to worry about.",
          "context": "NodeContext: with a smile, overconfident",
          "checkflags": [],
          "setflags": [],
          "ruletags": [],
          "approval": [],
          "rolls": "",
          "goto": "",
          "link": "",
          "is_end": false,
          "node_type": "normal",
          "children": {
            "AD_Refugees_3": {
              "id": "AD_Refugees_3",
              "speaker": "Anders",
              "text": "How about a dragon? Would that worry you?<br>",
              "context": "NodeContext: trying to get a rise out of a companion",
              "checkflags": [],
              "setflags": [],
              "ruletags": [],
              "approval": [],
              "rolls": "",
              "goto": "",
              "link": "",
              "is_end": false,
              "node_type": "normal",
              "children": {
                "AD_Refugees_0": {
                  "id": "AD_Refugees_0",
                  "speaker": "Trynn",
                  "text": "I'd give it a bloody good fight, that's for sure.",
                  "context": "NodeContext: overconfident",
                  "checkflags": [],
                  "setflags": [],
                  "ruletags": [],
                  "approval": [],
                  "rolls": "",
                  "goto": "",
                  "link": "",
                  "is_end": false,
                  "node_type": "normal",
                  "children": {
                    "AD_Refugees_1": {
                      "id": "AD_Refugees_1",
                      "speaker": "Anders",
                      "text": "Ha! Only thing you'd give a dragon is bad gas.",
                      "context": "NodeContext: good-natured laugh",
                      "checkflags": [],
                      "setflags": [],
                      "ruletags": [],
                      "approval": [],
                      "rolls": "",
                      "goto": "",
                      "link": "",
                      "is_end": true,
                      "node_type": "normal",
                      "children": {}
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "PAD_CorpseSmell_0": {
      "id": "PAD_CorpseSmell_0",
      "speaker": "Player",
      "text": "Ugh, that stench. Body must have been here a good while.",
      "context": "NodeContext: just entered a cellar where a decomposing corpse is creating a horrible stench - disgusted",
      "checkflags": [],
      "setflags": [],
      "ruletags": [],
      "approval": [],
      "rolls": "",
      "goto": "",
      "link": "",
      "is_end": true,
      "node_type": "normal",
      "children": {}
    },
    "PAD_CorpseSmell_1": {
      "id": "PAD_CorpseSmell_1",
      "speaker": "Player",
      "text": "Urgh, that smells ripe.",
      "context": "NodeContext: just entered a cellar where a decomposing corpse is creating a horrible stench - disgusted",
      "checkflags": [
        "ORI_Astarion_Knows_Vampireness = False",
        "REALLY_ASTARION"
      ],
      "setflags": [],
      "ruletags": [
        "REALLY_ASTARION"
      ],
      "approval": [],
      "rolls": "",
      "goto": "",
      "link": "",
      "is_end": true,
      "node_type": "normal",
      "children": {}
    },
    "AD_RefugeeGreeting_0": {
      "id": "AD_RefugeeGreeting_0",
      "speaker": "Anders",
      "text": "At ease, friend. You're welcome to rest here.",
      "context": "NodeContext: warm greeting as players enter a building where this man's companions are resting",
      "checkflags": [],
      "setflags": [],
      "ruletags": [],
      "approval": [],
      "rolls": "",
      "goto": "",
      "link": "",
      "is_end": true,
      "node_type": "normal",
      "children": {}
    },
    "AD_RefugeeAlarm_0": {
      "id": "AD_RefugeeAlarm_0",
      "speaker": "",
      "text": "To arms - we've got trouble!",
      "context": "NodeContext: Calling for help to companions nearby",
      "checkflags": [],
      "setflags": [],
      "ruletags": [],
      "approval": [],
      "rolls": "",
      "goto": "",
      "link": "",
      "is_end": true,
      "node_type": "normal",
      "children": {}
    }
  }
}